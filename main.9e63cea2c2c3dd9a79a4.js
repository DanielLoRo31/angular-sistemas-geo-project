(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.f)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.e)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.g)(Object(r.g)([],Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(r.f)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Object(r.h)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.f)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(a,s),a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.has(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=Object(r.h)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new s(t,this.compare,this.keySelector))}}class s extends r.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"0EUg":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("bHdf");function i(){return Object(r.a)(1)}},"1G5W":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("zx2A");function i(t){return e=>e.lift(new o(t))}class o{constructor(t){this.notifier=t}call(t,e){const n=new s(t),i=Object(r.c)(this.notifier,new r.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class s extends r.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp");class o extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return c}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const c=s},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Qeq":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}},"8Y7J":function(t,e,n){"use strict";n.r(e),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",(function(){return Oa})),n.d(e,"APP_BOOTSTRAP_LISTENER",(function(){return ny})),n.d(e,"APP_ID",(function(){return Xm})),n.d(e,"APP_INITIALIZER",(function(){return Km})),n.d(e,"ApplicationInitStatus",(function(){return Gm})),n.d(e,"ApplicationModule",(function(){return Vv})),n.d(e,"ApplicationRef",(function(){return Jy})),n.d(e,"Attribute",(function(){return I})),n.d(e,"COMPILER_OPTIONS",(function(){return Ey})),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",(function(){return pr})),n.d(e,"ChangeDetectionStrategy",(function(){return Rt})),n.d(e,"ChangeDetectorRef",(function(){return vs})),n.d(e,"Compiler",(function(){return _y})),n.d(e,"CompilerFactory",(function(){return Sy})),n.d(e,"Component",(function(){return Pm})),n.d(e,"ComponentFactory",(function(){return nh})),n.d(e,"ComponentFactoryResolver",(function(){return sh})),n.d(e,"ComponentRef",(function(){return eh})),n.d(e,"ContentChild",(function(){return ja})),n.d(e,"ContentChildren",(function(){return xa})),n.d(e,"DEFAULT_CURRENCY_CODE",(function(){return sy})),n.d(e,"DebugElement",(function(){return kv})),n.d(e,"DebugEventListener",(function(){return dv})),n.d(e,"DebugNode",(function(){return Av})),n.d(e,"DefaultIterableDiffer",(function(){return Eh})),n.d(e,"Directive",(function(){return Nm})),n.d(e,"ElementRef",(function(){return ch})),n.d(e,"EmbeddedViewRef",(function(){return hv})),n.d(e,"ErrorHandler",(function(){return fr})),n.d(e,"EventEmitter",(function(){return Og})),n.d(e,"Host",(function(){return S})),n.d(e,"HostBinding",(function(){return Lm})),n.d(e,"HostListener",(function(){return Fm})),n.d(e,"INJECTOR",(function(){return at})),n.d(e,"Inject",(function(){return b})),n.d(e,"InjectFlags",(function(){return O})),n.d(e,"Injectable",(function(){return Fs})),n.d(e,"InjectionToken",(function(){return st})),n.d(e,"Injector",(function(){return ra})),n.d(e,"Input",(function(){return Rm})),n.d(e,"IterableDiffers",(function(){return Ah})),n.d(e,"KeyValueDiffers",(function(){return kh})),n.d(e,"LOCALE_ID",(function(){return oy})),n.d(e,"MissingTranslationStrategy",(function(){return cy})),n.d(e,"ModuleWithComponentFactories",(function(){return dy})),n.d(e,"NO_ERRORS_SCHEMA",(function(){return gr})),n.d(e,"NgModule",(function(){return Wm})),n.d(e,"NgModuleFactory",(function(){return It})),n.d(e,"NgModuleFactoryLoader",(function(){return ev})),n.d(e,"NgModuleRef",(function(){return Ct})),n.d(e,"NgProbeToken",(function(){return Wy})),n.d(e,"NgZone",(function(){return Oy})),n.d(e,"Optional",(function(){return w})),n.d(e,"Output",(function(){return Mm})),n.d(e,"PACKAGE_ROOT_URL",(function(){return ry})),n.d(e,"PLATFORM_ID",(function(){return ey})),n.d(e,"PLATFORM_INITIALIZER",(function(){return ty})),n.d(e,"Pipe",(function(){return Dm})),n.d(e,"PlatformRef",(function(){return Yy})),n.d(e,"Query",(function(){return Ta})),n.d(e,"QueryList",(function(){return xg})),n.d(e,"ReflectiveInjector",(function(){return Ca})),n.d(e,"ReflectiveKey",(function(){return ua})),n.d(e,"Renderer2",(function(){return ph})),n.d(e,"RendererFactory2",(function(){return dh})),n.d(e,"RendererStyleFlags2",(function(){return fh})),n.d(e,"ResolvedReflectiveFactory",(function(){return ma})),n.d(e,"Sanitizer",(function(){return yh})),n.d(e,"SecurityContext",(function(){return oi})),n.d(e,"Self",(function(){return _})),n.d(e,"SimpleChange",(function(){return de})),n.d(e,"SkipSelf",(function(){return E})),n.d(e,"SystemJsNgModuleLoader",(function(){return uv})),n.d(e,"SystemJsNgModuleLoaderConfig",(function(){return sv})),n.d(e,"TRANSLATIONS",(function(){return ay})),n.d(e,"TRANSLATIONS_FORMAT",(function(){return uy})),n.d(e,"TemplateRef",(function(){return Rh})),n.d(e,"Testability",(function(){return Dy})),n.d(e,"TestabilityRegistry",(function(){return Ry})),n.d(e,"Type",(function(){return _s})),n.d(e,"VERSION",(function(){return bh})),n.d(e,"Version",(function(){return vh})),n.d(e,"ViewChild",(function(){return ka})),n.d(e,"ViewChildren",(function(){return Aa})),n.d(e,"ViewContainerRef",(function(){return Fh})),n.d(e,"ViewEncapsulation",(function(){return Ft})),n.d(e,"ViewRef",(function(){return lv})),n.d(e,"WrappedValue",(function(){return wu})),n.d(e,"asNativeElements",(function(){return gv})),n.d(e,"assertPlatform",(function(){return Ky})),n.d(e,"createPlatform",(function(){return Qy})),n.d(e,"createPlatformFactory",(function(){return $y})),n.d(e,"defineInjectable",(function(){return A})),n.d(e,"destroyPlatform",(function(){return Gy})),n.d(e,"enableProdMode",(function(){return Pr})),n.d(e,"forwardRef",(function(){return H})),n.d(e,"getDebugNode",(function(){return Ov})),n.d(e,"getModuleFactory",(function(){return iv})),n.d(e,"getPlatform",(function(){return Xy})),n.d(e,"inject",(function(){return bt})),n.d(e,"isDevMode",(function(){return Nr})),n.d(e,"platformCore",(function(){return Nv})),n.d(e,"resolveForwardRef",(function(){return z})),n.d(e,"setTestabilityGetter",(function(){return Ly})),n.d(e,"\u02750",(function(){return v})),n.d(e,"\u02751",(function(){return C})),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",(function(){return zy})),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",(function(){return Zm})),n.d(e,"\u0275ChangeDetectorStatus",(function(){return Mt})),n.d(e,"\u0275CodegenComponentFactoryResolver",(function(){return ah})),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",(function(){return by})),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",(function(){return yy})),n.d(e,"\u0275Compiler_compileModuleAsync__POST_R3__",(function(){return gy})),n.d(e,"\u0275Compiler_compileModuleSync__POST_R3__",(function(){return fy})),n.d(e,"\u0275ComponentFactory",(function(){return nh})),n.d(e,"\u0275Console",(function(){return iy})),n.d(e,"\u0275DEFAULT_LOCALE_ID",(function(){return Yf})),n.d(e,"\u0275EMPTY_ARRAY",(function(){return Rd})),n.d(e,"\u0275EMPTY_MAP",(function(){return Md})),n.d(e,"\u0275INJECTOR_IMPL__POST_R3__",(function(){return ea})),n.d(e,"\u0275INJECTOR_SCOPE",(function(){return qs})),n.d(e,"\u0275LifecycleHooksFeature",(function(){return su})),n.d(e,"\u0275LocaleDataIndex",(function(){return Gf})),n.d(e,"\u0275NG_COMP_DEF",(function(){return J})),n.d(e,"\u0275NG_DIR_DEF",(function(){return tt})),n.d(e,"\u0275NG_ELEMENT_ID",(function(){return ot})),n.d(e,"\u0275NG_INJ_DEF",(function(){return M})),n.d(e,"\u0275NG_MOD_DEF",(function(){return nt})),n.d(e,"\u0275NG_PIPE_DEF",(function(){return et})),n.d(e,"\u0275NG_PROV_DEF",(function(){return R})),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",(function(){return xf})),n.d(e,"\u0275NO_CHANGE",(function(){return Mi})),n.d(e,"\u0275NgModuleFactory",(function(){return eg})),n.d(e,"\u0275NoopNgZone",(function(){return Py})),n.d(e,"\u0275ReflectionCapabilities",(function(){return Ts})),n.d(e,"\u0275Render3ComponentFactory",(function(){return Ff})),n.d(e,"\u0275Render3ComponentRef",(function(){return Vf})),n.d(e,"\u0275Render3NgModuleRef",(function(){return tg})),n.d(e,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",(function(){return bs})),n.d(e,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",(function(){return Vm})),n.d(e,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",(function(){return Um})),n.d(e,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",(function(){return Vs})),n.d(e,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",(function(){return Qm})),n.d(e,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",(function(){return qm})),n.d(e,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",(function(){return lh})),n.d(e,"\u0275SWITCH_IVY_ENABLED__POST_R3__",(function(){return ly})),n.d(e,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",(function(){return gh})),n.d(e,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",(function(){return Mh})),n.d(e,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",(function(){return Vh})),n.d(e,"\u0275_sanitizeHtml",(function(){return ri})),n.d(e,"\u0275_sanitizeUrl",(function(){return Vr})),n.d(e,"\u0275allowSanitizationBypassAndThrow",(function(){return Sr})),n.d(e,"\u0275and",(function(){return Uv})),n.d(e,"\u0275angular_packages_core_core_a",(function(){return W})),n.d(e,"\u0275angular_packages_core_core_b",(function(){return mt})),n.d(e,"\u0275angular_packages_core_core_ba",(function(){return Fe})),n.d(e,"\u0275angular_packages_core_core_bb",(function(){return Be})),n.d(e,"\u0275angular_packages_core_core_bc",(function(){return Ye})),n.d(e,"\u0275angular_packages_core_core_bd",(function(){return gn})),n.d(e,"\u0275angular_packages_core_core_bf",(function(){return fg})),n.d(e,"\u0275angular_packages_core_core_bg",(function(){return pg})),n.d(e,"\u0275angular_packages_core_core_bh",(function(){return gg})),n.d(e,"\u0275angular_packages_core_core_bi",(function(){return mg})),n.d(e,"\u0275angular_packages_core_core_bj",(function(){return yg})),n.d(e,"\u0275angular_packages_core_core_bk",(function(){return hi})),n.d(e,"\u0275angular_packages_core_core_bl",(function(){return m})),n.d(e,"\u0275angular_packages_core_core_bm",(function(){return y})),n.d(e,"\u0275angular_packages_core_core_bn",(function(){return T})),n.d(e,"\u0275angular_packages_core_core_bp",(function(){return Fi})),n.d(e,"\u0275angular_packages_core_core_bq",(function(){return Up})),n.d(e,"\u0275angular_packages_core_core_c",(function(){return Et})),n.d(e,"\u0275angular_packages_core_core_d",(function(){return Ia})),n.d(e,"\u0275angular_packages_core_core_e",(function(){return fa})),n.d(e,"\u0275angular_packages_core_core_f",(function(){return ba})),n.d(e,"\u0275angular_packages_core_core_g",(function(){return Ym})),n.d(e,"\u0275angular_packages_core_core_h",(function(){return ps})),n.d(e,"\u0275angular_packages_core_core_i",(function(){return gs})),n.d(e,"\u0275angular_packages_core_core_j",(function(){return nv})),n.d(e,"\u0275angular_packages_core_core_k",(function(){return fv})),n.d(e,"\u0275angular_packages_core_core_l",(function(){return pv})),n.d(e,"\u0275angular_packages_core_core_m",(function(){return Tv})),n.d(e,"\u0275angular_packages_core_core_n",(function(){return wh})),n.d(e,"\u0275angular_packages_core_core_o",(function(){return Th})),n.d(e,"\u0275angular_packages_core_core_p",(function(){return Pv})),n.d(e,"\u0275angular_packages_core_core_q",(function(){return Dv})),n.d(e,"\u0275angular_packages_core_core_r",(function(){return Rv})),n.d(e,"\u0275angular_packages_core_core_s",(function(){return Lv})),n.d(e,"\u0275angular_packages_core_core_t",(function(){return Fv})),n.d(e,"\u0275angular_packages_core_core_u",(function(){return Zf})),n.d(e,"\u0275angular_packages_core_core_v",(function(){return _f})),n.d(e,"\u0275angular_packages_core_core_w",(function(){return Yh})),n.d(e,"\u0275angular_packages_core_core_x",(function(){return pe})),n.d(e,"\u0275angular_packages_core_core_y",(function(){return Lf})),n.d(e,"\u0275angular_packages_core_core_z",(function(){return Jn})),n.d(e,"\u0275bypassSanitizationTrustHtml",(function(){return Ir})),n.d(e,"\u0275bypassSanitizationTrustResourceUrl",(function(){return jr})),n.d(e,"\u0275bypassSanitizationTrustScript",(function(){return Tr})),n.d(e,"\u0275bypassSanitizationTrustStyle",(function(){return Or})),n.d(e,"\u0275bypassSanitizationTrustUrl",(function(){return xr})),n.d(e,"\u0275ccf",(function(){return Gd})),n.d(e,"\u0275clearOverrides",(function(){return pw})),n.d(e,"\u0275clearResolutionOfComponentResourcesQueue",(function(){return Ma})),n.d(e,"\u0275cmf",(function(){return gw})),n.d(e,"\u0275compileComponent",(function(){return gm})),n.d(e,"\u0275compileDirective",(function(){return mm})),n.d(e,"\u0275compileNgModule",(function(){return im})),n.d(e,"\u0275compileNgModuleDefs",(function(){return om})),n.d(e,"\u0275compileNgModuleFactory__POST_R3__",(function(){return qy})),n.d(e,"\u0275compilePipe",(function(){return Am})),n.d(e,"\u0275createInjector",(function(){return $s})),n.d(e,"\u0275crt",(function(){return od})),n.d(e,"\u0275defaultIterableDiffers",(function(){return Ph})),n.d(e,"\u0275defaultKeyValueDiffers",(function(){return Dh})),n.d(e,"\u0275detectChanges",(function(){return Va})),n.d(e,"\u0275devModeEqual",(function(){return bu})),n.d(e,"\u0275did",(function(){return vf})),n.d(e,"\u0275eld",(function(){return qv})),n.d(e,"\u0275findLocaleData",(function(){return zf})),n.d(e,"\u0275flushModuleScopingQueueAsMuchAsPossible",(function(){return nm})),n.d(e,"\u0275getComponentViewDefinitionFactory",(function(){return Xd})),n.d(e,"\u0275getDebugNodeR2",(function(){return xv})),n.d(e,"\u0275getDebugNode__POST_R3__",(function(){return Iv})),n.d(e,"\u0275getDirectives",(function(){return Qa})),n.d(e,"\u0275getHostElement",(function(){return Ka})),n.d(e,"\u0275getInjectableDef",(function(){return N})),n.d(e,"\u0275getLContext",(function(){return mi})),n.d(e,"\u0275getLocaleCurrencyCode",(function(){return Wf})),n.d(e,"\u0275getLocalePluralCase",(function(){return Qf})),n.d(e,"\u0275getModuleFactory__POST_R3__",(function(){return rv})),n.d(e,"\u0275getSanitizationBypassType",(function(){return Cr})),n.d(e,"\u0275global",(function(){return X})),n.d(e,"\u0275initServicesIfNeeded",(function(){return jb})),n.d(e,"\u0275inlineInterpolate",(function(){return Pd})),n.d(e,"\u0275interpolate",(function(){return Nd})),n.d(e,"\u0275isBoundToModule__POST_R3__",(function(){return Hy})),n.d(e,"\u0275isDefaultChangeDetectionStrategy",(function(){return Lt})),n.d(e,"\u0275isListLikeIterable",(function(){return _u})),n.d(e,"\u0275isObservable",(function(){return lc})),n.d(e,"\u0275isPromise",(function(){return cc})),n.d(e,"\u0275ivyEnabled",(function(){return hy})),n.d(e,"\u0275makeDecorator",(function(){return p})),n.d(e,"\u0275markDirty",(function(){return Ua})),n.d(e,"\u0275mod",(function(){return Bd})),n.d(e,"\u0275mpd",(function(){return qd})),n.d(e,"\u0275ncd",(function(){return Yv})),n.d(e,"\u0275noSideEffects",(function(){return l})),n.d(e,"\u0275nov",(function(){return uf})),n.d(e,"\u0275overrideComponentView",(function(){return fw})),n.d(e,"\u0275overrideProvider",(function(){return dw})),n.d(e,"\u0275pad",(function(){return tb})),n.d(e,"\u0275patchComponentDefWithScope",(function(){return lm})),n.d(e,"\u0275pid",(function(){return bf})),n.d(e,"\u0275pod",(function(){return eb})),n.d(e,"\u0275ppd",(function(){return Jv})),n.d(e,"\u0275prd",(function(){return wf})),n.d(e,"\u0275publishDefaultGlobalUtils",(function(){return tu})),n.d(e,"\u0275publishGlobalUtil",(function(){return eu})),n.d(e,"\u0275qud",(function(){return Qv})),n.d(e,"\u0275registerLocaleData",(function(){return Hf})),n.d(e,"\u0275registerModuleFactory",(function(){return Xp})),n.d(e,"\u0275registerNgModuleType",(function(){return Zp})),n.d(e,"\u0275renderComponent",(function(){return nu})),n.d(e,"\u0275resetCompiledComponents",(function(){return um})),n.d(e,"\u0275resetJitOptions",(function(){return Zg})),n.d(e,"\u0275resolveComponentResources",(function(){return Na})),n.d(e,"\u0275setClassMetadata",(function(){return Kp})),n.d(e,"\u0275setCurrentInjector",(function(){return pt})),n.d(e,"\u0275setDocument",(function(){return _e})),n.d(e,"\u0275setLocaleId",(function(){return tp})),n.d(e,"\u0275store",(function(){return Gu})),n.d(e,"\u0275stringify",(function(){return U})),n.d(e,"\u0275ted",(function(){return rb})),n.d(e,"\u0275transitiveScopesFor",(function(){return hm})),n.d(e,"\u0275unregisterLocaleData",(function(){return Kf})),n.d(e,"\u0275unv",(function(){return nd})),n.d(e,"\u0275unwrapSafeValue",(function(){return Er})),n.d(e,"\u0275vid",(function(){return sb})),n.d(e,"\u0275whenRendered",(function(){return au})),n.d(e,"\u0275\u0275CopyDefinitionFeature",(function(){return mu})),n.d(e,"\u0275\u0275InheritDefinitionFeature",(function(){return cu})),n.d(e,"\u0275\u0275NgOnChangesFeature",(function(){return fe})),n.d(e,"\u0275\u0275ProvidersFeature",(function(){return th})),n.d(e,"\u0275\u0275advance",(function(){return Bi})),n.d(e,"\u0275\u0275attribute",(function(){return ju})),n.d(e,"\u0275\u0275attributeInterpolate1",(function(){return Vu})),n.d(e,"\u0275\u0275attributeInterpolate2",(function(){return Uu})),n.d(e,"\u0275\u0275attributeInterpolate3",(function(){return qu})),n.d(e,"\u0275\u0275attributeInterpolate4",(function(){return Bu})),n.d(e,"\u0275\u0275attributeInterpolate5",(function(){return Hu})),n.d(e,"\u0275\u0275attributeInterpolate6",(function(){return zu})),n.d(e,"\u0275\u0275attributeInterpolate7",(function(){return Wu})),n.d(e,"\u0275\u0275attributeInterpolate8",(function(){return Qu})),n.d(e,"\u0275\u0275attributeInterpolateV",(function(){return $u})),n.d(e,"\u0275\u0275classMap",(function(){return Kc})),n.d(e,"\u0275\u0275classMapInterpolate1",(function(){return vl})),n.d(e,"\u0275\u0275classMapInterpolate2",(function(){return bl})),n.d(e,"\u0275\u0275classMapInterpolate3",(function(){return wl})),n.d(e,"\u0275\u0275classMapInterpolate4",(function(){return _l})),n.d(e,"\u0275\u0275classMapInterpolate5",(function(){return El})),n.d(e,"\u0275\u0275classMapInterpolate6",(function(){return Sl})),n.d(e,"\u0275\u0275classMapInterpolate7",(function(){return Cl})),n.d(e,"\u0275\u0275classMapInterpolate8",(function(){return Il})),n.d(e,"\u0275\u0275classMapInterpolateV",(function(){return Ol})),n.d(e,"\u0275\u0275classProp",(function(){return Wc})),n.d(e,"\u0275\u0275contentQuery",(function(){return qg})),n.d(e,"\u0275\u0275defineComponent",(function(){return Bt})),n.d(e,"\u0275\u0275defineDirective",(function(){return Xt})),n.d(e,"\u0275\u0275defineInjectable",(function(){return j})),n.d(e,"\u0275\u0275defineInjector",(function(){return k})),n.d(e,"\u0275\u0275defineNgModule",(function(){return $t})),n.d(e,"\u0275\u0275definePipe",(function(){return Yt})),n.d(e,"\u0275\u0275directiveInject",(function(){return Yu})),n.d(e,"\u0275\u0275disableBindings",(function(){return qe})),n.d(e,"\u0275\u0275element",(function(){return ic})),n.d(e,"\u0275\u0275elementContainer",(function(){return ac})),n.d(e,"\u0275\u0275elementContainerEnd",(function(){return sc})),n.d(e,"\u0275\u0275elementContainerStart",(function(){return oc})),n.d(e,"\u0275\u0275elementEnd",(function(){return rc})),n.d(e,"\u0275\u0275elementStart",(function(){return nc})),n.d(e,"\u0275\u0275enableBindings",(function(){return Ue})),n.d(e,"\u0275\u0275getCurrentView",(function(){return uc})),n.d(e,"\u0275\u0275getFactoryOf",(function(){return ur})),n.d(e,"\u0275\u0275getInheritedFactory",(function(){return cr})),n.d(e,"\u0275\u0275hostProperty",(function(){return Wl})),n.d(e,"\u0275\u0275i18n",(function(){return Hp})),n.d(e,"\u0275\u0275i18nApply",(function(){return Qp})),n.d(e,"\u0275\u0275i18nAttributes",(function(){return zp})),n.d(e,"\u0275\u0275i18nEnd",(function(){return Bp})),n.d(e,"\u0275\u0275i18nExp",(function(){return Wp})),n.d(e,"\u0275\u0275i18nPostprocess",(function(){return $p})),n.d(e,"\u0275\u0275i18nStart",(function(){return qp})),n.d(e,"\u0275\u0275inject",(function(){return yt})),n.d(e,"\u0275\u0275injectAttribute",(function(){return Zu})),n.d(e,"\u0275\u0275injectPipeChangeDetectorRef",(function(){return Gg})),n.d(e,"\u0275\u0275invalidFactory",(function(){return Ju})),n.d(e,"\u0275\u0275invalidFactoryDep",(function(){return vt})),n.d(e,"\u0275\u0275listener",(function(){return hc})),n.d(e,"\u0275\u0275loadQuery",(function(){return zg})),n.d(e,"\u0275\u0275namespaceHTML",(function(){return _n})),n.d(e,"\u0275\u0275namespaceMathML",(function(){return wn})),n.d(e,"\u0275\u0275namespaceSVG",(function(){return bn})),n.d(e,"\u0275\u0275nextContext",(function(){return mc})),n.d(e,"\u0275\u0275pipe",(function(){return vg})),n.d(e,"\u0275\u0275pipeBind1",(function(){return bg})),n.d(e,"\u0275\u0275pipeBind2",(function(){return wg})),n.d(e,"\u0275\u0275pipeBind3",(function(){return _g})),n.d(e,"\u0275\u0275pipeBind4",(function(){return Eg})),n.d(e,"\u0275\u0275pipeBindV",(function(){return Sg})),n.d(e,"\u0275\u0275projection",(function(){return _c})),n.d(e,"\u0275\u0275projectionDef",(function(){return vc})),n.d(e,"\u0275\u0275property",(function(){return tc})),n.d(e,"\u0275\u0275propertyInterpolate",(function(){return Ec})),n.d(e,"\u0275\u0275propertyInterpolate1",(function(){return Sc})),n.d(e,"\u0275\u0275propertyInterpolate2",(function(){return Cc})),n.d(e,"\u0275\u0275propertyInterpolate3",(function(){return Ic})),n.d(e,"\u0275\u0275propertyInterpolate4",(function(){return Oc})),n.d(e,"\u0275\u0275propertyInterpolate5",(function(){return Tc})),n.d(e,"\u0275\u0275propertyInterpolate6",(function(){return xc})),n.d(e,"\u0275\u0275propertyInterpolate7",(function(){return jc})),n.d(e,"\u0275\u0275propertyInterpolate8",(function(){return Ac})),n.d(e,"\u0275\u0275propertyInterpolateV",(function(){return kc})),n.d(e,"\u0275\u0275pureFunction0",(function(){return ng})),n.d(e,"\u0275\u0275pureFunction1",(function(){return rg})),n.d(e,"\u0275\u0275pureFunction2",(function(){return ig})),n.d(e,"\u0275\u0275pureFunction3",(function(){return og})),n.d(e,"\u0275\u0275pureFunction4",(function(){return sg})),n.d(e,"\u0275\u0275pureFunction5",(function(){return ag})),n.d(e,"\u0275\u0275pureFunction6",(function(){return ug})),n.d(e,"\u0275\u0275pureFunction7",(function(){return cg})),n.d(e,"\u0275\u0275pureFunction8",(function(){return lg})),n.d(e,"\u0275\u0275pureFunctionV",(function(){return hg})),n.d(e,"\u0275\u0275queryRefresh",(function(){return Lg})),n.d(e,"\u0275\u0275reference",(function(){return Xu})),n.d(e,"\u0275\u0275resolveBody",(function(){return Hn})),n.d(e,"\u0275\u0275resolveDocument",(function(){return Bn})),n.d(e,"\u0275\u0275resolveWindow",(function(){return qn})),n.d(e,"\u0275\u0275restoreView",(function(){return ze})),n.d(e,"\u0275\u0275sanitizeHtml",(function(){return si})),n.d(e,"\u0275\u0275sanitizeResourceUrl",(function(){return ci})),n.d(e,"\u0275\u0275sanitizeScript",(function(){return li})),n.d(e,"\u0275\u0275sanitizeStyle",(function(){return ai})),n.d(e,"\u0275\u0275sanitizeUrl",(function(){return ui})),n.d(e,"\u0275\u0275sanitizeUrlOrResourceUrl",(function(){return di})),n.d(e,"\u0275\u0275setComponentScope",(function(){return Ht})),n.d(e,"\u0275\u0275setNgModuleScope",(function(){return Kt})),n.d(e,"\u0275\u0275staticContentQuery",(function(){return Bg})),n.d(e,"\u0275\u0275staticViewQuery",(function(){return Fg})),n.d(e,"\u0275\u0275styleMap",(function(){return Qc})),n.d(e,"\u0275\u0275styleMapInterpolate1",(function(){return Tl})),n.d(e,"\u0275\u0275styleMapInterpolate2",(function(){return xl})),n.d(e,"\u0275\u0275styleMapInterpolate3",(function(){return jl})),n.d(e,"\u0275\u0275styleMapInterpolate4",(function(){return Al})),n.d(e,"\u0275\u0275styleMapInterpolate5",(function(){return kl})),n.d(e,"\u0275\u0275styleMapInterpolate6",(function(){return Nl})),n.d(e,"\u0275\u0275styleMapInterpolate7",(function(){return Pl})),n.d(e,"\u0275\u0275styleMapInterpolate8",(function(){return Dl})),n.d(e,"\u0275\u0275styleMapInterpolateV",(function(){return Rl})),n.d(e,"\u0275\u0275styleProp",(function(){return zc})),n.d(e,"\u0275\u0275stylePropInterpolate1",(function(){return Ml})),n.d(e,"\u0275\u0275stylePropInterpolate2",(function(){return Ll})),n.d(e,"\u0275\u0275stylePropInterpolate3",(function(){return Fl})),n.d(e,"\u0275\u0275stylePropInterpolate4",(function(){return Vl})),n.d(e,"\u0275\u0275stylePropInterpolate5",(function(){return Ul})),n.d(e,"\u0275\u0275stylePropInterpolate6",(function(){return ql})),n.d(e,"\u0275\u0275stylePropInterpolate7",(function(){return Bl})),n.d(e,"\u0275\u0275stylePropInterpolate8",(function(){return Hl})),n.d(e,"\u0275\u0275stylePropInterpolateV",(function(){return zl})),n.d(e,"\u0275\u0275syntheticHostListener",(function(){return dc})),n.d(e,"\u0275\u0275syntheticHostProperty",(function(){return Ql})),n.d(e,"\u0275\u0275template",(function(){return Ku})),n.d(e,"\u0275\u0275templateRefExtractor",(function(){return Kg})),n.d(e,"\u0275\u0275text",(function(){return al})),n.d(e,"\u0275\u0275textInterpolate",(function(){return ul})),n.d(e,"\u0275\u0275textInterpolate1",(function(){return cl})),n.d(e,"\u0275\u0275textInterpolate2",(function(){return ll})),n.d(e,"\u0275\u0275textInterpolate3",(function(){return hl})),n.d(e,"\u0275\u0275textInterpolate4",(function(){return dl})),n.d(e,"\u0275\u0275textInterpolate5",(function(){return fl})),n.d(e,"\u0275\u0275textInterpolate6",(function(){return pl})),n.d(e,"\u0275\u0275textInterpolate7",(function(){return gl})),n.d(e,"\u0275\u0275textInterpolate8",(function(){return ml})),n.d(e,"\u0275\u0275textInterpolateV",(function(){return yl})),n.d(e,"\u0275\u0275viewQuery",(function(){return Vg}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("oB13"),u=n("x+ZX");function c(){return new r.a}function l(t){return{toString:t}.toString()}const h="__annotations__",d="__parameters__",f="__prop__metadata__";function p(t,e,n,r,i){return l(()=>{const o=g(e);function s(...t){if(this instanceof s)return o.call(this,...t),this;const e=new s(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(h)?n[h]:Object.defineProperty(n,h,{value:[]})[h]).push(e),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}function g(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function m(t,e,n){return l(()=>{const r=g(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(d)?t[d]:Object.defineProperty(t,d,{value:[]})[d];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function y(t,e,n,r){return l(()=>{const i=g(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(f)?o[f]:Object.defineProperty(o,f,{value:{}})[f];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const v=t=>({token:t}),b=m("Inject",v),w=m("Optional"),_=m("Self"),E=m("SkipSelf"),S=m("Host"),C=t=>({attributeName:t}),I=m("Attribute",C);var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function T(t){for(let e in t)if(t[e]===T)return e;throw Error("Could not find renamed property on target object.")}function x(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const A=j;function k(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function N(t){return P(t,t[R])||P(t,t[F])}function P(t,e){return e&&e.token===t?e:null}function D(t){return t&&(t.hasOwnProperty(M)||t.hasOwnProperty(V))?t[M]:null}const R=T({"\u0275prov":T}),M=T({"\u0275inj":T}),L=T({"\u0275provFallback":T}),F=T({ngInjectableDef:T}),V=T({ngInjectorDef:T});function U(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(U).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function q(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const B=T({__forward_ref__:T});function H(t){return t.__forward_ref__=H,t.toString=function(){return U(this())},t}function z(t){return W(t)?t():t}function W(t){return"function"==typeof t&&t.hasOwnProperty(B)&&t.__forward_ref__===H}const Q="undefined"!=typeof globalThis&&globalThis,$="undefined"!=typeof window&&window,K="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G="undefined"!=typeof global&&global,X=Q||G||$||K;var Y=function(t){return t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.ChangeDetectorRef=2]="ChangeDetectorRef",t[t.Invalid=3]="Invalid",t}({});function Z(){const t=X.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const J=T({"\u0275cmp":T}),tt=T({"\u0275dir":T}),et=T({"\u0275pipe":T}),nt=T({"\u0275mod":T}),rt=T({"\u0275loc":T}),it=T({"\u0275fac":T}),ot=T({__NG_ELEMENT_ID__:T});class st{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=j({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const at=new st("INJECTOR",-1),ut={},ct=/\n/gm,lt="__source",ht=T({provide:String,useValue:T});let dt,ft=void 0;function pt(t){const e=ft;return ft=t,e}function gt(t){const e=dt;return dt=t,e}function mt(t,e=O.Default){if(void 0===ft)throw new Error("inject() must be called from an injection context");return null===ft?wt(t,void 0,e):ft.get(t,e&O.Optional?null:void 0,e)}function yt(t,e=O.Default){return(dt||mt)(z(t),e)}function vt(t){throw new Error("invalid")}const bt=yt;function wt(t,e,n){const r=N(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&O.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${U(t)}]`)}function _t(t){const e=[];for(let n=0;n<t.length;n++){const r=z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof w||"Optional"===i.ngMetadataName||i===w?n|=O.Optional:i instanceof E||"SkipSelf"===i.ngMetadataName||i===E?n|=O.SkipSelf:i instanceof _||"Self"===i.ngMetadataName||i===_?n|=O.Self:t=i instanceof b||i===b?i.token:i}e.push(yt(t,n))}else e.push(yt(r))}return e}class Et{get(t,e=ut){if(e===ut){const e=new Error(`NullInjectorError: No provider for ${U(t)}!`);throw e.name="NullInjectorError",e}return e}}const St={"\u0275\u0275defineInjectable":j,"\u0275\u0275defineInjector":k,"\u0275\u0275inject":yt,"\u0275\u0275getFactoryOf":function t(e){const n=e;if(W(e))return()=>{const e=t(z(n));return e?e():null};const r=N(n)||D(n);return r&&void 0!==r.factory?r.factory:null},"\u0275\u0275invalidFactoryDep":vt};class Ct{}class It{}function Ot(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function Tt(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Tt(r,e)):e!==t&&e.push(r)}return e}function xt(t,e){t.forEach(t=>Array.isArray(t)?xt(t,e):e(t))}function jt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function At(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function kt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Nt(t,e,n){let r=Dt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Pt(t,e){const n=Dt(t,e);if(n>=0)return t[1|n]}function Dt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var Rt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Mt=function(t){return t[t.CheckOnce=0]="CheckOnce",t[t.Checked=1]="Checked",t[t.CheckAlways=2]="CheckAlways",t[t.Detached=3]="Detached",t[t.Errored=4]="Errored",t[t.Destroyed=5]="Destroyed",t}({});function Lt(t){return null==t||t===Rt.Default}var Ft=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Vt={},Ut=[];let qt=0;function Bt(t){return l(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Rt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ut,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ft.Emulated,id:"c",styles:t.styles||Ut,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=qt++,n.inputs=Gt(t.inputs,e),n.outputs=Gt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(zt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Wt):null,n})}function Ht(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(zt),r.pipeDefs=()=>n.map(Wt)}function zt(t){return Zt(t)||Jt(t)}function Wt(t){return te(t)}const Qt={};function $t(t){const e={type:t.type,bootstrap:t.bootstrap||Ut,declarations:t.declarations||Ut,imports:t.imports||Ut,exports:t.exports||Ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&l(()=>{Qt[t.id]=t.type}),e}function Kt(t,e){return l(()=>{const n=ne(t,!0);n.declarations=e.declarations||Ut,n.imports=e.imports||Ut,n.exports=e.exports||Ut})}function Gt(t,e){if(null==t)return Vt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Xt=Bt;function Yt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Zt(t){return t[J]||null}function Jt(t){return t[tt]||null}function te(t){return t[et]||null}function ee(t,e){return t.hasOwnProperty(it)?t[it]:null}function ne(t,e){const n=t[nt]||null;if(!n&&!0===e)throw new Error(`Type ${U(t)} does not have '\u0275mod' property.`);return n}const re=20,ie=10;function oe(t){return Array.isArray(t)&&"object"==typeof t[1]}function se(t){return Array.isArray(t)&&!0===t[1]}function ae(t){return 0!=(8&t.flags)}function ue(t){return 2==(2&t.flags)}function ce(t){return 1==(1&t.flags)}function le(t){return null!==t.template}function he(t){return 0!=(512&t[2])}class de{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function fe(){return pe}function pe(t){return t.type.prototype.ngOnChanges&&(t.setInput=me),ge}function ge(){const t=ye(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Vt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function me(t,e,n,r){const i=ye(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Vt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new de(u&&u.currentValue,e,s===Vt),t[r]=e}function ye(t){return t.__ngSimpleChanges__||null}fe.ngInherit=!0;const ve="http://www.w3.org/2000/svg",be="http://www.w3.org/1998/MathML/";let we=void 0;function _e(t){we=t}function Ee(){return void 0!==we?we:"undefined"!=typeof document?document:void 0}function Se(t){return!!t.listen}const Ce={createRenderer:(t,e)=>Ee()};function Ie(t){for(;Array.isArray(t);)t=t[0];return t}function Oe(t,e){return Ie(e[t+re])}function Te(t,e){return Ie(e[t.index])}function xe(t,e){return t.data[e+re]}function je(t,e){return t[e+re]}function Ae(t,e){const n=e[t];return oe(n)?n:n[0]}function ke(t){return t.__ngContext__||null}function Ne(t){const e=ke(t);return e?Array.isArray(e)?e:e.lView:null}function Pe(t){return 4==(4&t[2])}function De(t){return 128==(128&t[2])}function Re(t,e){return null===t||null==e?null:t[e]}function Me(t){t[18]=0}function Le(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Fe={lFrame:hn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ve(){return Fe.bindingsEnabled}function Ue(){Fe.bindingsEnabled=!0}function qe(){Fe.bindingsEnabled=!1}function Be(){return Fe.lFrame.lView}function He(){return Fe.lFrame.tView}function ze(t){Fe.lFrame.contextLView=t}function We(){return Fe.lFrame.currentTNode}function Qe(t,e){Fe.lFrame.currentTNode=t,Fe.lFrame.isParent=e}function $e(){return Fe.lFrame.isParent}function Ke(){Fe.lFrame.isParent=!1}function Ge(){return Fe.checkNoChangesMode}function Xe(t){Fe.checkNoChangesMode=t}function Ye(){const t=Fe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ze(){return Fe.lFrame.bindingIndex}function Je(t){return Fe.lFrame.bindingIndex=t}function tn(){return Fe.lFrame.bindingIndex++}function en(t){const e=Fe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function nn(t,e){const n=Fe.lFrame;n.bindingIndex=n.bindingRootIndex=t,rn(e)}function rn(t){Fe.lFrame.currentDirectiveIndex=t}function on(t){const e=Fe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function sn(){return Fe.lFrame.currentQueryIndex}function an(t){Fe.lFrame.currentQueryIndex=t}function un(t,e){const n=ln();Fe.lFrame=n,n.currentTNode=e,n.lView=t}function cn(t){const e=ln(),n=t[1];Fe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function ln(){const t=Fe.lFrame,e=null===t?null:t.child;return null===e?hn(t):e}function hn(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function dn(){const t=Fe.lFrame;return Fe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fn=dn;function pn(){const t=dn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gn(t){return(Fe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Fe.lFrame.contextLView))[8]}function mn(){return Fe.lFrame.selectedIndex}function yn(t){Fe.lFrame.selectedIndex=t}function vn(){const t=Fe.lFrame;return xe(t.tView,t.selectedIndex)}function bn(){Fe.lFrame.currentNamespace=ve}function wn(){Fe.lFrame.currentNamespace=be}function _n(){Fe.lFrame.currentNamespace=null}function En(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Sn(t,e,n){On(t,e,3,n)}function Cn(t,e,n,r){(3&t[2])===n&&On(t,e,n,r)}function In(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function On(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Tn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Tn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const xn=-1;class jn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function An(t,e,n){const r=Se(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Nn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function kn(t){return 3===t||4===t||6===t}function Nn(t){return 64===t.charCodeAt(0)}function Pn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Dn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Dn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Rn(t){return t!==xn}function Mn(t){return 32767&t}function Ln(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function Fn(t){return"string"==typeof t?t:null==t?"":""+t}function Vn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Fn(t)}const Un=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(X))();function qn(t){return{name:"window",target:t.ownerDocument.defaultView}}function Bn(t){return{name:"document",target:t.ownerDocument}}function Hn(t){return{name:"body",target:t.ownerDocument.body}}function zn(t){return t instanceof Function?t():t}let Wn=!0;function Qn(t){const e=Wn;return Wn=t,e}let $n=0;function Kn(t,e){const n=Xn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Gn(r.data,t),Gn(e,null),Gn(r.blueprint,null));const i=Yn(t,e),o=t.injectorIndex;if(Rn(i)){const t=Mn(i),n=Ln(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Gn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Xn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Yn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return xn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xn}function Zn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ot)&&(r=n[ot]),null==r&&(r=n[ot]=$n++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Jn(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(kn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}function tr(t,e,n,r=O.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ot)?t[ot]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){un(e,t);try{const t=i();if(null!=t||r&O.Optional)return t;throw new Error(`No provider for ${Vn(n)}!`)}finally{fn()}}else if("number"==typeof i){if(-1===i)return new ar(t,e);let o=null,s=Xn(t,e),a=xn,u=r&O.Host?e[16][6]:null;for((-1===s||r&O.SkipSelf)&&(a=-1===s?Yn(t,e):e[s+8],a!==xn&&sr(r,!1)?(o=e[1],s=Mn(a),e=Ln(a,e)):s=-1);-1!==s;){const t=e[1];if(or(i,s,t.data)){const t=nr(s,e,n,o,r,u);if(t!==er)return t}a=e[s+8],a!==xn&&sr(r,e[1].data[s+8]===u)&&or(i,s,e)?(o=t,s=Mn(a),e=Ln(a,e)):s=-1}}}if(r&O.Optional&&void 0===i&&(i=null),0==(r&(O.Self|O.Host))){const t=e[9],o=gt(void 0);try{return t?t.get(n,i,r&O.Optional):wt(n,i,r&O.Optional)}finally{gt(o)}}if(r&O.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Vn(n)}]`)}const er={};function nr(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=rr(a,s,n,null==r?ue(a)&&Wn:r!=s&&2===a.type,i&O.Host&&o===a);return null!==u?ir(e,s,u,a):er}function rr(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&le(t)&&t.type===n)return u}return null}function ir(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof jn){const s=i;if(s.resolving)throw new Error("Circular dep for "+Vn(o[n]));const a=Qn(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?gt(s.injectImpl):null;un(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=pe(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&gt(u),Qn(a),s.resolving=!1,fn()}}return i}function or(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function sr(t,e){return!(t&O.Self||t&O.Host&&e)}class ar{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return tr(this._tNode,this._lView,t,void 0,e)}}function ur(t){const e=t;if(W(t))return()=>{const t=ur(z(e));return t?t():null};let n=ee(e);if(null===n){const t=D(e);n=t&&t.factory}return n||null}function cr(t){return l(()=>{const e=t.prototype.constructor,n=e[it]||ur(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[it]||ur(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function lr(t){return t.ngDebugContext}function hr(t){return t.ngOriginalError}function dr(t,...e){t.error(...e)}class fr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||dr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?lr(t)?lr(t):this._findContext(hr(t)):null}_findOriginalError(t){let e=hr(t);for(;e&&hr(e);)e=hr(e);return e}}const pr={name:"custom-elements"},gr={name:"no-errors-schema"};class mr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class yr extends mr{getTypeName(){return"HTML"}}class vr extends mr{getTypeName(){return"Style"}}class br extends mr{getTypeName(){return"Script"}}class wr extends mr{getTypeName(){return"URL"}}class _r extends mr{getTypeName(){return"ResourceURL"}}function Er(t){return t instanceof mr?t.changingThisBreaksApplicationSecurity:t}function Sr(t,e){const n=Cr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Cr(t){return t instanceof mr&&t.getTypeName()||null}function Ir(t){return new yr(t)}function Or(t){return new vr(t)}function Tr(t){return new br(t)}function xr(t){return new wr(t)}function jr(t){return new _r(t)}let Ar=!0,kr=!1;function Nr(){return kr=!0,Ar}function Pr(){if(kr)throw new Error("Cannot enable prod mode after platform setup.");Ar=!1}function Dr(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Rr:new Mr(t)}class Rr{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Mr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Lr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Vr(t){return(t=String(t)).match(Lr)||t.match(Fr)?t:(Nr()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Ur(t){return(t=String(t)).split(",").map(t=>Vr(t.trim())).join(", ")}function qr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Br(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Hr=qr("area,br,col,hr,img,wbr"),zr=qr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wr=qr("rp,rt"),Qr=Br(Wr,zr),$r=Br(Hr,Br(zr,qr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Br(Wr,qr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qr),Kr=qr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gr=qr("srcset"),Xr=Br(Kr,Gr,qr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yr=qr("script,style,template");class Zr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!$r.hasOwnProperty(e))return this.sanitizedSomething=!0,!Yr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!Xr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;Kr[i]&&(o=Vr(o)),Gr[i]&&(o=Ur(o)),this.buf.push(" ",e,'="',ei(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();$r.hasOwnProperty(e)&&!Hr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ei(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Jr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ti=/([^\#-~ |!])/g;function ei(t){return t.replace(/&/g,"&amp;").replace(Jr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ti,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ni;function ri(t,e){let n=null;try{ni=ni||Dr(t);let r=e?String(e):"";n=ni.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ni.getInertBodyElement(r)}while(r!==o);const s=new Zr,a=s.sanitizeChildren(ii(n)||n);return Nr()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=ii(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ii(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var oi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function si(t){const e=fi();return e?e.sanitize(oi.HTML,t)||"":Sr(t,"HTML")?Er(t):ri(Ee(),Fn(t))}function ai(t){const e=fi();return e?e.sanitize(oi.STYLE,t)||"":Sr(t,"Style")?Er(t):Fn(t)}function ui(t){const e=fi();return e?e.sanitize(oi.URL,t)||"":Sr(t,"URL")?Er(t):Vr(Fn(t))}function ci(t){const e=fi();if(e)return e.sanitize(oi.RESOURCE_URL,t)||"";if(Sr(t,"ResourceURL"))return Er(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function li(t){const e=fi();if(e)return e.sanitize(oi.SCRIPT,t)||"";if(Sr(t,"Script"))return Er(t);throw new Error("unsafe value used in a script context")}function hi(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?ci:ui}function di(t,e,n){return hi(e,n)(t)}function fi(){const t=Be();return t&&t[12]}const pi=/([A-Z])/g;function gi(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function mi(t){let e=ke(t);if(e){if(Array.isArray(e)){const r=e;let i,o=void 0,s=void 0;if((n=t)&&n.constructor&&n.constructor.\u0275cmp){if(i=Ei(r,t),-1==i)throw new Error("The provided component was not found in the application");o=t}else if(function(t){return t&&t.constructor&&t.constructor.\u0275dir}(t)){if(i=function(t,e){let n=t[1].firstChild;for(;n;){const r=n.directiveEnd;for(let i=n.directiveStart;i<r;i++)if(t[i]===e)return n.index;n=_i(n)}return-1}(r,t),-1==i)throw new Error("The provided directive was not found in the application");s=Si(i,r,!1)}else if(i=wi(r,t),-1==i)return null;const a=Ie(r[i]),u=ke(a),c=u&&!Array.isArray(u)?u:yi(r,i,a);if(o&&void 0===c.component&&(c.component=o,bi(c.component,c)),s&&void 0===c.directives){c.directives=s;for(let t=0;t<s.length;t++)bi(s[t],c)}bi(c.native,c),e=c}}else{const n=t;let r=n;for(;r=r.parentNode;){const t=ke(r);if(t){let r;if(r=Array.isArray(t)?t:t.lView,!r)return null;const i=wi(r,n);if(i>=0){const t=Ie(r[i]),n=yi(r,i,t);bi(t,n),e=n;break}}}}var n;return e||null}function yi(t,e,n){return{lView:t,nodeIndex:e,native:n,component:void 0,directives:void 0,localRefs:void 0}}function vi(t){let e,n=ke(t);if(Array.isArray(n)){const r=Ei(n,t);e=Ae(r,n);const i=yi(n,r,e[0]);i.component=t,bi(t,i),bi(i.native,i)}else e=Ae(n.nodeIndex,n.lView);return e}function bi(t,e){t.__ngContext__=e}function wi(t,e){const n=t[1];for(let r=re;r<n.bindingStartIndex;r++)if(Ie(t[r])===e)return r;return-1}function _i(t){if(t.child&&t.child.parent===t)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function Ei(t,e){const n=t[1].components;if(n)for(let r=0;r<n.length;r++){const i=n[r];if(Ae(i,t)[8]===e)return i}else if(Ae(re,t)[8]===e)return re;return-1}function Si(t,e,n){const r=e[1].data[t];let i=r.directiveStart;return 0==i?Ut:(!n&&2&r.flags&&i++,e.slice(i,r.directiveEnd))}function Ci(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Ii="ng-template";function Oi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Ci(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ti(t){return 0===t.type&&t.tagName!==Ii}function xi(t,e,n){return e===(0!==t.type||n?t.tagName:Ii)}function ji(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(kn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!xi(t,u,n)||""===u&&1===e.length){if(Ai(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Oi(t.attrs,c,n)){if(Ai(r))return!1;s=!0}continue}const l=ki(8&r?"class":u,i,Ti(t),n);if(-1===l){if(Ai(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Ci(e,c,0)||2&r&&c!==t){if(Ai(r))return!1;s=!0}}}}else{if(!s&&!Ai(r)&&!Ai(u))return!1;if(s&&Ai(u))continue;s=!1,r=u|1&r}}return Ai(r)||s}function Ai(t){return 0==(1&t)}function ki(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ni(t,e,n=!1){for(let r=0;r<e.length;r++)if(ji(t,e[r],n))return!0;return!1}function Pi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Di(t,e){return t?":not("+e.trim()+")":e}function Ri(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Ai(s)||(e+=Di(o,i),i=""),r=s,o=o||!Ai(r);n++}return""!==i&&(e+=Di(o,i)),e}const Mi={};function Li(t){const e=t[3];return se(e)?e[3]:e}function Fi(t){return function(t){let e=oe(t)?t:Ne(t);for(;e&&!(512&e[2]);)e=Li(e);return e}(t)[8]}function Vi(t){return qi(t[13])}function Ui(t){return qi(t[4])}function qi(t){for(;null!==t&&!se(t);)t=t[4];return t}function Bi(t){Hi(He(),Be(),mn()+t,Ge())}function Hi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Sn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Cn(e,r,0,n)}yn(n)}function zi(t,e){return t<<17|e<<2}function Wi(t){return t>>17&32767}function Qi(t){return 2|t}function $i(t){return(131068&t)>>2}function Ki(t,e){return-131069&t|e<<2}function Gi(t){return 1|t}const Xi=(()=>Promise.resolve(null))();function Yi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];an(i),n.contentQueries(2,e[o],o)}}}function Zi(t,e,n){return Se(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ji(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Me(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function to(t,e,n,r,i){const o=e+re,s=t.data[o]||function(t,e,n,r,i){const o=We(),s=$e(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return Qe(s,!0),s}function eo(t,e,n){cn(e);try{const r=t.viewQuery;null!==r&&Mo(1,r,n);const i=t.template;null!==i&&io(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Yi(t,e),t.staticViewQueries&&Mo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ao(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,pn()}}function no(t,e,n,r){const i=e[2];if(256==(256&i))return;cn(e);const o=Ge();try{Me(e),Je(t.bindingStartIndex),null!==n&&io(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Sn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Cn(e,n,0,null),In(e,0)}if(function(t){for(let e=Vi(t);null!==e;e=Ui(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Le(r,1),n[2]|=1024}}}(e),function(t){for(let e=Vi(t);null!==e;e=Ui(e))for(let t=ie;t<e.length;t++){const n=e[t],r=n[1];De(n)&&no(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Yi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Sn(e,n)}else{const n=t.contentHooks;null!==n&&Cn(e,n,1),In(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,yn(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(nn(r,i),s(2,e[i])),i++)}}}finally{yn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)jo(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Mo(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Sn(e,n)}else{const n=t.viewHooks;null!==n&&Cn(e,n,2),In(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Le(e[3],-1))}finally{pn()}}function ro(t,e,n,r){const i=e[10],o=!Ge(),s=Pe(e);try{o&&!s&&i.begin&&i.begin(),s&&eo(t,e,r),no(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function io(t,e,n,r,i){const o=mn();try{yn(-1),2&r&&e.length>re&&Hi(t,e,0,Ge()),n(r,i)}finally{yn(o)}}function oo(t,e,n){if(ae(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function so(t,e,n){Ve()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Kn(n,e),bi(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=le(r);o&&Co(e,n,r);const u=ir(e,t,a,n);bi(u,e),null!==s&&Oo(0,a-i,u,r,0,s),o&&(Ae(n.index,e)[8]=u)}}(t,e,n,Te(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-re,u=Fe.lFrame.currentDirectiveIndex;try{yn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];rn(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?vo(r,i):s&&o.push(null)}}finally{yn(-1),rn(u)}}(t,e,n))}function ao(t,e,n=Te){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function uo(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=co(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function co(t,e,n,r,i,o,s,a,u,c){const l=re+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Mi);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function lo(t,e,n){if(Se(t))return t.selectRootElement(e,n===Ft.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}function ho(t,e,n,r){const i=Fo(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function fo(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function po(t,e,n,r,i,o,s,a){const u=Te(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(qo(t,n,c,r,i),ue(e)&&function(t,e){const n=Ae(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,Se(o)?o.setProperty(u,r,i):Nn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function go(t,e,n,r){let i=!1;if(Ve()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Ni(n,s.selectors,!1)&&(i||(i=[]),Zn(Kn(n,e),t,s.type),le(s)?(wo(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Eo(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}bo(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Pn(n.mergedAttrs,c.hostAttrs),So(t,e,c),_o(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-re),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-re),u=!0),mo(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Ti(e)?null:To(n,i);o.push(c),s=fo(n,u,s),a=fo(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),yo(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Pn(n.mergedAttrs,n.attrs),i}function mo(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function yo(t,e,n){for(let r=0;r<n;r++)e.push(Mi),t.blueprint.push(Mi),t.data.push(null)}function vo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function bo(t,e,n){const r=re-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function wo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function _o(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;le(e)&&(n[""]=t)}}function Eo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function So(t,e,n){t.data.push(n);const r=n.factory||(n.factory=ee(n.type)),i=new jn(r,le(n),null);t.blueprint.push(i),e.push(i)}function Co(t,e,n){const r=Te(e,t),i=uo(n),o=t[10],s=ko(t,Ji(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Io(t,e,n,r,i,o){const s=Te(t,e),a=e[11];if(null==r)Se(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Fn(r):i(r,t.tagName||"",n);Se(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}function Oo(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function To(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function xo(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function jo(t,e){const n=Ae(e,t);if(De(n)){const t=n[1];80&n[2]?no(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Vi(e);null!==r;r=Ui(r))for(let e=ie;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];no(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Ae(n[r],e);De(i)&&i[5]>0&&t(i)}}(n)}}function Ao(t,e){const n=Ae(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),eo(r,n,n[8])}function ko(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function No(t){for(;t;){t[2]|=64;const e=Li(t);if(he(t)&&!e)return t;t=e}return null}function Po(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ne(n),i=r[1];ro(i,r,i.template,n)}}function Do(t,e,n){const r=e[10];r.begin&&r.begin();try{no(t,e,t.template,n)}catch(i){throw Uo(e,i),i}finally{r.end&&r.end()}}function Ro(t){Po(t[8])}function Mo(t,e,n){an(0),e(t,n)}const Lo=Xi;function Fo(t){return t[7]||(t[7]=[])}function Vo(t,e,n){return(null===t||le(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Uo(t,e){const n=t[9],r=n?n.get(fr,null):null;r&&r.handleError(e)}function qo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Bo(t,e,n){const r=Oe(e,t),i=t[11];Se(i)?i.setValue(r,n):r.textContent=n}function Ho(t,e,n,r,i){if(null!=r){let o,s=!1;se(r)?o=r:oe(r)&&(s=!0,r=r[0]);const a=Ie(r);0===t&&null!==n?null==i?Yo(e,n,a):Xo(e,n,a,i||null):1===t&&null!==n?Xo(e,n,a,i||null):2===t?ns(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Ie(n)&&Ho(e,t,r,o,i);for(let s=ie;s<n.length;s++){const i=n[s];is(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function zo(t,e){return Se(e)?e.createText(t):e.createTextNode(t)}function Wo(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Le(i,-1)),n.splice(r,1)}function Qo(t,e){if(t.length<=ie)return;const n=ie+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Wo(o,r),e>0&&(t[n-1][4]=r[4]);const s=At(t,ie+e);is(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function $o(t,e){if(!(256&e[2])){const n=e[11];Se(n)&&n.destroyNode&&is(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ko(t[1],t);for(;e;){let n=null;if(oe(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)oe(e)&&Ko(e[1],e),e=e[3];null===e&&(e=t),oe(e)&&Ko(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ko(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof jn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Ie(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Se(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&se(e[3])){n!==e[3]&&Wo(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Go(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return Te(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Ft.ShadowDom&&n!==Ft.Native)return null}return Te(r,n)}function Xo(t,e,n,r){Se(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Yo(t,e,n){Se(t)?t.appendChild(e,n):e.appendChild(n)}function Zo(t,e,n,r){null!==r?Xo(t,e,n,r):Yo(t,e,n)}function Jo(t,e){return Se(t)?t.parentNode(e):e.parentNode}function ts(t,e){return 3===t.type||4===t.type?Te(t,e):null}function es(t,e,n,r){const i=Go(t,r,e);if(null!=i){const t=e[11],o=ts(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Zo(t,i,n[e],o);else Zo(t,i,n,o)}}function ns(t,e,n){const r=Jo(t,e);r&&function(t,e,n,r){Se(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function rs(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&bi(Ie(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(rs(t,e,n.child,r,i,o,!1),Ho(e,t,i,a,o)):1===u?ss(t,e,r,n,i,o):Ho(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function is(t,e,n,r,i,o){rs(n,r,t.firstChild,e,i,o,!1)}function os(t,e,n){ss(e[11],0,e,n,Go(t,n,e),ts(n.parent||e[6],e))}function ss(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ho(e,t,i,a[u],o);else rs(t,e,a,s[3],i,o,!0)}function as(t,e,n){Se(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function us(t,e,n){Se(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class cs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Ie(s)),se(s))for(let e=ie;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Li(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}$o(this._lView[1],this._lView)}onDestroy(t){ho(this._lView[1],this._lView,null,t)}markForCheck(){No(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Do(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xe(!0);try{Do(t,e,n)}finally{Xe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,is(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ls extends cs{constructor(t){super(t),this._view=t}detectChanges(){Ro(this._view)}checkNoChanges(){!function(t){Xe(!0);try{Ro(t)}finally{Xe(!1)}}(this._view)}get context(){return null}}let hs,ds,fs;function ps(t,e,n){return hs||(hs=class extends t{}),new hs(Te(e,n))}function gs(t,e,n,r){return ds||(ds=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ji(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),eo(e,n,t),new cs(n)}}),0===n.type?new ds(r,n,ps(e,n,r)):null}function ms(t,e,n,r){let i;fs||(fs=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return ps(e,this._hostTNode,this._hostView)}get injector(){return new ar(this._hostTNode,this._hostView)}get parentInjector(){const t=Yn(this._hostTNode,this._hostView);if(Rn(t)){const e=Ln(t,this._hostView),n=Mn(t);return new ar(e[1].data[n+8],e)}return new ar(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-ie}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ct,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),se(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new fs(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ie+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ie?(e[4]=n[i],jt(n,ie+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=ie+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return Te(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return se(e)?t(-1,e):Ie(e)}}{const t=n[16],i=t[6],o=Li(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],u=Jo(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,is(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),jt(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Qo(this._lContainer,e);n&&(At(this._lContainer[8],e),$o(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Qo(this._lContainer,e);return n&&null!=At(this._lContainer[8],e)?new cs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(se(o))i=o;else{let t;if(3===n.type)t=Ie(o);else if(t=r[11].createComment(""),he(r)){const e=r[11],i=Te(n,r);Xo(e,Jo(e,i),t,function(t,e){return Se(t)?t.nextSibling(e):e.nextSibling}(e,i))}else es(r[1],r,t,n);r[n.index]=i=xo(o,r,t,n),ko(r,i)}return new fs(i,n,r)}function ys(t=!1){return function(t,e,n){if(!n&&ue(t)){const n=Ae(t.index,e);return new cs(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new cs(e[16],e):null}(We(),Be(),t)}let vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ws(),t})();const bs=ys,ws=bs,_s=Function;function Es(t){return"function"==typeof t}const Ss=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,Cs=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Is=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Os=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Ts{constructor(t){this._reflect=t||X.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=kt(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),Ss.test(n)||Os.test(n)||Cs.test(n)&&!Is.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&xs(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(d)&&t[d],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||i?this._zipTypesAndAnnotations(o,i):kt(t.length)}parameters(t){if(!Es(t))return[];const e=js(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?xs(t.decorators):t.hasOwnProperty(h)?t[h]:null}annotations(t){if(!Es(t))return[];const e=js(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=xs(e[t])}),n}return t.hasOwnProperty(f)?t[f]:null}propMetadata(t){if(!Es(t))return{};const e=js(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Es(t)&&this._ownPropMetadata(t,js(t))||{}}hasLifecycleHook(t,e){return t instanceof _s&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+U(t)}resourceUri(t){return"./"+U(t)}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function xs(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function js(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}let As=null;function ks(){return As=As||new Ts}function Ns(t){return Ps(ks().parameters(t))}function Ps(t){const e=Z();return t.map(t=>function(t,e){const n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)&&e.length>0)for(let i=0;i<e.length;i++){const o=e[i];if(void 0===o)continue;const s=Object.getPrototypeOf(o);if(o instanceof w||"Optional"===s.ngMetadataName)n.optional=!0;else if(o instanceof E||"SkipSelf"===s.ngMetadataName)n.skipSelf=!0;else if(o instanceof _||"Self"===s.ngMetadataName)n.self=!0;else if(o instanceof S||"Host"===s.ngMetadataName)n.host=!0;else if(o instanceof b)n.token=o.token;else if(o instanceof I){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else o===vs?(n.token=o,n.resolved=t.R3ResolvedDependencyType.ChangeDetectorRef):r(o)}else void 0===e||Array.isArray(e)&&0===e.length?(n.token=void 0,n.resolved=Y.Invalid):r(e);return n}(e,t))}const Ds=T({provide:String,useValue:T});function Rs(t){return void 0!==t.useClass}function Ms(t){return void 0!==t.useFactory}function Ls(t,e){const n=e||{providedIn:null},r={name:t.name,type:t,typeArgumentCount:0,providedIn:n.providedIn,userDeps:void 0};return(Rs(n)||Ms(n))&&void 0!==n.deps&&(r.userDeps=Ps(n.deps)),Rs(n)?r.useClass=z(n.useClass):function(t){return Ds in t}(n)?r.useValue=z(n.useValue):Ms(n)?r.useFactory=n.useFactory:function(t){return void 0!==t.useExisting}(n)&&(r.useExisting=z(n.useExisting)),r}const Fs=p("Injectable",void 0,void 0,void 0,(t,e)=>Us(t,e)),Vs=function(t,e){let n=null,r=null;t.hasOwnProperty(R)||(Object.defineProperty(t,R,{get:()=>(null===n&&(n=Z().compileInjectable(St,`ng:///${t.name}/\u0275prov.js`,Ls(t,e))),n)}),t.hasOwnProperty(L)||(t[L]=()=>t[R])),t.hasOwnProperty(it)||Object.defineProperty(t,it,{get:()=>{if(null===r){const n=Ls(t,e),i=Z();r=i.compileFactory(St,`ng:///${t.name}/\u0275fac.js`,{name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:Ns(t),injectFn:"inject",target:i.R3FactoryTarget.Injectable})}return r},configurable:!0})},Us=Vs,qs=new st("Set Injector scope."),Bs={},Hs={},zs=[];let Ws=void 0;function Qs(){return void 0===Ws&&(Ws=new Et),Ws}function $s(t,e=null,n=null,r){const i=Ks(t,e,n,r);return i._resolveInjectorDefTypes(),i}function Ks(t,e=null,n=null,r){return new Gs(t,n,e||Qs(),r)}class Gs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&xt(e,n=>this.processProvider(n,t,e)),xt([t],t=>this.processInjectorType(t,[],i)),this.records.set(at,Zs(void 0,this));const o=this.records.get(qs);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:U(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ut,n=O.Default){this.assertNotDestroyed();const r=pt(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof st)&&N(t);e=n&&this.injectableDefInScope(n)?Zs(Xs(t),Bs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?Qs():this.parent).get(t,e=n&O.Optional&&e===ut?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(U(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[lt]&&i.unshift(e[lt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=U(e);if(Array.isArray(e))i=e.map(U).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):U(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ct,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{pt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(U(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=z(t)))return!1;let r=D(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=D(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{xt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];xt(r,t=>this.processProvider(t,n,r||zs))}}this.injectorDefTypes.add(o),this.records.set(o,Zs(r.factory,Bs));const a=r.providers;if(null!=a&&!s){const e=t;xt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ta(t=z(t))?t:z(t&&t.provide);const i=function(t,e,n){return Js(t)?Zs(void 0,t.useValue):Zs(Ys(t),Bs)}(t);if(ta(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Zs(void 0,Bs,!0),e.factory=()=>_t(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Bs&&(e.value=Hs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Xs(t){const e=N(t),n=null!==e?e.factory:ee(t);if(null!==n)return n;const r=D(t);if(null!==r)return r.factory;if(t instanceof st)throw new Error(`Token ${U(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=kt(e,"?");throw new Error(`Can't resolve all parameters for ${U(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[R]||t[F]||t[L]&&t[L]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ys(t,e,n){let r=void 0;if(ta(t)){const e=z(t);return ee(e)||Xs(e)}if(Js(t))r=()=>z(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(..._t(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>yt(z(t.useExisting));else{const e=z(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ee(e)||Xs(e);r=()=>new e(..._t(t.deps))}var i;return r}function Zs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Js(t){return null!==t&&"object"==typeof t&&ht in t}function ta(t){return"function"==typeof t}function ea(t,e,n){return $s({name:n},e,t,n)}const na=ea;let ra=(()=>{class t{static create(t,e){return Array.isArray(t)?na(t,e,""):na(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=ut,t.NULL=new Et,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>yt(at)}),t.__NG_ELEMENT_ID__=-1,t})();function ia(t){return t.length>1?" ("+function(t){const e=[];for(let n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(t=>U(t.token)).join(" -> ")+")":""}function oa(t,e,n,r){const i=[e],o=n(i),s=r?function(t,e){const n=`${t} caused by: ${e instanceof Error?e.message:e}`,r=Error(n);return r.ngOriginalError=e,r}(o,r):Error(o);return s.addKey=sa,s.keys=i,s.injectors=[t],s.constructResolvingMessage=n,s.ngOriginalError=r,s}function sa(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function aa(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const t=e[r];n.push(t&&0!=t.length?t.map(U).join(" "):"?")}return Error("Cannot resolve all parameters for '"+U(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+U(t)+"' is decorated with Injectable.")}class ua{constructor(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=U(this.token)}static get(t){return la.get(z(t))}static get numberOfKeys(){return la.numberOfKeys}}class ca{constructor(){this._allKeys=new Map}get(t){if(t instanceof ua)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const e=new ua(t,ua.numberOfKeys);return this._allKeys.set(t,e),e}get numberOfKeys(){return this._allKeys.size}}const la=new ca;class ha{constructor(t){this.reflectionCapabilities=t}updateCapabilities(t){this.reflectionCapabilities=t}factory(t){return this.reflectionCapabilities.factory(t)}parameters(t){return this.reflectionCapabilities.parameters(t)}annotations(t){return this.reflectionCapabilities.annotations(t)}propMetadata(t){return this.reflectionCapabilities.propMetadata(t)}hasLifecycleHook(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)}getter(t){return this.reflectionCapabilities.getter(t)}setter(t){return this.reflectionCapabilities.setter(t)}method(t){return this.reflectionCapabilities.method(t)}importUri(t){return this.reflectionCapabilities.importUri(t)}resourceUri(t){return this.reflectionCapabilities.resourceUri(t)}resolveIdentifier(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)}resolveEnum(t,e){return this.reflectionCapabilities.resolveEnum(t,e)}}const da=new ha(new Ts);class fa{constructor(t,e,n){this.key=t,this.optional=e,this.visibility=n}static fromKey(t){return new fa(t,!1,null)}}const pa=[];class ga{constructor(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class ma{constructor(t,e){this.factory=t,this.dependencies=e}}function ya(t){let e,n;if(t.useClass){const r=z(t.useClass);e=da.factory(r),n=wa(r)}else t.useExisting?(e=t=>t,n=[fa.fromKey(ua.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){const n=e.map(t=>[t]);return e.map(e=>_a(t,e,n))}return wa(t)}(t.useFactory,t.deps)):(e=()=>t.useValue,n=pa);return new ma(e,n)}function va(t){return new ga(ua.get(t.provide),[ya(t)],t.multi||!1)}function ba(t){const e=function(t,e){for(let n=0;n<t.length;n++){const r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let t=0;t<r.resolvedFactories.length;t++)i.resolvedFactories.push(r.resolvedFactories[t]);else e.set(r.key.id,r)}else{let t;t=r.multiProvider?new ga(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,t)}}return e}(function t(e,n){return e.forEach(e=>{if(e instanceof _s)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!Array.isArray(e))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(va),new Map);return Array.from(e.values())}function wa(t){const e=da.parameters(t);if(!e)return[];if(e.some(t=>null==t))throw aa(t,e);return e.map(n=>_a(t,n,e))}function _a(t,e,n){let r=null,i=!1;if(!Array.isArray(e))return Ea(e instanceof b?e.token:e,i,null);let o=null;for(let s=0;s<e.length;++s){const t=e[s];t instanceof _s?r=t:t instanceof b?r=t.token:t instanceof w?i=!0:t instanceof _||t instanceof E?o=t:t instanceof st&&(r=t)}if(r=z(r),null!=r)return Ea(r,i,o);throw aa(t,n)}function Ea(t,e,n){return new fa(ua.get(t),e,n)}const Sa={};class Ca{static resolve(t){return ba(t)}static resolveAndCreate(t,e){const n=Ca.resolve(t);return Ca.fromResolvedProviders(n,e)}static fromResolvedProviders(t,e){return new Ia(t,e)}}let Ia=(()=>{class t{constructor(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;const n=t.length;this.keyIds=[],this.objs=[];for(let r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Sa}get(t,e=ut){return this._getByKey(ua.get(t),null,e)}resolveAndCreateChild(t){const e=Ca.resolve(t);return this.createChildFromResolved(e)}createChildFromResolved(e){const n=new t(e);return n.parent=this,n}resolveAndInstantiate(t){return this.instantiateResolved(Ca.resolve([t])[0])}instantiateResolved(t){return this._instantiateProvider(t)}getProviderAtIndex(t){if(t<0||t>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(t);return this._providers[t]}_new(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw oa(this,t.key,(function(t){return"Cannot instantiate cyclic dependency!"+ia(t)}));return this._instantiateProvider(t)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(t){if(t.multiProvider){const e=[];for(let n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])}_instantiate(t,e){const n=e.factory;let r,i;try{r=e.dependencies.map(t=>this._getByReflectiveDependency(t))}catch(s){throw s.addKey&&s.addKey(this,t.key),s}try{i=n(...r)}catch(s){throw oa(this,t.key,(function(t){const e=U(t[0].token);return`${o.message}: Error during instantiation of ${e}!${ia(t)}.`}),o=s)}var o;return i}_getByReflectiveDependency(t){return this._getByKey(t.key,t.visibility,t.optional?null:ut)}_getByKey(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof _?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)}_getObjByKeyId(t){for(let e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Sa&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Sa}_throwOrNull(t,e){if(e!==ut)return e;throw function(t,e){return oa(t,e,(function(t){return`No provider for ${U(t[0].token)}!${ia(t)}`}))}(this,t)}_getByKeySelf(t,e){const n=this._getObjByKeyId(t.id);return n!==Sa?n:this._throwOrNull(t,e)}_getByKeyDefault(e,n,r){let i;for(i=r instanceof E?this.parent:this;i instanceof t;){const t=i,n=t._getObjByKeyId(e.id);if(n!==Sa)return n;i=t.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)}get displayName(){return`ReflectiveInjector(providers: [${function(t,e){const n=[];for(let r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")}])`}toString(){return this.displayName}}return t.INJECTOR_KEY=ua.get(ra),t})();const Oa=new st("AnalyzeForEntryComponents");class Ta{}const xa=y("ContentChildren",(t,e={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1},e),Ta),ja=y("ContentChild",(t,e={})=>Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},e),Ta),Aa=y("ViewChildren",(t,e={})=>Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0},e),Ta),ka=y("ViewChild",(t,e)=>Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},e),Ta);function Na(t){const e=[],n=new Map;function r(e){let r=n.get(e);if(!r){const i=t(e);n.set(e,r=i.then(La))}return r}return Pa.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),i.push(r(e).then(r=>{s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(t){Da.delete(t)}(n));e.push(u)}),Ma(),Promise.all(e).then(()=>{})}let Pa=new Map;const Da=new Set;function Ra(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}function Ma(){const t=Pa;return Pa=new Map,t}function La(t){return"string"==typeof t?t:t.text()}function Fa(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=q(i,t):2==o&&(r=q(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Va(t){const e=vi(t);Do(e[1],e,t)}function Ua(t){!function(t,e){const n=0===t.flags;if(t.flags|=1,n&&t.clean==Xi){let e;t.clean=new Promise(t=>e=t),t.scheduler(()=>{if(1&t.flags&&(t.flags&=-2,Po(t)),2&t.flags){t.flags&=-3;const e=t.playerHandler;e&&e.flushPlayers()}t.clean=Xi,e(null)})}}(No(vi(t))[8])}function qa(t){Ya(t);const e=$a(t,!1);return null===e?null:(void 0===e.component&&(e.component=function(t,e){const n=e[1].data[t];return 2&n.flags?e[n.directiveStart]:null}(e.nodeIndex,e.lView)),e.component)}function Ba(t){Ya(t);const e=$a(t,!1);return null===e?null:e.lView[8]}function Ha(t){const e=$a(t,!1);if(null===e)return null;let n,r=e.lView;for(;2===r[1].type&&(n=Li(r));)r=n;return 512&r[2]?null:r[8]}function za(t){return[...Fi(t).components]}function Wa(t){const e=$a(t,!1);return null===e?ra.NULL:new ar(e.lView[1].data[e.nodeIndex],e.lView)}function Qa(t){const e=$a(t);return void 0===e.directives&&(e.directives=Si(e.nodeIndex,e.lView,!1)),null===e.directives?[]:[...e.directives]}function $a(t,e=!0){const n=mi(t);if(!n&&e)throw new Error("Invalid ng target");return n}function Ka(t){return mi(t).native}function Ga(t){Ya(t);const e=$a(t,!1);if(null===e)return[];const n=e.lView,r=n[7],i=n[1].cleanup,o=[];if(i&&r)for(let s=0;s<i.length;){const e=i[s++],a=i[s++];if("string"==typeof e){const u=e,c=Ie(n[a]),l=r[i[s++]],h=i[s++],d="boolean"==typeof h||h>=0?"dom":"output",f="boolean"==typeof h&&h;t==c&&o.push({element:t,name:u,callback:l,useCapture:f,type:d})}}return o.sort(Xa),o}function Xa(t,e){return t.name==e.name?0:t.name<e.name?-1:1}function Ya(t){if("undefined"!=typeof Element&&!(t instanceof Element))throw new Error("Expecting instance of DOM Element")}function Za(t){Ua(t),za(t).forEach(t=>Va(t))}let Ja=!1;function tu(){Ja||(Ja=!0,eu("getComponent",qa),eu("getContext",Ba),eu("getListeners",Ga),eu("getOwningComponent",Ha),eu("getHostElement",Ka),eu("getInjector",Wa),eu("getRootComponents",za),eu("getDirectives",Qa),eu("applyChanges",Za))}function eu(t,e){if("undefined"==typeof COMPILED||!COMPILED){const n=X;if(n){let r=n.ng;r||(r=n.ng={}),r[t]=e}}}function nu(t,e={}){const n=e.rendererFactory||Ce,r=e.sanitizer||null,i=Zt(t);i.type!=t&&(i.type=t);const o=i.selectors[0][0],s=lo(n.createRenderer(null,null),e.host||o,i.encapsulation),a=i.onPush?576:528,u=ou(e.scheduler,e.playerHandler),c=n.createRenderer(s,i),l=co(0,null,null,1,0,null,null,null,null,null),h=Ji(null,l,u,a,null,null,n,c,null,e.injector||null);let d;cn(h);try{n.begin&&n.begin(),d=iu(ru(s,i,h,n,c,r),i,h,u,e.hostFeatures||null),eo(l,h,null),no(l,h,null,null)}finally{pn(),n.end&&n.end()}return d}function ru(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=to(s,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Fa(a,u,!0),null!==t&&(An(i,t,u),null!==a.classes&&us(i,t,a.classes),null!==a.styles&&as(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ji(n,uo(e),null,e.onPush?64:16,n[20],a,r,c,o||null,null);return s.firstCreatePass&&(Zn(Kn(a,n),s,e.type),wo(s,a),Eo(a,n.length,1)),ko(n,l),n[20]=l}function iu(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=We();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),bo(t,r,1),So(t,e,n));const i=ir(e,t,e.length-1,r);bi(i,e);const o=Te(r,e);return o&&bi(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=We();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){yn(a.index-re);const t=n[1];mo(t,e),yo(t,n,e.hostVars),vo(e,s)}return s}function ou(t,e){return{components:[],scheduler:t||Un,clean:Lo,playerHandler:e||null,flags:0}}function su(t,e){const n=Ne(t)[1],r=n.data.length-1;En(n,{directiveStart:r,directiveEnd:r+1})}function au(t){return Fi(t).clean}function uu(t){return Object.getPrototypeOf(t.prototype).constructor}function cu(t){let e=uu(t.type),n=!0;const r=[t];for(;e;){let i=void 0;if(le(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=lu(t.inputs),e.declaredInputs=lu(t.declaredInputs),e.outputs=lu(t.outputs);const n=i.hostBindings;n&&fu(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&hu(t,o),s&&du(t,s),x(t.inputs,i.inputs),x(t.declaredInputs,i.declaredInputs),x(t.outputs,i.outputs),le(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===cu&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pn(i.hostAttrs,n=Pn(n,i.hostAttrs))}}(r)}function lu(t){return t===Vt?{}:t===Ut?[]:t}function hu(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function du(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function fu(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}const pu=["providersResolver"],gu=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function mu(t){let e=uu(t.type),n=void 0;n=le(t)?e.\u0275cmp:e.\u0275dir;const r=t;for(const i of pu)r[i]=n[i];if(le(n))for(const i of gu)r[i]=n[i]}let yu=null;function vu(){if(!yu){const t=X.Symbol;if(t&&t.iterator)yu=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(yu=n)}}}return yu}function bu(t,e){const n=_u(t),r=_u(e);if(n&&r)return function(t,e,n){const r=t[vu()](),i=e[vu()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,bu);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||Object.is(t,e)}}class wu{constructor(t){this.wrapped=t}static wrap(t){return new wu(t)}static unwrap(t){return wu.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof wu}}function _u(t){return!!Eu(t)&&(Array.isArray(t)||!(t instanceof Map)&&vu()in t)}function Eu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Su(t,e,n){return t[e]=n}function Cu(t,e){return t[e]}function Iu(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ou(t,e,n,r){const i=Iu(t,e,n);return Iu(t,e+1,r)||i}function Tu(t,e,n,r,i){const o=Ou(t,e,n,r);return Iu(t,e+2,i)||o}function xu(t,e,n,r,i,o){const s=Ou(t,e,n,r);return Ou(t,e+2,i,o)||s}function ju(t,e,n,r){const i=Be();return Iu(i,tn(),e)&&(He(),Io(vn(),i,t,e,n,r)),ju}function Au(t,e){let n=!1,r=Ze();for(let o=1;o<e.length;o+=2)n=Iu(t,r++,e[o])||n;if(Je(r),!n)return Mi;let i=e[0];for(let o=1;o<e.length;o+=2)i+=Fn(e[o])+e[o+1];return i}function ku(t,e,n,r){return Iu(t,tn(),n)?e+Fn(n)+r:Mi}function Nu(t,e,n,r,i,o){const s=Ou(t,Ze(),n,i);return en(2),s?e+Fn(n)+r+Fn(i)+o:Mi}function Pu(t,e,n,r,i,o,s,a){const u=Tu(t,Ze(),n,i,s);return en(3),u?e+Fn(n)+r+Fn(i)+o+Fn(s)+a:Mi}function Du(t,e,n,r,i,o,s,a,u,c){const l=xu(t,Ze(),n,i,s,u);return en(4),l?e+Fn(n)+r+Fn(i)+o+Fn(s)+a+Fn(u)+c:Mi}function Ru(t,e,n,r,i,o,s,a,u,c,l,h){const d=Ze();let f=xu(t,d,n,i,s,u);return f=Iu(t,d+4,l)||f,en(5),f?e+Fn(n)+r+Fn(i)+o+Fn(s)+a+Fn(u)+c+Fn(l)+h:Mi}function Mu(t,e,n,r,i,o,s,a,u,c,l,h,d,f){const p=Ze();let g=xu(t,p,n,i,s,u);return g=Ou(t,p+4,l,d)||g,en(6),g?e+Fn(n)+r+Fn(i)+o+Fn(s)+a+Fn(u)+c+Fn(l)+h+Fn(d)+f:Mi}function Lu(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g){const m=Ze();let y=xu(t,m,n,i,s,u);return y=Tu(t,m+4,l,d,p)||y,en(7),y?e+Fn(n)+r+Fn(i)+o+Fn(s)+a+Fn(u)+c+Fn(l)+h+Fn(d)+f+Fn(p)+g:Mi}function Fu(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y){const v=Ze();let b=xu(t,v,n,i,s,u);return b=xu(t,v+4,l,d,p,m)||b,en(8),b?e+Fn(n)+r+Fn(i)+o+Fn(s)+a+Fn(u)+c+Fn(l)+h+Fn(d)+f+Fn(p)+g+Fn(m)+y:Mi}function Vu(t,e,n,r,i,o){const s=Be(),a=ku(s,e,n,r);return a!==Mi&&Io(vn(),s,t,a,i,o),Vu}function Uu(t,e,n,r,i,o,s,a){const u=Be(),c=Nu(u,e,n,r,i,o);return c!==Mi&&Io(vn(),u,t,c,s,a),Uu}function qu(t,e,n,r,i,o,s,a,u,c){const l=Be(),h=Pu(l,e,n,r,i,o,s,a);return h!==Mi&&Io(vn(),l,t,h,u,c),qu}function Bu(t,e,n,r,i,o,s,a,u,c,l,h){const d=Be(),f=Du(d,e,n,r,i,o,s,a,u,c);return f!==Mi&&Io(vn(),d,t,f,l,h),Bu}function Hu(t,e,n,r,i,o,s,a,u,c,l,h,d,f){const p=Be(),g=Ru(p,e,n,r,i,o,s,a,u,c,l,h);return g!==Mi&&Io(vn(),p,t,g,d,f),Hu}function zu(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g){const m=Be(),y=Mu(m,e,n,r,i,o,s,a,u,c,l,h,d,f);return y!==Mi&&Io(vn(),m,t,y,p,g),zu}function Wu(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y){const v=Be(),b=Lu(v,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g);return b!==Mi&&Io(vn(),v,t,b,m,y),Wu}function Qu(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v,b){const w=Be(),_=Fu(w,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y);return _!==Mi&&Io(vn(),w,t,_,v,b),Qu}function $u(t,e,n,r){const i=Be(),o=Au(i,e);return o!==Mi&&Io(vn(),i,t,o,n,r),$u}function Ku(t,e,n,r,i,o,s,a){const u=Be(),c=He(),l=t+re,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=to(e,t,0,s||null,Re(c,a));go(e,n,l,Re(c,u)),En(e,l);const h=l.tViews=co(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];Qe(h,!1);const d=u[11].createComment("");es(c,u,d,h),bi(d,u),ko(u,u[l]=xo(d,u,d,h)),ce(h)&&so(c,u,h),null!=s&&ao(u,h,a)}function Gu(t,e,n,r){const i=n+re;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}function Xu(t){return je(Fe.lFrame.contextLView,t)}function Yu(t,e=O.Default){const n=Be();return null===n?yt(t,e):tr(We(),n,z(t),e)}function Zu(t){return Jn(We(),t)}function Ju(){throw new Error("invalid")}function tc(t,e,n){const r=Be();return Iu(r,tn(),e)&&po(He(),vn(),r,t,e,r[11],n,!1),tc}function ec(t,e,n,r,i){const o=i?"class":"style";qo(t,n,e.inputs[o],o,r)}function nc(t,e,n,r){const i=Be(),o=He(),s=re+t,a=i[11],u=i[s]=Zi(e,a,Fe.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=to(e,t,2,i,Re(a,o));return go(e,n,u,Re(a,s)),null!==u.attrs&&Fa(u,u.attrs,!1),null!==u.mergedAttrs&&Fa(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];Qe(c,!0);const l=c.mergedAttrs;null!==l&&An(a,u,l);const h=c.classes;null!==h&&us(a,u,h);const d=c.styles;null!==d&&as(a,u,d),es(o,i,u,c),0===Fe.lFrame.elementDepthCount&&bi(u,i),Fe.lFrame.elementDepthCount++,ce(c)&&(so(o,i,c),oo(o,c,i)),null!==r&&ao(i,c)}function rc(){let t=We();$e()?Ke():(t=t.parent,Qe(t,!1));const e=t;Fe.lFrame.elementDepthCount--;const n=He();n.firstCreatePass&&(En(n,t),ae(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ec(n,e,Be(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ec(n,e,Be(),e.stylesWithoutHost,!1)}function ic(t,e,n,r){nc(t,e,n,r),rc()}function oc(t,e,n){const r=Be(),i=He(),o=t+re,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Re(o,r),a=to(e,t,3,"ng-container",s);return null!==s&&Fa(a,s,!0),go(e,n,a,Re(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];Qe(s,!0);const a=r[o]=r[11].createComment("");es(i,r,a,s),bi(a,r),ce(s)&&(so(i,r,s),oo(i,s,r)),null!=n&&ao(r,s)}function sc(){let t=We();const e=He();$e()?Ke():(t=t.parent,Qe(t,!1)),e.firstCreatePass&&(En(e,t),ae(t)&&e.queries.elementEnd(t))}function ac(t,e,n){oc(t,e,n),sc()}function uc(){return Be()}function cc(t){return!!t&&"function"==typeof t.then}function lc(t){return!!t&&"function"==typeof t.subscribe}function hc(t,e,n=!1,r){const i=Be(),o=He(),s=We();return fc(o,i,i[11],s,t,e,n,r),hc}function dc(t,e,n=!1,r){const i=We(),o=Be(),s=He();return fc(s,o,Vo(on(s.data),i,o),i,t,e,n,r),dc}function fc(t,e,n,r,i,o,s=!1,a){const u=ce(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Fo(e);let h=!0;if(2===r.type){const d=Te(r,e),f=a?a(d):Vt,p=f.target||d,g=l.length,m=a?t=>a(Ie(t[r.index])).target:r.index;if(Se(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=gc(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=gc(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}function pc(t,e,n){try{return!1!==e(n)}catch(r){return Uo(t,r),!1}}function gc(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Ae(t.index,e):e;0==(32&e[2])&&No(s);let a=pc(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=pc(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function mc(t=1){return gn(t)}function yc(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Ni(t,o,!0):Pi(r,o))return i}else n=i}return n}function vc(t){const e=Be()[16][6];if(!e.projection){const n=e.projection=kt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?yc(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let bc=!1;function wc(t){bc=t}function _c(t,e=0,n){const r=Be(),i=He(),o=to(i,t,1,null,n||null);null===o.projection&&(o.projection=e),Ke(),bc||os(i,r,o)}function Ec(t,e,n){return Sc(t,"",e,"",n),Ec}function Sc(t,e,n,r,i){const o=Be(),s=ku(o,e,n,r);return s!==Mi&&po(He(),vn(),o,t,s,o[11],i,!1),Sc}function Cc(t,e,n,r,i,o,s){const a=Be(),u=Nu(a,e,n,r,i,o);return u!==Mi&&po(He(),vn(),a,t,u,a[11],s,!1),Cc}function Ic(t,e,n,r,i,o,s,a,u){const c=Be(),l=Pu(c,e,n,r,i,o,s,a);return l!==Mi&&po(He(),vn(),c,t,l,c[11],u,!1),Ic}function Oc(t,e,n,r,i,o,s,a,u,c,l){const h=Be(),d=Du(h,e,n,r,i,o,s,a,u,c);return d!==Mi&&po(He(),vn(),h,t,d,h[11],l,!1),Oc}function Tc(t,e,n,r,i,o,s,a,u,c,l,h,d){const f=Be(),p=Ru(f,e,n,r,i,o,s,a,u,c,l,h);return p!==Mi&&po(He(),vn(),f,t,p,f[11],d,!1),Tc}function xc(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p){const g=Be(),m=Mu(g,e,n,r,i,o,s,a,u,c,l,h,d,f);return m!==Mi&&po(He(),vn(),g,t,m,g[11],p,!1),xc}function jc(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){const y=Be(),v=Lu(y,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g);return v!==Mi&&po(He(),vn(),y,t,v,y[11],m,!1),jc}function Ac(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v){const b=Be(),w=Fu(b,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y);return w!==Mi&&po(He(),vn(),b,t,w,b[11],v,!1),Ac}function kc(t,e,n){const r=Be(),i=Au(r,e);return i!==Mi&&po(He(),vn(),r,t,i,r[11],n,!1),kc}const Nc=[];function Pc(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Wi(o):$i(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Dc(t[a],e)&&(u=!0,t[a+1]=r?Gi(n):Qi(n)),a=r?Wi(n):$i(n)}u&&(t[n+1]=r?Qi(o):Gi(o))}function Dc(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Dt(t,e)>=0}const Rc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Mc(t){return t.substring(Rc.key,Rc.keyEnd)}function Lc(t){return t.substring(Rc.value,Rc.valueEnd)}function Fc(t,e){const n=Rc.textEnd;return n===e?-1:(e=Rc.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Rc.key=e,n),qc(t,e,n))}function Vc(t,e){const n=Rc.textEnd;let r=Rc.key=qc(t,e,n);return n===r?-1:(r=Rc.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=Bc(t,r,n),r=Rc.value=qc(t,r,n),r=Rc.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=Hc(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=Hc(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),Bc(t,r,n))}function Uc(t){Rc.key=0,Rc.keyEnd=0,Rc.value=0,Rc.valueEnd=0,Rc.textEnd=t.length}function qc(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Bc(t,e,n,r){return(e=qc(t,e,n))<n&&e++,e}function Hc(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function zc(t,e,n){return Xc(t,e,n,!1),zc}function Wc(t,e){return Xc(t,e,null,!0),Wc}function Qc(t){Yc(nl,$c,t,!1)}function $c(t,e){for(let n=function(t){return Uc(t),Vc(t,qc(t,0,Rc.textEnd))}(e);n>=0;n=Vc(e,n))nl(t,Mc(e),Lc(e))}function Kc(t){Yc(Nt,Gc,t,!0)}function Gc(t,e){for(let n=function(t){return Uc(t),Fc(t,qc(t,0,Rc.textEnd))}(e);n>=0;n=Fc(e,n))Nt(t,Mc(e),!0)}function Xc(t,e,n,r){const i=Be(),o=He(),s=en(2);o.firstUpdatePass&&Jc(o,t,s,r),e!==Mi&&Iu(i,s,e)&&rl(o,o.data[mn()+re],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=U(Er(t)))),t}(e,n),r,s)}function Yc(t,e,n,r){const i=He(),o=en(2);i.firstUpdatePass&&Jc(i,null,o,r);const s=Be();if(n!==Mi&&Iu(s,o,n)){const a=i.data[mn()+re];if(sl(a,r)&&!Zc(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=q(t,n||"")),ec(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Mi&&(i=Nc);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let p=null,g=void 0;l===h?(u+=2,c+=2,d!==f&&(p=h,g=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,g=f),null!==p&&rl(t,e,n,r,p,g,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Nc;const r=[],i=Er(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Zc(t,e){return e>=t.expandoStartIndex}function Jc(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[mn()+re],s=Zc(t,n);sl(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=on(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=el(n=tl(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=tl(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==$i(r))return t[Wi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=tl(null,t,e,n[1],r),n=el(n,e.attrs,r),function(t,e,n,r){t[Wi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=el(r,t[o].hostAttrs,n);return el(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Wi(s),u=$i(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Dt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Wi(t[a+1]);t[r+1]=zi(e,a),0!==e&&(t[e+1]=Ki(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=zi(a,0),0!==a&&(t[a+1]=Ki(t[a+1],r)),a=r;else t[r+1]=zi(u,0),0===a?a=r:t[u+1]=Ki(t[u+1],r),u=r;l&&(t[r+1]=Qi(t[r+1])),Pc(t,c,r,!0),Pc(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Dt(o,e)>=0&&(n[r+1]=Gi(n[r+1]))}(e,c,t,r,o),s=zi(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function tl(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=el(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function el(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Nt(t,s,!!n||e[++o]))}return void 0===t?null:t}function nl(t,e,n){Nt(t,e,Er(n))}function rl(t,e,n,r,i,o,s,a){if(2!==e.type)return;const u=t.data,c=u[a+1];ol(1==(1&c)?il(u,e,n,i,$i(c),s):void 0)||(ol(o)||2==(2&c)&&(o=il(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Se(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,Oe(mn(),n),i,o))}function il(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Mi&&(l=c?Nc:void 0);let h=c?Pt(l,r):u===r?l:void 0;if(o&&!ol(h)&&(h=Pt(e,r)),ol(h)&&(a=h,s))return a;const d=t[i+1];i=s?Wi(d):$i(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Pt(t,r))}return a}function ol(t){return void 0!==t}function sl(t,e){return 0!=(t.flags&(e?16:32))}function al(t,e=""){const n=Be(),r=He(),i=t+re,o=r.firstCreatePass?to(r,t,2,null,null):r.data[i],s=n[i]=zo(e,n[11]);es(r,n,s,o),Qe(o,!1)}function ul(t){return cl("",t,""),ul}function cl(t,e,n){const r=Be(),i=ku(r,t,e,n);return i!==Mi&&Bo(r,mn(),i),cl}function ll(t,e,n,r,i){const o=Be(),s=Nu(o,t,e,n,r,i);return s!==Mi&&Bo(o,mn(),s),ll}function hl(t,e,n,r,i,o,s){const a=Be(),u=Pu(a,t,e,n,r,i,o,s);return u!==Mi&&Bo(a,mn(),u),hl}function dl(t,e,n,r,i,o,s,a,u){const c=Be(),l=Du(c,t,e,n,r,i,o,s,a,u);return l!==Mi&&Bo(c,mn(),l),dl}function fl(t,e,n,r,i,o,s,a,u,c,l){const h=Be(),d=Ru(h,t,e,n,r,i,o,s,a,u,c,l);return d!==Mi&&Bo(h,mn(),d),fl}function pl(t,e,n,r,i,o,s,a,u,c,l,h,d){const f=Be(),p=Mu(f,t,e,n,r,i,o,s,a,u,c,l,h,d);return p!==Mi&&Bo(f,mn(),p),pl}function gl(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p){const g=Be(),m=Lu(g,t,e,n,r,i,o,s,a,u,c,l,h,d,f,p);return m!==Mi&&Bo(g,mn(),m),gl}function ml(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){const y=Be(),v=Fu(y,t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m);return v!==Mi&&Bo(y,mn(),v),ml}function yl(t){const e=Be(),n=Au(e,t);return n!==Mi&&Bo(e,mn(),n),yl}function vl(t,e,n){Yc(Nt,Gc,ku(Be(),t,e,n),!0)}function bl(t,e,n,r,i){Yc(Nt,Gc,Nu(Be(),t,e,n,r,i),!0)}function wl(t,e,n,r,i,o,s){Yc(Nt,Gc,Pu(Be(),t,e,n,r,i,o,s),!0)}function _l(t,e,n,r,i,o,s,a,u){Yc(Nt,Gc,Du(Be(),t,e,n,r,i,o,s,a,u),!0)}function El(t,e,n,r,i,o,s,a,u,c,l){Yc(Nt,Gc,Ru(Be(),t,e,n,r,i,o,s,a,u,c,l),!0)}function Sl(t,e,n,r,i,o,s,a,u,c,l,h,d){Yc(Nt,Gc,Mu(Be(),t,e,n,r,i,o,s,a,u,c,l,h,d),!0)}function Cl(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p){Yc(Nt,Gc,Lu(Be(),t,e,n,r,i,o,s,a,u,c,l,h,d,f,p),!0)}function Il(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){Yc(Nt,Gc,Fu(Be(),t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m),!0)}function Ol(t){Yc(Nt,Gc,Au(Be(),t),!0)}function Tl(t,e,n){Qc(ku(Be(),t,e,n))}function xl(t,e,n,r,i){Qc(Nu(Be(),t,e,n,r,i))}function jl(t,e,n,r,i,o,s){Qc(Pu(Be(),t,e,n,r,i,o,s))}function Al(t,e,n,r,i,o,s,a,u){Qc(Du(Be(),t,e,n,r,i,o,s,a,u))}function kl(t,e,n,r,i,o,s,a,u,c,l){Qc(Ru(Be(),t,e,n,r,i,o,s,a,u,c,l))}function Nl(t,e,n,r,i,o,s,a,u,c,l,h,d){Qc(Mu(Be(),t,e,n,r,i,o,s,a,u,c,l,h,d))}function Pl(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p){Qc(Lu(Be(),t,e,n,r,i,o,s,a,u,c,l,h,d,f,p))}function Dl(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){Qc(Fu(Be(),t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m))}function Rl(t){Qc(Au(Be(),t))}function Ml(t,e,n,r,i){return Xc(t,ku(Be(),e,n,r),i,!1),Ml}function Ll(t,e,n,r,i,o,s){return Xc(t,Nu(Be(),e,n,r,i,o),s,!1),Ll}function Fl(t,e,n,r,i,o,s,a,u){return Xc(t,Pu(Be(),e,n,r,i,o,s,a),u,!1),Fl}function Vl(t,e,n,r,i,o,s,a,u,c,l){return Xc(t,Du(Be(),e,n,r,i,o,s,a,u,c),l,!1),Vl}function Ul(t,e,n,r,i,o,s,a,u,c,l,h,d){return Xc(t,Ru(Be(),e,n,r,i,o,s,a,u,c,l,h),d,!1),Ul}function ql(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p){return Xc(t,Mu(Be(),e,n,r,i,o,s,a,u,c,l,h,d,f),p,!1),ql}function Bl(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){return Xc(t,Lu(Be(),e,n,r,i,o,s,a,u,c,l,h,d,f,p,g),m,!1),Bl}function Hl(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v){return Xc(t,Fu(Be(),e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y),v,!1),Hl}function zl(t,e,n){return Xc(t,Au(Be(),e),n,!1),zl}function Wl(t,e,n){const r=Be();return Iu(r,tn(),e)&&po(He(),vn(),r,t,e,r[11],n,!0),Wl}function Ql(t,e,n){const r=Be();if(Iu(r,tn(),e)){const i=He(),o=vn();po(i,o,r,t,e,Vo(on(i.data),o,r),n,!0)}return Ql}function $l(t,e,n,r,i){if(t=z(t),Array.isArray(t))for(let o=0;o<t.length;o++)$l(t[o],e,n,r,i);else{const o=He(),s=Be();let a=ta(t)?t:z(t.provide),u=Ys(t);const c=We(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(ta(t)||!t.multi){const r=new jn(u,i,Yu),f=Xl(a,e,i?l:l+d,h);-1===f?(Zn(Kn(c,s),o,a),Kl(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=Xl(a,e,l+d,h),p=Xl(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Zn(Kn(c,s),o,a);const l=function(t,e,n,r,i){const o=new jn(t,n,Yu);return o.multi=[],o.index=e,o.componentProviders=0,Gl(o,i,r&&!n),o}(i?Zl:Yl,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Kl(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Kl(o,t,f>-1?f:p,Gl(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Kl(t,e,n,r){const i=ta(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Gl(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Xl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Yl(t,e,n,r){return Jl(this.multi,[])}function Zl(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=ir(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Jl(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Jl(i,o);return o}function Jl(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function th(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=He();if(r.firstCreatePass){const i=le(t);$l(n,r.data,r.blueprint,i,!0),$l(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class eh{}class nh{}function rh(t){const e=Error(`No component factory found for ${U(t)}. Did you add it to @NgModule.entryComponents?`);return e[ih]=t,e}const ih="ngComponent";class oh{resolveComponentFactory(t){throw rh(t)}}let sh=(()=>{class t{}return t.NULL=new oh,t})();class ah{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw rh(t);return new uh(e,this._ngModule)}}class uh extends nh{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}let ch=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>hh(t),t})();const lh=function(t){return ps(t,We(),Be())},hh=lh;class dh{}var fh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ph=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>mh(),t})();const gh=function(){const t=Be(),e=Ae(We().index,t);return function(t){const e=t[11];if(Se(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(oe(e)?e:t)},mh=gh;let yh=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class vh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const bh=new vh("10.1.6");class wh{constructor(){}supports(t){return _u(t)}create(t){return new Eh(t)}}const _h=(t,e)=>e;class Eh{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||_h}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Oh(n,r,i)?e:n,s=Oh(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!_u(t))throw new Error(`Error trying to diff '${U(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[vu()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Sh(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ih),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ih),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Sh{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ch{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ih{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ch,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Oh(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Th{constructor(){}supports(t){return t instanceof Map||Eu(t)}create(){return new xh}}class xh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Eu(t)))throw new Error(`Error trying to diff '${U(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new jh(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class jh{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ah=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new E,new w]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t([new wh])}),t})(),kh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new E,new w]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t([new Th])}),t})();const Nh=[new Th],Ph=new Ah([new wh]),Dh=new kh(Nh);let Rh=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Lh(t,ch),t})();const Mh=function(t,e){return gs(t,e,We(),Be())},Lh=Mh;let Fh=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Uh(t,ch),t})();const Vh=function(t,e){return ms(t,e,We(),Be())},Uh=Vh;function qh(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Bh(n,e),n}(i,t)}function Bh(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function Hh(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function zh(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Wh(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Qh(t,e){return t.nodes[e]}function $h(t,e){return t.nodes[e]}function Kh(t,e){return t.nodes[e]}function Gh(t,e){return t.nodes[e]}function Xh(t,e){return t.nodes[e]}class Yh{}const Zh={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Jh=()=>{},td=new Map;function ed(t){let e=td.get(t);return e||(e=U(t)+"_"+td.size,td.set(t,e)),e}function nd(t,e,n,r){if(wu.isWrapped(r)){r=wu.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,o=wu.unwrap(t.oldValues[i]);t.oldValues[i]=new wu(o)}return r}const rd="$$undefined",id="$$empty";function od(t){return{id:rd,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let sd=0;function ad(t,e,n,r){return!(!(2&t.state)&&Object.is(t.oldValues[e.bindingIndex+n],r))}function ud(t,e,n,r){return!!ad(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function cd(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!bu(i,r)){const o=e.bindings[n].name;throw qh(Zh.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function ld(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function hd(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function dd(t,e,n,r){try{return ld(33554432&t.def.nodes[e].flags?$h(t,e).componentView:t),Zh.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function fd(t){return t.parent?$h(t.parent,t.parentNodeDef.nodeIndex):null}function pd(t){return t.parent?t.parentNodeDef.parent:null}function gd(t,e){switch(201347067&e.flags){case 1:return $h(t,e.nodeIndex).renderElement;case 2:return Qh(t,e.nodeIndex).renderText}}function md(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function yd(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function vd(t){return 1<<t%32}function bd(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=vd(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function wd(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,lt,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:ed(n)}})}function _d(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Ft.Native?$h(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Ed=new WeakMap;function Sd(t){let e=Ed.get(t);return e||(e=t(()=>Jh),e.factory=t,Ed.set(t,e)),e}function Cd(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(gd(t,t.def.lastRenderRootNode))),Id(t,e,0,t.def.nodes.length-1,n,r,i)}function Id(t,e,n,r,i,o,s){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&Td(t,n,e,i,o,s),a+=n.childCount}}function Od(t,e,n,r,i,o){let s=t;for(;s&&!md(s);)s=s.parent;const a=s.parent,u=pd(s),c=u.nodeIndex+u.childCount;for(let l=u.nodeIndex+1;l<=c;l++){const t=a.def.nodes[l];t.ngContentIndex===e&&Td(a,t,n,r,i,o),l+=t.childCount}if(!a.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)xd(t,s[e],n,r,i,o)}}function Td(t,e,n,r,i,o){if(8&e.flags)Od(t,e.ngContent.index,n,r,i,o);else{const s=gd(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&xd(t,s,n,r,i,o),32&e.bindingFlags&&xd($h(t,e.nodeIndex).componentView,s,n,r,i,o)):xd(t,s,n,r,i,o),16777216&e.flags){const s=$h(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)Cd(s[t],n,r,i,o)}1&e.flags&&!e.element.name&&Id(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function xd(t,e,n,r,i,o){const s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}const jd=/^:([^:]+):(.+)$/;function Ad(t){if(":"===t[0]){const e=t.match(jd);return[e[1],e[2]]}return["",t]}function kd(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function Nd(t,e){let n="";for(let r=0;r<2*t;r+=2)n=n+e[r]+Dd(e[r+1]);return n+e[2*t]}function Pd(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v,b){switch(t){case 1:return e+Dd(n)+r;case 2:return e+Dd(n)+r+Dd(i)+o;case 3:return e+Dd(n)+r+Dd(i)+o+Dd(s)+a;case 4:return e+Dd(n)+r+Dd(i)+o+Dd(s)+a+Dd(u)+c;case 5:return e+Dd(n)+r+Dd(i)+o+Dd(s)+a+Dd(u)+c+Dd(l)+h;case 6:return e+Dd(n)+r+Dd(i)+o+Dd(s)+a+Dd(u)+c+Dd(l)+h+Dd(d)+f;case 7:return e+Dd(n)+r+Dd(i)+o+Dd(s)+a+Dd(u)+c+Dd(l)+h+Dd(d)+f+Dd(p)+g;case 8:return e+Dd(n)+r+Dd(i)+o+Dd(s)+a+Dd(u)+c+Dd(l)+h+Dd(d)+f+Dd(p)+g+Dd(m)+y;case 9:return e+Dd(n)+r+Dd(i)+o+Dd(s)+a+Dd(u)+c+Dd(l)+h+Dd(d)+f+Dd(p)+g+Dd(m)+y+Dd(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function Dd(t){return null!=t?t.toString():""}const Rd=[],Md={},Ld={},Fd=ed(ra),Vd=ed(at),Ud=ed(Ct);function qd(t,e,n,r){return n=z(n),{index:-1,deps:wd(r,U(e)),flags:t,token:e,value:n}}function Bd(t){const e={},n=[];let r=null;for(let i=0;i<t.length;i++){const o=t[i];o.token===qs&&(r=o.value),1073741824&o.flags&&n.push(o.token),o.index=i,e[ed(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,scope:r}}function Hd(t,e,n=ra.THROW_IF_NOT_FOUND){const r=pt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const i=e.tokenKey;switch(i){case Fd:case Vd:case Ud:return t}const o=t._def.providersByKey[i];let s;if(o){let e=t._providers[o.index];return void 0===e&&(e=t._providers[o.index]=zd(t,o)),e===Ld?void 0:e}if((s=N(e.token))&&function(t,e){const n=e.providedIn;return null!=n&&("any"===n||n===t._def.scope||function(t,e){return t._def.modules.indexOf(e)>-1}(t,n))}(t,s)){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:n,token:e.token},t._providers[n]=Ld,t._providers[n]=zd(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{pt(r)}}function zd(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Hd(t,n[0]));case 2:return new e(Hd(t,n[0]),Hd(t,n[1]));case 3:return new e(Hd(t,n[0]),Hd(t,n[1]),Hd(t,n[2]));default:const i=[];for(let e=0;e<r;e++)i[e]=Hd(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Hd(t,n[0]));case 2:return e(Hd(t,n[0]),Hd(t,n[1]));case 3:return e(Hd(t,n[0]),Hd(t,n[1]),Hd(t,n[2]));default:const i=[];for(let e=0;e<r;e++)i[e]=Hd(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Hd(t,e.deps[0]);break;case 256:n=e.value}return n===Ld||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Ld:n}function Wd(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,At(n,e),Zh.dirtyParentQueries(r),$d(r),r}function Qd(t,e,n){const r=e?gd(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Cd(n,2,i,o,void 0)}function $d(t){Cd(t,3,null,null,void 0)}const Kd={};function Gd(t,e,n,r,i,o){return new Yd(t,e,n,r,i,o)}function Xd(t){return t.viewDefFactory}class Yd extends nh{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Sd(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Zh.createRootView(t,e||[],n,i,r,Kd),a=Kh(s,o).instance;return n&&s.renderer.setAttribute($h(s,0).renderElement,"ng-version",bh.full),new Zd(s,new nf(s),a)}}class Zd extends eh{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new ch($h(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new af(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Jd(t,e,n){return new tf(t,e,n)}class tf{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new ch(this._data.renderElement)}get injector(){return new af(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=pd(t),t=t.parent;return t?new af(t,e):new af(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Wd(this._data,t);Zh.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new nf(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof uh||(i=o.get(Ct));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,jt(i,n,r),function(t,e){const n=fd(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),Zh.dirtyParentQueries(r),Qd(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];At(r,e),null==n&&(n=r.length),jt(r,n,i),Zh.dirtyParentQueries(i),$d(i),Qd(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Wd(this._data,t);e&&Zh.destroyView(e)}detach(t){const e=Wd(this._data,t);return e?new nf(e):null}}function ef(t){return new nf(t)}class nf{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Cd(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){ld(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Zh.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Zh.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Zh.destroyView(this._view)}detachFromAppRef(){this._appRef=null,$d(this._view),Zh.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function rf(t,e){return new of(t,e)}class of extends Rh{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new nf(Zh.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new ch($h(this._parentView,this._def.nodeIndex).renderElement)}}function sf(t,e){return new af(t,e)}class af{constructor(t,e){this.view=t,this.elDef=e}get(t,e=ra.THROW_IF_NOT_FOUND){return Zh.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:ed(t)},e)}}function uf(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=$h(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Qh(t,n.nodeIndex).renderText;if(20240&n.flags)return Kh(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function cf(t,e,n,r){return new lf(t,e,n,r)}class lf{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=kt(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=zd(t,i))}}(this)}get(t,e=ra.THROW_IF_NOT_FOUND,n=O.Default){let r=0;return n&O.SkipSelf?r|=1:n&O.Self&&(r|=4),Hd(this,{token:t,tokenKey:ed(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(sh)}destroy(){if(this._destroyed)throw new Error(`The ng module ${U(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Ld){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const hf=ed(ph),df=ed(ch),ff=ed(Fh),pf=ed(Rh),gf=ed(vs),mf=ed(ra),yf=ed(at);function vf(t,e,n,r,i,o,s,a){const u=[];if(s)for(let l in s){const[t,e]=s[l];u[t]={flags:8,name:l,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let l in a)c.push({type:1,propName:l,target:null,eventName:a[l]});return _f(t,e|=16384,n,r,i,i,o,u,c)}function bf(t,e,n){return _f(-1,t|=16,null,0,e,e,n)}function wf(t,e,n,r,i){return _f(-1,t,e,0,n,r,i)}function _f(t,e,n,r,i,o,s,a,u){const{matchedQueries:c,references:l,matchedQueryIds:h}=bd(n);u||(u=[]),a||(a=[]),o=z(o);const d=wd(s,U(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:l,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:kd(a),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Ef(t,e){return Of(t,e)}function Sf(t,e){let n=t;for(;n.parent&&!md(n);)n=n.parent;return Tf(n.parent,pd(n),!0,e.provider.value,e.provider.deps)}function Cf(t,e){const n=Tf(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!lc(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(If(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function If(t,e,n){return r=>dd(t,e,n,r)}function Of(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Tf(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(jf(t,e,n,i[0]));case 2:return r(jf(t,e,n,i[0]),jf(t,e,n,i[1]));case 3:return r(jf(t,e,n,i[0]),jf(t,e,n,i[1]),jf(t,e,n,i[2]));default:const s=[];for(let r=0;r<o;r++)s.push(jf(t,e,n,i[r]));return r(...s)}}(t,e.parent,n,r.value,r.deps);case 2048:return jf(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Tf(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(jf(t,e,n,i[0]));case 2:return new r(jf(t,e,n,i[0]),jf(t,e,n,i[1]));case 3:return new r(jf(t,e,n,i[0]),jf(t,e,n,i[1]),jf(t,e,n,i[2]));default:const s=[];for(let r=0;r<o;r++)s.push(jf(t,e,n,i[r]));return new r(...s)}}const xf={};function jf(t,e,n,r,i=ra.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const s=r.tokenKey;s===gf&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(s){case hf:return Af(a,e,n).renderer;case df:return new ch($h(a,e.nodeIndex).renderElement);case ff:return $h(a,e.nodeIndex).viewContainer;case pf:if(e.element.template)return $h(a,e.nodeIndex).template;break;case gf:return ef(Af(a,e,n));case mf:case yf:return sf(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=Kh(a,t.nodeIndex);return e||(e={instance:Of(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=md(a),e=pd(a),a=a.parent,4&r.flags&&(a=null)}const u=o.root.injector.get(r.token,xf);return u!==xf||i===xf?u:o.root.ngModule.injector.get(r.token,i)}function Af(t,e,n){let r;if(n)r=$h(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!md(r);)r=r.parent;return r}function kf(t,e,n,r,i,o){if(32768&n.flags){const e=$h(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=wu.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new de(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Nf(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&e&&Df(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=Pf(t,s,e,r)),s=s.parent}}function Pf(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Df(t,i,e.flags&n,r++),i+=e.childCount}return r}function Df(t,e,n,r){const i=Kh(t,e);if(!i)return;const o=i.instance;o&&(Zh.setCurrentNode(t,e),1048576&n&&Wh(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Wh(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}class Rf extends sh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Zt(t);return new Ff(e,this.ngModule)}}function Mf(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Lf=new st("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Un});class Ff extends nh{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ri).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Mf(this.componentDef.inputs)}get outputs(){return Mf(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,xf,i);return o!==xf||r===xf?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(dh,Ce),s=i.get(yh,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?lo(a,n,this.componentDef.encapsulation):Zi(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?ve:"math"===e?be:null}(u)),l=this.componentDef.onPush?576:528,h=ou(),d=co(0,null,null,1,0,null,null,null,null,null),f=Ji(null,d,h,l,null,null,o,a,s,i);let p,g;cn(f);try{const t=ru(c,this.componentDef,f,o,a);if(c)if(n)An(a,c,["ng-version",bh.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ai(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&An(a,c,t),e&&e.length>0&&us(a,c,e.join(" "))}if(g=xe(d,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=iu(t,this.componentDef,f,h,[su]),eo(d,f,null)}finally{pn()}return new Vf(this.componentType,p,ps(ch,g,f),f,g)}}class Vf extends eh{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ls(r),this.componentType=t}get injector(){return new ar(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Uf=void 0;var qf=["en",[["a","p"],["AM","PM"],Uf],[["AM","PM"],Uf,Uf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Uf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Uf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Uf,"{1} 'at' {0}",Uf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Bf={};function Hf(t,e,n){"string"!=typeof e&&(n=e,e=t[Gf.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Bf[e]=t,n&&(Bf[e][Gf.ExtraData]=n)}function zf(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=$f(e);if(n)return n;const r=e.split("-")[0];if(n=$f(r),n)return n;if("en"===r)return qf;throw new Error(`Missing locale data for the locale "${t}".`)}function Wf(t){return zf(t)[Gf.CurrencyCode]||null}function Qf(t){return zf(t)[Gf.PluralCase]}function $f(t){return t in Bf||(Bf[t]=X.ng&&X.ng.common&&X.ng.common.locales&&X.ng.common.locales[t]),Bf[t]}function Kf(){Bf={}}var Gf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Xf=["zero","one","two","few","many"],Yf="en-US",Zf="USD";let Jf=Yf;function tp(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Jf=t.toLowerCase().replace(/_/g,"-"))}const ep={marker:"element"},np={marker:"comment"},rp=[];let ip=-1,op=0,sp=0;function ap(t,e,n,r){const i=r[11];let o=null,s=null;const a=[];for(let u=0;u<n.length;u++){const c=n[u];if("string"==typeof c){const e=zo(c,i),l=n[++u];s=o,o=fp(t,r,l,2,e,null),a.push(l),Ke()}else if("number"==typeof c)switch(7&c){case 1:const i=c>>>17;let l;l=i===e?r[6]:xe(t,i),s=hp(t,o,l,s,r);break;case 0:const h=c>=0,d=(h?c:~c)>>>3;a.push(d),s=o,o=xe(t,d),o&&Qe(o,h);break;case 5:s=o=xe(t,c>>>3),Qe(o,!1);break;case 4:const f=n[++u],p=n[++u];Io(xe(t,c>>>3),r,f,p,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case np:const e=n[++u],l=n[++u],h=i.createComment(e);s=o,o=fp(t,r,l,4,h,null),a.push(l),bi(h,r),Ke();break;case ep:const d=n[++u],f=n[++u];s=o,o=fp(t,r,f,2,i.createElement(d),d),a.push(f);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}}return Ke(),a}function up(t,e,n,r,i,o){let s=!1;for(let a=0;a<r.length;a++){const u=r[a],c=r[++a];if(u&o){let o="";for(let u=a+1;u<=a+c;u++){const a=r[u];if("string"==typeof a)o+=a;else if("number"==typeof a)if(a<0)o+=Fn(n[i-a]);else{const c=a>>>2;switch(3&a){case 1:const a=r[++u],l=r[++u];po(t,xe(t,c),n,a,o,n[11],l,!1);break;case 0:Bo(n,c,o);break;case 2:s=lp(t,e,r[++u],n,o);break;case 3:cp(t,e,r[++u],i,n,s)}}}}a+=c}}function cp(t,e,n,r,i,o){const s=e[n],a=i[s.currentCaseLViewIndex];null!==a&&up(t,e,i,s.update[a],r,o?-1:op)}function lp(t,e,n,r,i){!function t(e,n,r,i){const o=n[r],s=i[o.currentCaseLViewIndex];if(null!==s){const r=o.remove[s];for(let o=0;o<r.length;o++){const s=r[o],a=s>>>3;switch(7&s){case 3:dp(e,i,a,!1);break;case 6:t(e,n,a,i)}}}}(t,e,n,r);let o=!1;const s=e[n],a=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=Qf(e)(parseInt(t,10)),r=Xf[n];return void 0!==r?r:"other"}(e,Jf);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}(s,i);return r[s.currentCaseLViewIndex]=-1!==a?a:null,a>-1&&(ap(t,-1,s.create[a],r),o=!0),o}function hp(t,e,n,r,i){const o=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,null===e.parent?t.firstChild=e:n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);let s=e.next;for(;s;)s.next===e&&(s.next=o),s=s.next;if(1===e.type)return os(t,i,e),e;es(t,i,Te(e,i),e);const a=i[e.index];return 0!==e.type&&se(a)&&es(t,i,a[7],e),e}function dp(t,e,n,r){const i=xe(t,n),o=Oe(n,e);o&&ns(e[11],o);const s=je(e,n);if(se(s)){const t=s;0!==i.type&&ns(e[11],t[7])}r&&i&&(i.flags|=64)}function fp(t,e,n,r,i,o){const s=We();e[n+re]=i;const a=to(t,n,r,o,null);return s&&s.next===a&&(s.next=null),a}const pp=/\ufffd(\d+):?\d*\ufffd/gi,gp=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,mp=/\ufffd(\d+)\ufffd/,yp=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/;let vp;const bp=[],wp=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,_p=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,Ep=/\uE500/g;function Sp(t,e,n,r=null){const i=[null,null],o=t.split(pp);let s=0;for(let a=0;a<o.length;a++){const t=o[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),s|=Op(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=s,i[1]=i.length-2,i}function Cp(t,e=0){let n;e|=Op(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=pp.exec(r);)e|=Op(parseInt(n[1],10));else e=Cp(r,e)}}return e}function Ip(t){return t+vp++}function Op(t){return 1<<Math.min(t,31)}function Tp(t){return void 0===t}function xp(t){let e,n,r="",i=0,o=!1;for(;null!==(e=wp.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function jp(t,e,n,r){const i=[],o=[],s=[],a=[],u=[],c=e.values;for(let l=0;l<c.length;l++){const e=c[l],h=[];for(let t=0;t<e.length;t++){const n=e[t];if("string"!=typeof n){const r=h.push(n)-1;e[t]=`\x3c!--\ufffd${r}\ufffd--\x3e`}}const d=kp(e.join(""),n,h,t,r);i.push(d.create),o.push(d.remove),s.push(d.update),a.push(d.vars),u.push(d.childIcus)}t.push({type:e.type,vars:a,currentCaseLViewIndex:re+r+1,childIcus:u,cases:e.cases,create:i,remove:o,update:s}),vp+=Math.max(...a)}function Ap(t){const e=[],n=[];let r=1,i=0;const o=Np(t=t.replace(yp,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Np(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function kp(t,e,n,r,i){const o=Dr(Ee()).getInertBodyElement(t);if(!o)throw new Error("Unable to generate inert body element");const s={vars:1,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,o,s){if(e){const a=[];for(;e;){const u=e.nextSibling,c=s+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const u=e,l=u.tagName.toLowerCase();if($r.hasOwnProperty(l)){n.create.push(ep,l,c,r<<17|1);const a=u.attributes;for(let t=0;t<a.length;t++){const e=a.item(t),r=e.name.toLowerCase();e.value.match(pp)?Xr.hasOwnProperty(r)&&Ot(Kr[r]?Sp(e.value,c,e.name,Vr):Gr[r]?Sp(e.value,c,e.name,Ur):Sp(e.value,c,e.name),n.update):n.create.push(c<<3|4,e.name,e.value)}t(e.firstChild,n,c,i,o,s),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=e.textContent||"",d=h.match(pp);n.create.push(d?"":h,c,r<<17|1),n.remove.push(c<<3|3),d&&Ot(Sp(h,c),n.update);break;case Node.COMMENT_NODE:const f=mp.exec(e.textContent||"");if(f){const t=parseInt(f[1],10);n.create.push(np,"",c,r<<17|1),a.push([i[t],c])}else n.vars--;break;default:n.vars--}e=u}for(let t=0;t<a.length;t++){const e=a[t][0],r=a[t][1];jp(o,e,r,s+n.vars);const i=o.length-1;n.vars+=Math.max(...o[i].vars),n.childIcus.push(i);const u=Cp(e);n.update.push(Op(e.mainBinding),3,-1-e.mainBinding,r<<2|2,i,u,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((ii(o)||o).firstChild,s,e,n,r,i),s}function Np(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);yp.test(n)?r.push(Ap(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}const Pp=/\[(\ufffd.+?\ufffd?)\]/,Dp=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Rp=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Mp=/{([A-Z0-9_]+)}/g,Lp=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Fp=/\/\*/,Vp=/\d+\:(\d+)/;function Up(t,e={}){let n=t;if(Pp.test(t)){const t={},e=[0];n=n.replace(Dp,(n,r,i)=>{const o=r||i,s=t[o]||[];if(s.length||(o.split("|").forEach(t=>{const e=t.match(Vp),n=e?parseInt(e[1],10):0,r=Fp.test(t);s.push([n,r,t])}),t[o]=s),!s.length)throw new Error("i18n postprocess: unmatched placeholder - "+o);const a=e[e.length-1];let u=0;for(let t=0;t<s.length;t++)if(s[t][0]===a){u=t;break}const[c,l,h]=s[u];return l?e.pop():a!==c&&e.push(c),s.splice(u,1),h})}return Object.keys(e).length?(n=n.replace(Rp,(t,n,r,i,o,s)=>e.hasOwnProperty(r)?`${n}${e[r]}${s}`:t),n=n.replace(Mp,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(Lp,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}function qp(t,e,n){const r=He(),i=Re(r.consts,e);!function(t){rp[++ip]=t}(t),wc(!0),r.firstCreatePass&&null===r.data[t+re]&&function(t,e,n,r,i){const o=e.blueprint.length-re;vp=0;const s=We(),a=$e()?s:s&&s.parent;let u=a&&a!==t[6]?a.index-re:n,c=0;bp[c]=u;const l=[];if(n>0&&s!==a){let t=s.index-re;$e()||(t=~t),l.push(t<<3|0)}const h=[],d=[];if(""===r&&Tp(i))l.push(r,Ip(o),u<<17|1);else{const t=function(t,e){if(Tp(e))return xp(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return xp(t.substring(n,r))}}(r,i),e=(f=t,f.replace(Ep," ")).split(_p);for(let n=0;n<e.length;n++){let r=e[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const t=parseInt(r.substr(2),10);u=bp[--c],l.push(t<<3|5)}}else{const t=parseInt(r.substr(1),10),e="#"===r.charAt(0);l.push((e?t:~t)<<3|0,u<<17|1),e&&(bp[++c]=u=t)}else{const e=Np(r);for(let n=0;n<e.length;n++)if(1&n){const r=e[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${t}" message.`);const i=Ip(o);l.push(np,"",i,u<<17|1);const s=Cp(r);jp(d,r,i,i);const a=d.length-1;h.push(Op(r.mainBinding),3,-1-r.mainBinding,i<<2|2,a,s,2,i<<2|3,a)}else if(""!==e[n]){const t=e[n],r=t.match(pp),i=Ip(o);l.push(r?"":t,i,u<<17|1),r&&Ot(Sp(t,i),h)}}}}var f;vp>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(let r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,vp),e.data[n+re]={vars:vp,create:l,update:h,icus:d.length?d:null}}(Be(),r,t,i,n)}function Bp(){const t=Be();(function(t,e){const n=rp[ip--],r=t.data[n+re],i=We(),o=ap(t,n,r.create,e);let s=n+1;for(;null!==i&&s<=i.index-re;){-1===o.indexOf(s)&&dp(t,e,s,!0);const n=xe(t,s);!n||0!==n.type&&2!==n.type&&3!==n.type||null===n.localNames||(s+=n.localNames.length>>1),s++}})(He(),t),wc(!1)}function Hp(t,e,n){qp(t,e,n),Bp()}function zp(t,e){const n=Be(),r=He();!function(t,e,n,r){const i=We().index-re,o=[];for(let s=0;s<r.length;s+=2){const a=r[s],u=r[s+1].split(gp);for(let r=0;r<u.length;r++){const s=u[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==s)if(s.match(pp))e.firstCreatePass&&null===e.data[n+re]&&Ot(Sp(s,i,a),o);else{const n=xe(e,i);2===n.type&&Io(n,t,a,s,null,null);const r=null!==n.inputs&&n.inputs[a];r&&qo(e,t,r,a,s)}}}e.firstCreatePass&&null===e.data[n+re]&&(e.data[n+re]=o)}(n,r,t,Re(r.consts,e))}function Wp(t){return Iu(Be(),tn(),t)&&(op|=1<<sp),sp++,Wp}function Qp(t){!function(t,e,n){if(sp>0){const r=t.data[n+re];let i,o=null;Array.isArray(r)?i=r:(i=r.update,o=r.icus),up(t,o,e,i,Ze()-sp-1,op),op=0,sp=0}}(He(),Be(),t)}function $p(t,e={}){return Up(t,e)}function Kp(t,e,n,r){return l(()=>{const i=t,o=i.prototype?Object.getPrototypeOf(i.prototype):null,s=o&&o.constructor;null!==e&&(void 0===i.decorators||s&&s.decorators===i.decorators?i.decorators=e:i.decorators.push(...e)),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=void 0===i.propDecorators||s&&s.propDecorators===i.propDecorators?r:Object.assign(Object.assign({},i.propDecorators),r))})}const Gp=new Map;function Xp(t,e){const n=Gp.get(t);Yp(t,n&&n.moduleType,e.moduleType),Gp.set(t,e)}function Yp(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${U(e)} vs ${U(e.name)}`)}function Zp(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;Yp(e,Gp.get(e),t),Gp.set(e,t)}let e=t.\u0275mod.imports;e instanceof Function&&(e=e()),e&&e.forEach(t=>Zp(t))}function Jp(t){return Gp.get(t)||Qt[t]}class tg extends Ct{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Rf(this);const n=ne(t),r=t[rt]||null;r&&tp(r),this._bootstrapComponents=zn(n.bootstrap),this._r3Injector=Ks(t,e,[{provide:Ct,useValue:this},{provide:sh,useValue:this.componentFactoryResolver}],U(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ra.THROW_IF_NOT_FOUND,n=O.Default){return t===ra||t===Ct||t===at?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class eg extends It{constructor(t){super(),this.moduleType=t,null!==ne(t)&&Zp(t)}create(t){return new tg(this.moduleType,t)}}function ng(t,e,n){const r=Ye()+t,i=Be();return i[r]===Mi?Su(i,r,n?e.call(n):e()):Cu(i,r)}function rg(t,e,n,r){return fg(Be(),Ye(),t,e,n,r)}function ig(t,e,n,r,i){return pg(Be(),Ye(),t,e,n,r,i)}function og(t,e,n,r,i,o){return gg(Be(),Ye(),t,e,n,r,i,o)}function sg(t,e,n,r,i,o,s){return mg(Be(),Ye(),t,e,n,r,i,o,s)}function ag(t,e,n,r,i,o,s,a){const u=Ye()+t,c=Be(),l=xu(c,u,n,r,i,o);return Iu(c,u+4,s)||l?Su(c,u+5,a?e.call(a,n,r,i,o,s):e(n,r,i,o,s)):Cu(c,u+5)}function ug(t,e,n,r,i,o,s,a,u){const c=Ye()+t,l=Be(),h=xu(l,c,n,r,i,o);return Ou(l,c+4,s,a)||h?Su(l,c+6,u?e.call(u,n,r,i,o,s,a):e(n,r,i,o,s,a)):Cu(l,c+6)}function cg(t,e,n,r,i,o,s,a,u,c){const l=Ye()+t,h=Be();let d=xu(h,l,n,r,i,o);return Tu(h,l+4,s,a,u)||d?Su(h,l+7,c?e.call(c,n,r,i,o,s,a,u):e(n,r,i,o,s,a,u)):Cu(h,l+7)}function lg(t,e,n,r,i,o,s,a,u,c,l){const h=Ye()+t,d=Be(),f=xu(d,h,n,r,i,o);return xu(d,h+4,s,a,u,c)||f?Su(d,h+8,l?e.call(l,n,r,i,o,s,a,u,c):e(n,r,i,o,s,a,u,c)):Cu(d,h+8)}function hg(t,e,n,r){return yg(Be(),Ye(),t,e,n,r)}function dg(t,e){const n=t[e];return n===Mi?void 0:n}function fg(t,e,n,r,i,o){const s=e+n;return Iu(t,s,i)?Su(t,s+1,o?r.call(o,i):r(i)):dg(t,s+1)}function pg(t,e,n,r,i,o,s){const a=e+n;return Ou(t,a,i,o)?Su(t,a+2,s?r.call(s,i,o):r(i,o)):dg(t,a+2)}function gg(t,e,n,r,i,o,s,a){const u=e+n;return Tu(t,u,i,o,s)?Su(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):dg(t,u+3)}function mg(t,e,n,r,i,o,s,a,u){const c=e+n;return xu(t,c,i,o,s,a)?Su(t,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):dg(t,c+4)}function yg(t,e,n,r,i,o){let s=e+n,a=!1;for(let u=0;u<i.length;u++)Iu(t,s++,i[u])&&(a=!0);return a?Su(t,s,r.apply(o,i)):dg(t,s)}function vg(t,e){const n=He();let r;const i=t+re;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=ee(r.type)),s=gt(Yu);try{const e=Qn(!1),r=o();return Qn(e),Gu(n,Be(),t,r),r}finally{gt(s)}}function bg(t,e,n){const r=Be(),i=je(r,t);return Ig(r,Cg(r,t)?fg(r,Ye(),e,i.transform,n,i):i.transform(n))}function wg(t,e,n,r){const i=Be(),o=je(i,t);return Ig(i,Cg(i,t)?pg(i,Ye(),e,o.transform,n,r,o):o.transform(n,r))}function _g(t,e,n,r,i){const o=Be(),s=je(o,t);return Ig(o,Cg(o,t)?gg(o,Ye(),e,s.transform,n,r,i,s):s.transform(n,r,i))}function Eg(t,e,n,r,i,o){const s=Be(),a=je(s,t);return Ig(s,Cg(s,t)?mg(s,Ye(),e,a.transform,n,r,i,o,a):a.transform(n,r,i,o))}function Sg(t,e,n){const r=Be(),i=je(r,t);return Ig(r,Cg(r,t)?yg(r,Ye(),e,i.transform,n,i):i.transform.apply(i,n))}function Cg(t,e){return t[1].data[e+re].pure}function Ig(t,e){return wu.isWrapped(e)&&(e=wu.unwrap(e),t[Ze()]=Mi),e}const Og=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Tg(){return this._results[vu()]()}class xg{constructor(){this.dirty=!0,this._results=[],this.changes=new Og,this.length=0;const t=vu(),e=xg.prototype;e[t]||(e[t]=Tg)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=Tt(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class jg{constructor(t){this.queryList=t,this.matches=null}clone(){return new jg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ag{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ag(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==$g(t,e).matches&&this.queries[e].setDirty()}}class kg{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ng{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ng(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Pg{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Pg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Dg(e,i)),this.matchTNodeWithReadOption(t,e,rr(e,t,i,!1,!1))}else n===Rh?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,rr(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ch||r===Fh||r===Rh&&0===e.type)this.addMatch(e.index,-2);else{const n=rr(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Dg(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Rg(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?ps(ch,t,e):0===t.type?gs(Rh,ch,t,e):null}(e,t):-2===n?function(t,e,n){return n===ch?ps(ch,e,t):n===Rh?gs(Rh,ch,e,t):n===Fh?ms(Fh,ch,e,t):void 0}(t,e,r):ir(t,t[1],n,e)}function Mg(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Rg(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Lg(t){const e=Be(),n=He(),r=sn();an(r+1);const i=$g(n,r);if(t.dirty&&Pe(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Mg(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=ie;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Mg(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Fg(t,e,n){Ug(He(),Be(),t,e,n,!0)}function Vg(t,e,n){Ug(He(),Be(),t,e,n,!1)}function Ug(t,e,n,r,i,o){t.firstCreatePass&&(Qg(t,new kg(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),Wg(t,e)}function qg(t,e,n,r){Hg(He(),Be(),e,n,r,!1,We(),t)}function Bg(t,e,n,r){Hg(He(),Be(),e,n,r,!0,We(),t)}function Hg(t,e,n,r,i,o,s,a){t.firstCreatePass&&(Qg(t,new kg(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),Wg(t,e)}function zg(){return t=Be(),e=sn(),t[19].queries[e].queryList;var t,e}function Wg(t,e){const n=new xg;ho(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ag),e[19].queries.push(new jg(n))}function Qg(t,e,n){null===t.queries&&(t.queries=new Ng),t.queries.track(new Pg(e,n))}function $g(t,e){return t.queries.getByIndex(e)}function Kg(t,e){return gs(Rh,ch,t,e)}function Gg(t=O.Default){const e=ys(!0);if(null!=e||t&O.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Xg=(()=>({"\u0275\u0275attribute":ju,"\u0275\u0275attributeInterpolate1":Vu,"\u0275\u0275attributeInterpolate2":Uu,"\u0275\u0275attributeInterpolate3":qu,"\u0275\u0275attributeInterpolate4":Bu,"\u0275\u0275attributeInterpolate5":Hu,"\u0275\u0275attributeInterpolate6":zu,"\u0275\u0275attributeInterpolate7":Wu,"\u0275\u0275attributeInterpolate8":Qu,"\u0275\u0275attributeInterpolateV":$u,"\u0275\u0275defineComponent":Bt,"\u0275\u0275defineDirective":Xt,"\u0275\u0275defineInjectable":j,"\u0275\u0275defineInjector":k,"\u0275\u0275defineNgModule":$t,"\u0275\u0275definePipe":Yt,"\u0275\u0275directiveInject":Yu,"\u0275\u0275getFactoryOf":ur,"\u0275\u0275getInheritedFactory":cr,"\u0275\u0275inject":yt,"\u0275\u0275injectAttribute":Zu,"\u0275\u0275invalidFactory":Ju,"\u0275\u0275invalidFactoryDep":vt,"\u0275\u0275injectPipeChangeDetectorRef":Gg,"\u0275\u0275templateRefExtractor":Kg,"\u0275\u0275NgOnChangesFeature":fe,"\u0275\u0275ProvidersFeature":th,"\u0275\u0275CopyDefinitionFeature":mu,"\u0275\u0275InheritDefinitionFeature":cu,"\u0275\u0275nextContext":mc,"\u0275\u0275namespaceHTML":_n,"\u0275\u0275namespaceMathML":wn,"\u0275\u0275namespaceSVG":bn,"\u0275\u0275enableBindings":Ue,"\u0275\u0275disableBindings":qe,"\u0275\u0275elementStart":nc,"\u0275\u0275elementEnd":rc,"\u0275\u0275element":ic,"\u0275\u0275elementContainerStart":oc,"\u0275\u0275elementContainerEnd":sc,"\u0275\u0275elementContainer":ac,"\u0275\u0275pureFunction0":ng,"\u0275\u0275pureFunction1":rg,"\u0275\u0275pureFunction2":ig,"\u0275\u0275pureFunction3":og,"\u0275\u0275pureFunction4":sg,"\u0275\u0275pureFunction5":ag,"\u0275\u0275pureFunction6":ug,"\u0275\u0275pureFunction7":cg,"\u0275\u0275pureFunction8":lg,"\u0275\u0275pureFunctionV":hg,"\u0275\u0275getCurrentView":uc,"\u0275\u0275restoreView":ze,"\u0275\u0275listener":hc,"\u0275\u0275projection":_c,"\u0275\u0275syntheticHostProperty":Ql,"\u0275\u0275syntheticHostListener":dc,"\u0275\u0275pipeBind1":bg,"\u0275\u0275pipeBind2":wg,"\u0275\u0275pipeBind3":_g,"\u0275\u0275pipeBind4":Eg,"\u0275\u0275pipeBindV":Sg,"\u0275\u0275projectionDef":vc,"\u0275\u0275hostProperty":Wl,"\u0275\u0275property":tc,"\u0275\u0275propertyInterpolate":Ec,"\u0275\u0275propertyInterpolate1":Sc,"\u0275\u0275propertyInterpolate2":Cc,"\u0275\u0275propertyInterpolate3":Ic,"\u0275\u0275propertyInterpolate4":Oc,"\u0275\u0275propertyInterpolate5":Tc,"\u0275\u0275propertyInterpolate6":xc,"\u0275\u0275propertyInterpolate7":jc,"\u0275\u0275propertyInterpolate8":Ac,"\u0275\u0275propertyInterpolateV":kc,"\u0275\u0275pipe":vg,"\u0275\u0275queryRefresh":Lg,"\u0275\u0275viewQuery":Vg,"\u0275\u0275staticViewQuery":Fg,"\u0275\u0275staticContentQuery":Bg,"\u0275\u0275loadQuery":zg,"\u0275\u0275contentQuery":qg,"\u0275\u0275reference":Xu,"\u0275\u0275classMap":Kc,"\u0275\u0275classMapInterpolate1":vl,"\u0275\u0275classMapInterpolate2":bl,"\u0275\u0275classMapInterpolate3":wl,"\u0275\u0275classMapInterpolate4":_l,"\u0275\u0275classMapInterpolate5":El,"\u0275\u0275classMapInterpolate6":Sl,"\u0275\u0275classMapInterpolate7":Cl,"\u0275\u0275classMapInterpolate8":Il,"\u0275\u0275classMapInterpolateV":Ol,"\u0275\u0275styleMap":Qc,"\u0275\u0275styleMapInterpolate1":Tl,"\u0275\u0275styleMapInterpolate2":xl,"\u0275\u0275styleMapInterpolate3":jl,"\u0275\u0275styleMapInterpolate4":Al,"\u0275\u0275styleMapInterpolate5":kl,"\u0275\u0275styleMapInterpolate6":Nl,"\u0275\u0275styleMapInterpolate7":Pl,"\u0275\u0275styleMapInterpolate8":Dl,"\u0275\u0275styleMapInterpolateV":Rl,"\u0275\u0275styleProp":zc,"\u0275\u0275stylePropInterpolate1":Ml,"\u0275\u0275stylePropInterpolate2":Ll,"\u0275\u0275stylePropInterpolate3":Fl,"\u0275\u0275stylePropInterpolate4":Vl,"\u0275\u0275stylePropInterpolate5":Ul,"\u0275\u0275stylePropInterpolate6":ql,"\u0275\u0275stylePropInterpolate7":Bl,"\u0275\u0275stylePropInterpolate8":Hl,"\u0275\u0275stylePropInterpolateV":zl,"\u0275\u0275classProp":Wc,"\u0275\u0275advance":Bi,"\u0275\u0275template":Ku,"\u0275\u0275text":al,"\u0275\u0275textInterpolate":ul,"\u0275\u0275textInterpolate1":cl,"\u0275\u0275textInterpolate2":ll,"\u0275\u0275textInterpolate3":hl,"\u0275\u0275textInterpolate4":dl,"\u0275\u0275textInterpolate5":fl,"\u0275\u0275textInterpolate6":pl,"\u0275\u0275textInterpolate7":gl,"\u0275\u0275textInterpolate8":ml,"\u0275\u0275textInterpolateV":yl,"\u0275\u0275i18n":Hp,"\u0275\u0275i18nAttributes":zp,"\u0275\u0275i18nExp":Wp,"\u0275\u0275i18nStart":qp,"\u0275\u0275i18nEnd":Bp,"\u0275\u0275i18nApply":Qp,"\u0275\u0275i18nPostprocess":$p,"\u0275\u0275resolveWindow":qn,"\u0275\u0275resolveDocument":Bn,"\u0275\u0275resolveBody":Hn,"\u0275\u0275setComponentScope":Ht,"\u0275\u0275setNgModuleScope":Kt,"\u0275\u0275sanitizeHtml":si,"\u0275\u0275sanitizeStyle":ai,"\u0275\u0275sanitizeResourceUrl":ci,"\u0275\u0275sanitizeScript":li,"\u0275\u0275sanitizeUrl":ui,"\u0275\u0275sanitizeUrlOrResourceUrl":di}))();let Yg=null;function Zg(){Yg=null}const Jg=[],tm=[];let em=!1;function nm(){if(!em){em=!0;try{for(let t=tm.length-1;t>=0;t--){const{moduleType:e,ngModule:n}=tm[t];n.declarations&&n.declarations.every(rm)&&(tm.splice(t,1),cm(e,n))}}finally{em=!1}}}function rm(t){return Array.isArray(t)?t.every(rm):!!z(t)}function im(t,e={}){om(t,e),function(t,e){tm.push({moduleType:t,ngModule:e})}(t,e)}function om(t,e,n=!1){const r=Tt(e.declarations||Jg);let i=null;Object.defineProperty(t,nt,{configurable:!0,get:()=>(null===i&&(i=Z().compileNgModule(Xg,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:Tt(e.bootstrap||Jg).map(z),declarations:r.map(z),imports:Tt(e.imports||Jg).map(z).map(dm),exports:Tt(e.exports||Jg).map(z).map(dm),schemas:e.schemas?Tt(e.schemas):null,id:e.id||null}),i.schemas||(i.schemas=[])),i)});let o=null;Object.defineProperty(t,M,{get:()=>{if(null===o){const n={name:t.name,type:t,deps:Ns(t),providers:e.providers||Jg,imports:[(e.imports||Jg).map(z),(e.exports||Jg).map(z)]};o=Z().compileInjector(Xg,`ng:///${t.name}/\u0275inj.js`,n)}return o},configurable:!1})}let sm=new Map,am=new Map;function um(){sm=new Map,am=new Map,tm.length=0}function cm(t,e){const n=Tt(e.declarations||Jg),r=hm(t);n.forEach(e=>{e.hasOwnProperty(J)?lm(Zt(e),r):e.hasOwnProperty(tt)||e.hasOwnProperty(et)||(e.ngSelectorScope=t)})}function lm(t,e){t.directiveDefs=()=>Array.from(e.compilation.directives).map(t=>t.hasOwnProperty(J)?Zt(t):Jt(t)).filter(t=>!!t),t.pipeDefs=()=>Array.from(e.compilation.pipes).map(t=>te(t)),t.schemas=e.schemas,t.tView=null}function hm(t){if(!fm(t))throw new Error(t.name+" does not have a module def (\u0275mod property)");const e=ne(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;const n={schemas:e.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return zn(e.imports).forEach(t=>{const e=t;if(!fm(e))throw new Error(`Importing ${e.name} which does not have a \u0275mod property`);const r=hm(e);r.exported.directives.forEach(t=>n.compilation.directives.add(t)),r.exported.pipes.forEach(t=>n.compilation.pipes.add(t))}),zn(e.declarations).forEach(t=>{te(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),zn(e.exports).forEach(t=>{const e=t;if(fm(e)){const t=hm(e);t.exported.directives.forEach(t=>{n.compilation.directives.add(t),n.exported.directives.add(t)}),t.exported.pipes.forEach(t=>{n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else te(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function dm(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function fm(t){return!!ne(t)}let pm=0;function gm(t,e){let n=null;!function(t,e){Ra(e)&&(Pa.set(t,e),Da.add(t))}(t,e),vm(t,e),Object.defineProperty(t,J,{get:()=>{if(null===n){const r=Z();if(Ra(e)){const n=[`Component '${t.name}' is not resolved:`];throw e.templateUrl&&n.push(" - templateUrl: "+e.templateUrl),e.styleUrls&&e.styleUrls.length&&n.push(" - styleUrls: "+JSON.stringify(e.styleUrls)),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=Yg;let o=e.preserveWhitespaces;void 0===o&&(o=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let s=e.encapsulation;void 0===s&&(s=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:Ft.Emulated);const a=e.templateUrl||`ng:///${t.name}/template.html`,u=Object.assign(Object.assign({},wm(t,e)),{typeSourceSpan:r.createParseSourceSpan("Component",t.name,a),template:e.template||"",preserveWhitespaces:o,styles:e.styles||Ut,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:s,interpolation:e.interpolation,viewProviders:e.viewProviders||null});pm++;try{u.usesInheritance&&_m(t),n=r.compileComponent(Xg,a,u)}finally{pm--}if(0===pm&&nm(),void 0!==t.ngSelectorScope){const e=hm(t.ngSelectorScope);lm(n,e)}}return n},configurable:!1})}function mm(t,e){let n=null;vm(t,e||{}),Object.defineProperty(t,tt,{get:()=>{if(null===n){const r=ym(t,e||{});n=Z().compileDirective(Xg,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function ym(t,e){const n=t&&t.name,r=`ng:///${n}/\u0275dir.js`,i=Z(),o=wm(t,e);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&_m(t),{metadata:o,sourceMapUrl:r}}function vm(t,e){let n=null;Object.defineProperty(t,it,{get:()=>{if(null===n){const r=ym(t,e),i=Z();n=i.compileFactory(Xg,`ng:///${t.name}/\u0275fac.js`,Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})}function bm(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function wm(t,e){const n=ks(),r=n.ownPropMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:void 0!==e.selector?e.selector:null,deps:Ns(t),host:e.host||Vt,propMetadata:r,inputs:e.inputs||Ut,outputs:e.outputs||Ut,queries:Sm(t,r,Cm),lifecycle:{usesOnChanges:n.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!bm(t),exportAs:(i=e.exportAs,void 0===i?null:Tm(i)),providers:e.providers||null,viewQueries:Sm(t,r,Im)};var i}function _m(t){const e=Object.prototype;let n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==e;)Jt(n)||Zt(n)||!jm(n)||mm(n,null),n=Object.getPrototypeOf(n)}function Em(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?Tm(n):z(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static};var n}function Sm(t,e,n){const r=[];for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];o.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${i}" of "${Vn(t)}" since the query selector wasn't defined.`);if(o.some(Om))throw new Error("Cannot combine @Input decorators with query decorators");r.push(Em(i,e))}})}return r}function Cm(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function Im(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function Om(t){return"Input"===t.ngMetadataName}function Tm(t){return t.split(",").map(t=>t.trim())}const xm=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function jm(t){const e=ks();if(xm.some(n=>e.hasLifecycleHook(t,n)))return!0;const n=e.propMetadata(t);for(const r in n){const t=n[r];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(Om(n)||Cm(n)||Im(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function Am(t,e){let n=null,r=null;Object.defineProperty(t,it,{get:()=>{if(null===r){const n=km(t,e),i=Z();r=i.compileFactory(Xg,`ng:///${n.name}/\u0275fac.js`,Object.assign(Object.assign({},n),{injectFn:"directiveInject",target:i.R3FactoryTarget.Pipe}))}return r},configurable:!1}),Object.defineProperty(t,et,{get:()=>{if(null===n){const r=km(t,e);n=Z().compilePipe(Xg,`ng:///${r.name}/\u0275pipe.js`,r)}return n},configurable:!1})}function km(t,e){return{type:t,typeArgumentCount:0,name:t.name,deps:Ns(t),pipeName:e.name,pure:void 0===e.pure||e.pure}}const Nm=p("Directive",(t={})=>t,void 0,void 0,(t,e)=>Hm(t,e)),Pm=p("Component",(t={})=>Object.assign({changeDetection:Rt.Default},t),Nm,void 0,(t,e)=>Bm(t,e)),Dm=p("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,e)=>zm(t,e)),Rm=y("Input",t=>({bindingPropertyName:t})),Mm=y("Output",t=>({bindingPropertyName:t})),Lm=y("HostBinding",t=>({hostPropertyName:t})),Fm=y("HostListener",(t,e)=>({eventName:t,args:e})),Vm=gm,Um=mm,qm=Am,Bm=Vm,Hm=Um,zm=qm,Wm=p("NgModule",t=>t,void 0,void 0,(t,e)=>$m(t,e)),Qm=im,$m=Qm,Km=new st("Application Initializer");let Gm=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();cc(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(yt(Km,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Xm=new st("AppId");function Ym(){return`${Jm()}${Jm()}${Jm()}`}const Zm={provide:Xm,useFactory:Ym,deps:[]};function Jm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ty=new st("Platform Initializer"),ey=new st("Platform ID"),ny=new st("appBootstrapListener"),ry=new st("Application Packages Root URL");let iy=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const oy=new st("LocaleId"),sy=new st("DefaultCurrencyCode"),ay=new st("Translations"),uy=new st("TranslationsFormat");var cy=function(t){return t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore",t}({});const ly=!0,hy=ly;class dy{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const fy=function(t){return new eg(t)},py=fy,gy=function(t){return Promise.resolve(fy(t))},my=gy,yy=function(t){const e=fy(t),n=zn(ne(t).declarations).reduce((t,e)=>{const n=Zt(e);return n&&t.push(new Ff(n)),t},[]);return new dy(e,n)},vy=yy,by=function(t){return Promise.resolve(yy(t))},wy=by;let _y=(()=>{class t{constructor(){this.compileModuleSync=py,this.compileModuleAsync=my,this.compileModuleAndAllComponentsSync=vy,this.compileModuleAndAllComponentsAsync=wy}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Ey=new st("compilerOptions");class Sy{}const Cy=(()=>Promise.resolve(0))();function Iy(t){"undefined"==typeof Zone?Cy.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Oy{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Og(!1),this.onMicrotaskEmpty=new Og(!1),this.onStable=new Og(!1),this.onError=new Og(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=X.requestAnimationFrame,e=X.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(X,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ay(t),jy(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ay(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return ky(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Ny(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return ky(t),e.invoke(r,i,o,s,a)}finally{Ny(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ay(t),jy(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oy.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Oy.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,xy,Ty,Ty);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ty(){}const xy={};function jy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ay(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ky(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ny(t){t._nesting--,jy(t)}class Py{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Og,this.onMicrotaskEmpty=new Og,this.onStable=new Og,this.onError=new Og}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Dy=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oy.assertNotInAngularZone(),Iy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(yt(Oy))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Ry=(()=>{class t{constructor(){this._applications=new Map,Vy.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Vy.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class My{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ly(t){Vy=t}let Fy,Vy=new My,Uy=qy;function qy(t,e,n){const r=new eg(n);return Promise.resolve(r)}let By=Hy;function Hy(t){return t.isBoundToModule}const zy=new st("AllowMultipleToken");class Wy{constructor(t,e){this.name=t,this.token=e}}function Qy(t){if(Fy&&!Fy.destroyed&&!Fy.injector.get(zy,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Fy=t.get(Yy);const e=t.get(ty,null);return e&&e.forEach(t=>t()),Fy}function $y(t,e,n=[]){const r="Platform: "+e,i=new st(r);return(e=[])=>{let o=Xy();if(!o||o.injector.get(zy,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:qs,useValue:"platform"});Qy(ra.create({providers:t,name:r}))}return Ky(i)}}function Ky(t){const e=Xy();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function Gy(){Fy&&!Fy.destroyed&&Fy.destroy()}function Xy(){return Fy&&!Fy.destroyed?Fy:null}let Yy=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Py:("zone.js"===t?void 0:t)||new Oy({enableLongStackTrace:Nr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Oy,useValue:n}];return n.run(()=>{const e=ra.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(fr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>tv(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return cc(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Gm);return t.runInitializers(),t.donePromise.then(()=>(hy&&tp(i.injector.get(oy,Yf)||Yf),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Zy({},e);return Uy(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Jy);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${U(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(yt(ra))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Zy(t,e){return Array.isArray(e)?e.reduce(Zy,t):Object.assign(Object.assign({},t),e)}let Jy=(()=>{class t{constructor(t,e,n,r,i,l){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Nr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),d=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Oy.assertNotInAngularZone(),Iy(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Oy.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(h,d.pipe(t=>Object(u.a)()(Object(a.a)(c)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof nh?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=By(n)?void 0:this._injector.get(Ct),i=n.create(ra.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Dy,null);return o&&i.injector.get(Ry).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Nr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;tv(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ny,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),tv(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(yt(Oy),yt(iy),yt(ra),yt(fr),yt(sh),yt(Gm))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function tv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ev{}function nv(t){const e=Jp(t);if(!e)throw ov(t);return e}function rv(t){const e=Jp(t);if(!e)throw ov(t);return new eg(e)}const iv=rv;function ov(t){return new Error(`No module with ID ${t} loaded`)}class sv{}const av={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let uv=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||av}load(t){return!hy&&this._compiler instanceof _y?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>cv(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>cv(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(yt(_y),yt(sv,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function cv(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class lv extends vs{}class hv extends lv{}class dv{constructor(t,e){this.name=t,this.callback=e}}class fv{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof pv&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class pv extends fv{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof pv&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof pv&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof pv&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof pv)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}function gv(t){return t.map(t=>t.nativeElement)}class mv{constructor(t){this.nativeNode=t}get parent(){const t=this.nativeNode.parentNode;return t?new yv(t):null}get injector(){return Wa(this.nativeNode)}get componentInstance(){const t=this.nativeNode;return t&&(qa(t)||Ha(t))}get context(){return qa(this.nativeNode)||Ba(this.nativeNode)}get listeners(){return Ga(this.nativeNode).filter(t=>"dom"===t.type)}get references(){return function(t){const e=$a(t,!1);return null===e?{}:(void 0===e.localRefs&&(e.localRefs=function(t,e){const n=t[1].data[e];if(n&&n.localNames){const e={};let r=n.index+1;for(let i=0;i<n.localNames.length;i+=2)e[n.localNames[i]]=t[r],r++;return e}return null}(e.lView,e.nodeIndex)),e.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(t){const e=$a(t,!1);if(null===e)return[];const n=e.lView[1],r=n.data[e.nodeIndex],i=[],o=r.directiveEnd;for(let a=1048575&r.providerIndexes;a<o;a++){let t=n.data[a];void 0!==(s=t).type&&void 0!==s.template&&void 0!==s.declaredInputs&&(t=t.type),i.push(t)}var s;return i}(this.nativeNode)}}class yv extends mv{constructor(t){super(t)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){try{const t=$a(this.nativeNode);return t.lView[1].data[t.nodeIndex].tagName}catch(t){return this.nativeNode.nodeName}}get properties(){const t=$a(this.nativeNode,!1);if(null==t)return{};const e=t.lView,n=e[1].data,r=n[t.nodeIndex],i={};return function(t,e){if(t){let n=Object.getPrototypeOf(t);const r=Node.prototype;for(;null!==n&&n!==r;){const r=Object.getOwnPropertyDescriptors(n);for(let n in r)if(!n.startsWith("__")&&!n.startsWith("on")){const r=t[n];vv(r)&&(e[n]=r)}n=Object.getPrototypeOf(n)}}}(this.nativeElement,i),function(t,e,n,r){let i=e.propertyBindings;if(null!==i)for(let o=0;o<i.length;o++){const e=i[o],s=r[e].split("\ufffd"),a=s[0];if(s.length>1){let r=s[1];for(let t=1;t<s.length-1;t++)r+=Fn(n[e+t-1])+s[t+1];t[a]=r}else t[a]=n[e]}}(i,r,e,n),i}get attributes(){const t={},e=this.nativeElement;if(!e)return t;const n=$a(e,!1);if(null==n)return{};const r=n.lView[1].data[n.nodeIndex].attrs,i=[];if(r){let e=0;for(;e<r.length;){const n=r[e];if("string"!=typeof n)break;t[n]=r[e+1],i.push(n.toLowerCase()),e+=2}}const o=e.attributes;for(let s=0;s<o.length;s++){const e=o[s],n=e.name.toLowerCase();-1===i.indexOf(n)&&(t[n]=e.value)}return t}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const t={},e=this.nativeElement.className;return(e&&"string"!=typeof e?e.baseVal.split(" "):e.split(" ")).forEach(e=>t[e]=!0),t}get childNodes(){const t=this.nativeNode.childNodes,e=[];for(let n=0;n<t.length;n++)e.push(Iv(t[n]));return e}get children(){const t=this.nativeElement;if(!t)return[];const e=t.children,n=[];for(let r=0;r<e.length;r++)n.push(Iv(e[r]));return n}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return bv(this,t,e,!0),e}queryAllNodes(t){const e=[];return bv(this,t,e,!1),e}triggerEventHandler(t,e){const n=this.nativeNode,r=[];this.listeners.forEach(i=>{if(i.name===t){const t=i.callback;t.call(n,e),r.push(t)}}),"function"==typeof n.eventListeners&&n.eventListeners(t).forEach(t=>{if(-1!==t.toString().indexOf("__ngUnwrap__")){const i=t("__ngUnwrap__");return-1===r.indexOf(i)&&i.call(n,e)}})}}function vv(t){return"string"==typeof t||"boolean"==typeof t||"number"==typeof t||null===t}function bv(t,e,n,r){const i=$a(t.nativeNode,!1);null!==i?wv(i.lView[1].data[i.nodeIndex],i.lView,e,n,r,t.nativeNode):Sv(t.nativeNode,e,n,r)}function wv(t,e,n,r,i,o){const s=function(t,e){const n=null===t?-1:t.index;return-1!==n?Ie(e[n]):null}(t,e);if(2===t.type||3===t.type){if(Ev(s,n,r,i,o),ue(t)){const s=Ae(t.index,e);s&&s[1].firstChild&&wv(s[1].firstChild,s,n,r,i,o)}else t.child&&wv(t.child,e,n,r,i,o),s&&Sv(s,n,r,i);const a=e[t.index];se(a)&&_v(a,n,r,i,o)}else if(0===t.type){const s=e[t.index];Ev(s[7],n,r,i,o),_v(s,n,r,i,o)}else if(1===t.type){const s=e[16],a=s[6].projection[t.projection];if(Array.isArray(a))for(let t of a)Ev(t,n,r,i,o);else if(a){const t=s[3];wv(t[1].data[a.index],t,n,r,i,o)}}else t.child&&wv(t.child,e,n,r,i,o);if(o!==s){const s=4&t.flags?t.projectionNext:t.next;s&&wv(s,e,n,r,i,o)}}function _v(t,e,n,r,i){for(let o=ie;o<t.length;o++){const s=t[o],a=s[1].firstChild;a&&wv(a,s,e,n,r,i)}}function Ev(t,e,n,r,i){if(i!==t){const i=Ov(t);if(!i)return;(r&&i instanceof yv&&e(i)&&-1===n.indexOf(i)||!r&&e(i)&&-1===n.indexOf(i))&&n.push(i)}}function Sv(t,e,n,r){const i=t.childNodes,o=i.length;for(let s=0;s<o;s++){const t=i[s],o=Ov(t);o&&((r&&o instanceof yv&&e(o)&&-1===n.indexOf(o)||!r&&e(o)&&-1===n.indexOf(o))&&n.push(o),Sv(t,e,n,r))}}const Cv=new Map;function Iv(t){return t instanceof Node?(t.hasOwnProperty("__ng_debug__")||(t.__ng_debug__=t.nodeType==Node.ELEMENT_NODE?new yv(t):new mv(t)),t.__ng_debug__):null}const Ov=Iv;function Tv(t){return function(t){return Cv.get(t)||null}(t)}const xv=function(t){return null};function jv(t){Cv.set(t.nativeNode,t)}const Av=mv,kv=yv,Nv=$y(null,"core",[{provide:ey,useValue:"unknown"},{provide:Yy,deps:[ra]},{provide:Ry,deps:[]},{provide:iy,deps:[]}]);function Pv(){return Ph}function Dv(){return Dh}function Rv(t){return t=t||hy&&"undefined"!=typeof $localize&&$localize.locale||Yf,hy&&tp(t),t}const Mv=Zf,Lv=[{provide:Jy,useClass:Jy,deps:[Oy,iy,ra,fr,sh,Gm]},{provide:Lf,deps:[Oy],useFactory:Fv},{provide:Gm,useClass:Gm,deps:[[new w,Km]]},{provide:_y,useClass:_y,deps:[]},Zm,{provide:Ah,useFactory:Pv,deps:[]},{provide:kh,useFactory:Dv,deps:[]},{provide:oy,useFactory:Rv,deps:[[new b(oy),new w,new E]]},{provide:sy,useValue:Mv}];function Fv(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}let Vv=(()=>{class t{constructor(t){}}return t.\u0275mod=$t({type:t}),t.\u0275inj=k({factory:function(e){return new(e||t)(yt(Jy))},providers:Lv}),t})();function Uv(t,e,n,r,i,o){t|=1;const{matchedQueries:s,references:a,matchedQueryIds:u}=bd(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:u,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Sd(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Jh},provider:null,text:null,query:null,ngContent:null}}function qv(t,e,n,r,i,o,s=[],a,u,c,l,h){c||(c=Jh);const{matchedQueries:d,references:f,matchedQueryIds:p}=bd(n);let g=null,m=null;o&&([g,m]=Ad(o)),a=a||[];const y=[];for(let w=0;w<a.length;w++){const[t,e,n]=a[w],[r,i]=Ad(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}y[w]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}u=u||[];const v=[];for(let w=0;w<u.length;w++){const[t,e]=u[w];v[w]={type:0,target:t,eventName:e,propName:null}}const b=(s=s||[]).map(([t,e])=>{const[n,r]=Ad(t);return[n,r,e]});return h=function(t){if(t&&t.id===rd){const e=null!=t.encapsulation&&t.encapsulation!==Ft.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+sd++:id}return t&&t.id===id&&(t=null),t||null}(h),l&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:kd(y),outputs:v,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:l||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||Jh},provider:null,text:null,query:null,ngContent:null}}function Bv(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=_d(t,e,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Ft.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];o.setAttribute(s,e,n,t)}return s}function Hv(t,e,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],u=zv(t,n.nodeIndex,(o=a.eventName,(i=a.target)?`${i}:${o}`:o));let c=a.target,l=t;"component"===a.target&&(c=null,l=e);const h=l.renderer.listen(c||r,a.eventName,u);t.disposables[n.outputIndex+s]=h}var i,o}function zv(t,e,n){return r=>dd(t,e,n,r)}function Wv(t,e,n,r){if(!ud(t,e,n,r))return!1;const i=e.bindings[n],o=$h(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const s=e.securityContext;let a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const u=t.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(t,i,s,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(oi.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,s,a,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}function Qv(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:vd(e),bindings:r},ngContent:null}}function $v(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&yd(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Xh(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Xh(t,n).setDirty(),n+=e.childCount}}function Kv(t,e){const n=Xh(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Gv(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=Kh(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Gv(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const t=o[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}r[t.propName]=e}s&&n.notifyOnChanges()}function Gv(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(Xv(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=$h(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Gv(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=fd(o);s&&s===n&&Gv(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];Gv(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function Xv(t,e,n){if(null!=n)switch(n){case 1:return $h(t,e.nodeIndex).renderElement;case 0:return new ch($h(t,e.nodeIndex).renderElement);case 2:return $h(t,e.nodeIndex).template;case 3:return $h(t,e.nodeIndex).viewContainer;case 4:return Kh(t,e.nodeIndex).instance}}function Yv(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Zv(t,e,n){const r=_d(t,e,n);r&&Od(t,n.ngContent.index,1,r,null,void 0)}function Jv(t,e){return nb(128,t,kt(e+1))}function tb(t,e){return nb(32,t,kt(e))}function eb(t,e){const n=Object.keys(e),r=n.length,i=[];for(let o=0;o<r;o++)i.push(n[o]);return nb(64,t,i)}function nb(t,e,n){const r=[];for(let i=0;i<n.length;i++){const t=n[i];r.push({flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:kd(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function rb(t,e,n){const r=[];for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function ib(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=_d(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function ob(t,e){return(null!=t?t.toString():"")+e.suffix}function sb(t,e,n,r){let i=0,o=0,s=0,a=0,u=0,c=null,l=null,h=!1,d=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=c,t.bindingIndex=i,t.outputIndex=o,t.renderParent=l,s|=t.flags,u|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=c?c.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(u|=t.element.template.nodeMatchedQueries)}if(ub(c,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!l&&3&t.flags&&(f=t),20224&t.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?c.element.publicProviders[ed(t.provider.token)]=t:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[ed(t.provider.token)]=t),e&&(c.element.componentProvider=t)}if(c?(c.childFlags|=t.flags,c.directChildFlags|=t.flags,c.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(c.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)c=t,ab(t)||(l=t);else for(;c&&p===c.nodeIndex+c.childCount;){const t=c.parent;t&&(t.childFlags|=c.childFlags,t.childMatchedQueries|=c.childMatchedQueries),c=t,l=c&&ab(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Jh,updateRenderer:r||Jh,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function ab(t){return 0!=(1&t.flags)&&null===t.element.name}function ub(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function cb(t,e,n,r){const i=db(t.root,t.renderer,t,e,n);return fb(i,t.component,r),pb(i),i}function lb(t,e,n){const r=db(t,t.renderer,null,null,e);return fb(r,n,n),pb(r),r}function hb(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,db(t.root,o,t,e.element.componentProvider,n)}function db(t,e,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function fb(t,e,n){t.component=e,t.context=n}function pb(t){let e;md(t)&&(e=$h(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(Zh.setCurrentNode(t,i),201347067&o.flags){case 1:const n=Bv(t,e,o);let a=void 0;if(33554432&o.flags){const e=Sd(o.element.componentView);a=Zh.createComponentView(t,o,e,n)}Hv(t,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?rf(t,o):void 0},16777216&o.flags&&(s.viewContainer=Jd(t,o,s));break;case 2:s=ib(t,e,o);break;case 512:case 1024:case 2048:case 256:s=r[i],s||4096&o.flags||(s={instance:Ef(t,o)});break;case 16:s={instance:Sf(t,o)};break;case 16384:s=r[i],s||(s={instance:Cf(t,o)}),32768&o.flags&&fb($h(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new xg;break;case 8:Zv(t,e,o),s=void 0}r[i]=s}Sb(t,Eb.CreateViewNodes),Tb(t,201326592,268435456,0)}function gb(t){vb(t),Zh.updateDirectives(t,1),Cb(t,Eb.CheckNoChanges),Zh.updateRenderer(t,1),Sb(t,Eb.CheckNoChanges),t.state&=-97}function mb(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,zh(t,0,256),vb(t),Zh.updateDirectives(t,0),Cb(t,Eb.CheckAndUpdate),Tb(t,67108864,536870912,0);let e=zh(t,256,512);Nf(t,2097152|(e?1048576:0)),Zh.updateRenderer(t,0),Sb(t,Eb.CheckAndUpdate),Tb(t,134217728,536870912,0),e=zh(t,512,768),Nf(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,zh(t,768,1024)}function yb(t,e,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(t,e,n,r,i,o,s,a,u,c,l,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,a,u,c,l,h){const d=e.bindings.length;let f=!1;return d>0&&Wv(t,e,0,n)&&(f=!0),d>1&&Wv(t,e,1,r)&&(f=!0),d>2&&Wv(t,e,2,i)&&(f=!0),d>3&&Wv(t,e,3,o)&&(f=!0),d>4&&Wv(t,e,4,s)&&(f=!0),d>5&&Wv(t,e,5,a)&&(f=!0),d>6&&Wv(t,e,6,u)&&(f=!0),d>7&&Wv(t,e,7,c)&&(f=!0),d>8&&Wv(t,e,8,l)&&(f=!0),d>9&&Wv(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,o,s,a,u,c,l,h);case 2:return function(t,e,n,r,i,o,s,a,u,c,l,h){let d=!1;const f=e.bindings,p=f.length;if(p>0&&ud(t,e,0,n)&&(d=!0),p>1&&ud(t,e,1,r)&&(d=!0),p>2&&ud(t,e,2,i)&&(d=!0),p>3&&ud(t,e,3,o)&&(d=!0),p>4&&ud(t,e,4,s)&&(d=!0),p>5&&ud(t,e,5,a)&&(d=!0),p>6&&ud(t,e,6,u)&&(d=!0),p>7&&ud(t,e,7,c)&&(d=!0),p>8&&ud(t,e,8,l)&&(d=!0),p>9&&ud(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;p>0&&(d+=ob(n,f[0])),p>1&&(d+=ob(r,f[1])),p>2&&(d+=ob(i,f[2])),p>3&&(d+=ob(o,f[3])),p>4&&(d+=ob(s,f[4])),p>5&&(d+=ob(a,f[5])),p>6&&(d+=ob(u,f[6])),p>7&&(d+=ob(c,f[7])),p>8&&(d+=ob(l,f[8])),p>9&&(d+=ob(h,f[9]));const g=Qh(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,r,i,o,s,a,u,c,l,h);case 16384:return function(t,e,n,r,i,o,s,a,u,c,l,h){const d=Kh(t,e.nodeIndex),f=d.instance;let p=!1,g=void 0;const m=e.bindings.length;return m>0&&ad(t,e,0,n)&&(p=!0,g=kf(t,d,e,0,n,g)),m>1&&ad(t,e,1,r)&&(p=!0,g=kf(t,d,e,1,r,g)),m>2&&ad(t,e,2,i)&&(p=!0,g=kf(t,d,e,2,i,g)),m>3&&ad(t,e,3,o)&&(p=!0,g=kf(t,d,e,3,o,g)),m>4&&ad(t,e,4,s)&&(p=!0,g=kf(t,d,e,4,s,g)),m>5&&ad(t,e,5,a)&&(p=!0,g=kf(t,d,e,5,a,g)),m>6&&ad(t,e,6,u)&&(p=!0,g=kf(t,d,e,6,u,g)),m>7&&ad(t,e,7,c)&&(p=!0,g=kf(t,d,e,7,c,g)),m>8&&ad(t,e,8,l)&&(p=!0,g=kf(t,d,e,8,l,g)),m>9&&ad(t,e,9,h)&&(p=!0,g=kf(t,d,e,9,h,g)),g&&f.ngOnChanges(g),65536&e.flags&&Wh(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,r,i,o,s,a,u,c,l,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,a,u,c,l,h){const d=e.bindings;let f=!1;const p=d.length;if(p>0&&ud(t,e,0,n)&&(f=!0),p>1&&ud(t,e,1,r)&&(f=!0),p>2&&ud(t,e,2,i)&&(f=!0),p>3&&ud(t,e,3,o)&&(f=!0),p>4&&ud(t,e,4,s)&&(f=!0),p>5&&ud(t,e,5,a)&&(f=!0),p>6&&ud(t,e,6,u)&&(f=!0),p>7&&ud(t,e,7,c)&&(f=!0),p>8&&ud(t,e,8,l)&&(f=!0),p>9&&ud(t,e,9,h)&&(f=!0),f){const f=Gh(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=[],p>0&&g.push(n),p>1&&g.push(r),p>2&&g.push(i),p>3&&g.push(o),p>4&&g.push(s),p>5&&g.push(a),p>6&&g.push(u),p>7&&g.push(c),p>8&&g.push(l),p>9&&g.push(h);break;case 64:g={},p>0&&(g[d[0].name]=n),p>1&&(g[d[1].name]=r),p>2&&(g[d[2].name]=i),p>3&&(g[d[3].name]=o),p>4&&(g[d[4].name]=s),p>5&&(g[d[5].name]=a),p>6&&(g[d[6].name]=u),p>7&&(g[d[7].name]=c),p>8&&(g[d[8].name]=l),p>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(p){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,o);break;case 5:g=t.transform(r,i,o,s);break;case 6:g=t.transform(r,i,o,s,a);break;case 7:g=t.transform(r,i,o,s,a,u);break;case 8:g=t.transform(r,i,o,s,a,u,c);break;case 9:g=t.transform(r,i,o,s,a,u,c,l);break;case 10:g=t.transform(r,i,o,s,a,u,c,l,h)}}f.value=g}return f}(t,e,n,r,i,o,s,a,u,c,l,h);default:throw"unreachable"}}(t,e,r,i,o,s,a,u,c,l,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)Wv(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)ud(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=ob(n[t],r[t]);i=e.text.prefix+i;const o=Qh(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=Kh(t,e.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)ad(t,e,a,n[a])&&(o=!0,s=kf(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),65536&e.flags&&Wh(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)ud(t,e,o,n[o])&&(i=!0);if(i){const i=Gh(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function vb(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=$h(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,hd(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function bb(t,e,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(t,e,n,r,i,o,s,a,u,c,l,h){const d=e.bindings.length;d>0&&cd(t,e,0,n),d>1&&cd(t,e,1,r),d>2&&cd(t,e,2,i),d>3&&cd(t,e,3,o),d>4&&cd(t,e,4,s),d>5&&cd(t,e,5,a),d>6&&cd(t,e,6,u),d>7&&cd(t,e,7,c),d>8&&cd(t,e,8,l),d>9&&cd(t,e,9,h)}(t,e,r,i,o,s,a,u,c,l,h,d):function(t,e,n){for(let r=0;r<n.length;r++)cd(t,e,r,n[r])}(t,e,r),!1}function wb(t,e){if(Xh(t,e.nodeIndex).dirty)throw qh(Zh.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function _b(t){if(!(128&t.state)){if(Cb(t,Eb.Destroy),Sb(t,Eb.Destroy),Nf(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=fd(t);if(e){const n=e.template._projectedViews;n&&(At(n,n.indexOf(t)),Zh.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode($h(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Qh(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Xh(t,n).destroy()}}(t),md(t)&&t.renderer.destroy(),t.state|=128}}var Eb=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function Sb(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Ib($h(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Cb(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=$h(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)Ib(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Ib(t,e){const n=t.state;switch(e){case Eb.CheckNoChanges:0==(128&n)&&(12==(12&n)?gb(t):64&n&&Ob(t,Eb.CheckNoChangesProjectedViews));break;case Eb.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?gb(t):64&n&&Ob(t,e));break;case Eb.CheckAndUpdate:0==(128&n)&&(12==(12&n)?mb(t):64&n&&Ob(t,Eb.CheckAndUpdateProjectedViews));break;case Eb.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?mb(t):64&n&&Ob(t,e));break;case Eb.Destroy:_b(t);break;case Eb.CreateViewNodes:pb(t)}}function Ob(t,e){Cb(t,e),Sb(t,e)}function Tb(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(Zh.setCurrentNode(t,i.nodeIndex),r){case 0:Kv(t,i);break;case 1:wb(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let xb=!1;function jb(){if(xb)return;xb=!0;const t=Nr()?{setCurrentNode:Zb,createRootView:kb,createEmbeddedView:Pb,createComponentView:Db,createNgModuleRef:Rb,overrideProvider:Vb,overrideComponentView:Ub,clearOverrides:qb,checkAndUpdateView:Wb,checkNoChangesView:Qb,destroyView:$b,createDebugContext:(t,e)=>new sw(t,e),handleEvent:Jb,updateDirectives:tw,updateRenderer:ew}:{setCurrentNode:()=>{},createRootView:Ab,createEmbeddedView:cb,createComponentView:hb,createNgModuleRef:cf,overrideProvider:Jh,overrideComponentView:Jh,clearOverrides:Jh,checkAndUpdateView:mb,checkNoChangesView:gb,destroyView:_b,createDebugContext:(t,e)=>new sw(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Hb:zb,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Hb:zb,t)};Zh.setCurrentNode=t.setCurrentNode,Zh.createRootView=t.createRootView,Zh.createEmbeddedView=t.createEmbeddedView,Zh.createComponentView=t.createComponentView,Zh.createNgModuleRef=t.createNgModuleRef,Zh.overrideProvider=t.overrideProvider,Zh.overrideComponentView=t.overrideComponentView,Zh.clearOverrides=t.clearOverrides,Zh.checkAndUpdateView=t.checkAndUpdateView,Zh.checkNoChangesView=t.checkNoChangesView,Zh.destroyView=t.destroyView,Zh.resolveDep=jf,Zh.createDebugContext=t.createDebugContext,Zh.handleEvent=t.handleEvent,Zh.updateDirectives=t.updateDirectives,Zh.updateRenderer=t.updateRenderer,Zh.dirtyParentQueries=$v}function Ab(t,e,n,r,i,o){const s=i.injector.get(dh);return lb(Nb(t,i,s,e,n),r,o)}function kb(t,e,n,r,i,o){const s=i.injector.get(dh),a=Nb(t,i,new lw(s),e,n),u=Bb(r);return uw(Kb.create,lb,null,[a,u,o])}function Nb(t,e,n,r,i){const o=e.injector.get(yh),s=e.injector.get(fr),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function Pb(t,e,n,r){const i=Bb(n);return uw(Kb.create,cb,null,[t,e,i,r])}function Db(t,e,n,r){return n=Fb.get(e.element.componentProvider.provider.token)||Bb(n),uw(Kb.create,hb,null,[t,e,n,r])}function Rb(t,e,n,r){return cf(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Mb.size||(t.providers.forEach(t=>{const r=Mb.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{Lb.forEach((r,i)=>{N(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=Mb.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=wd(i.deps),r.value=i.value)}if(Lb.size>0){let e=new Set(t.modules);Lb.forEach((r,i)=>{if(e.has(N(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:wd(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[ed(i)]=e}})}}(t=t.factory(()=>Jh)),t):t}(r))}const Mb=new Map,Lb=new Map,Fb=new Map;function Vb(t){let e;Mb.set(t.token,t),"function"==typeof t.token&&(e=N(t.token))&&"function"==typeof e.providedIn&&Lb.set(t.token,t)}function Ub(t,e){const n=Sd(Xd(e)),r=Sd(n.nodes[0].element.componentView);Fb.set(t,r)}function qb(){Mb.clear(),Lb.clear(),Fb.clear()}function Bb(t){if(0===Mb.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Mb.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Jh);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Mb.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=wd(n.deps),t.value=n.value)}}}}function Hb(t,e,n,r,i,o,s,a,u,c,l,h,d){const f=t.def.nodes[e];return yb(t,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?Gh(t,e).value:void 0}function zb(t,e,n,r,i,o,s,a,u,c,l,h,d){const f=t.def.nodes[e];return bb(t,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?Gh(t,e).value:void 0}function Wb(t){return uw(Kb.detectChanges,mb,null,[t])}function Qb(t){return uw(Kb.checkNoChanges,gb,null,[t])}function $b(t){return uw(Kb.destroy,_b,null,[t])}var Kb=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});let Gb,Xb,Yb;function Zb(t,e){Xb=t,Yb=e}function Jb(t,e,n,r){return Zb(t,e),uw(Kb.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function tw(t,e){if(128&t.state)throw Hh(Kb[Gb]);return Zb(t,iw(t,0)),t.def.updateDirectives((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?nw(t,o,r,i):rw(t,o,r,i),16384&o.flags&&Zb(t,iw(t,n)),224&o.flags?Gh(t,o.nodeIndex).value:void 0}),t)}function ew(t,e){if(128&t.state)throw Hh(Kb[Gb]);return Zb(t,ow(t,0)),t.def.updateRenderer((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?nw(t,o,r,i):rw(t,o,r,i),3&o.flags&&Zb(t,ow(t,n)),224&o.flags?Gh(t,o.nodeIndex).value:void 0}),t)}function nw(t,e,n,r){if(yb(t,e,n,...r)){const o=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],s=o[t];8&r.flags&&(n[(i=r.nonMinifiedName,"ng-reflect-"+i.replace(/[$@]/g,"_").replace(pi,(...t)=>"-"+t[1].toLowerCase()))]=gi(s))}const r=e.parent,s=$h(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(s,e,r):t.renderer.removeAttribute(s,e)}else t.renderer.setValue(s,"bindings="+JSON.stringify(n,null,2))}}var i}function rw(t,e,n,r){bb(t,e,n,...r)}function iw(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function ow(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class sw{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=pd(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return $h(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return sf(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){aw(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&aw(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!md(t);)t=t.parent;return t.parent?$h(t.parent,pd(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?gd(this.view,this.nodeDef):gd(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>(o++,o===i?t.error.bind(t,...e):Jh)),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function aw(t,e,n){for(let r in e.references)n[r]=Xv(t,e,e.references[r])}function uw(t,e,n,r){const i=Gb,o=Xb,s=Yb;try{Gb=t;const a=e.apply(n,r);return Xb=o,Yb=s,Gb=i,a}catch(c){if(lr(c)||!Xb)throw c;throw a=c,u=cw(),a instanceof Error||(a=new Error(a.toString())),Bh(a,u),a}var a,u}function cw(){return Xb?new sw(Xb,Yb):null}class lw{constructor(t){this.delegate=t}createRenderer(t,e){return new hw(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class hw{constructor(t){this.delegate=t,this.debugContextFactory=cw,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=Ov(t);!function(t){Cv.delete(t.nativeNode)}(e),e instanceof fv&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new pv(n,null,r);e.name=t,jv(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&jv(new fv(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&jv(new fv(e,null,n)),e}appendChild(t,e){const n=Ov(t),r=Ov(e);n&&r&&n instanceof pv&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=Ov(t),i=Ov(e),o=Ov(n);r&&i&&r instanceof pv&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Ov(t),r=Ov(e);n&&r&&n instanceof pv&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=cw();return r&&jv(new pv(n,null,r)),n}setAttribute(t,e,n,r){const i=Ov(t);i&&i instanceof pv&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=Ov(t);r&&r instanceof pv&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Ov(t);n&&n instanceof pv&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Ov(t);n&&n instanceof pv&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=Ov(t);i&&i instanceof pv&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=Ov(t);r&&r instanceof pv&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=Ov(t);r&&r instanceof pv&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=Ov(t);r&&r.listeners.push(new dv(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function dw(t){return jb(),Zh.overrideProvider(t)}function fw(t,e){return jb(),Zh.overrideComponentView(t,e)}function pw(){return jb(),Zh.clearOverrides()}function gw(t,e,n){return new mw(t,e,n)}class mw extends It{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){jb();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,scope:t.scope,providers:e,modules:n,providersByKey:r}}(Sd(this._ngModuleDefFactory));return Zh.createNgModuleRef(this.moduleType,t||ra.NULL,this._bootstrapComponents,e)}}},"9a8T":function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="dist/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=(r(n(1)),n(6)),s=r(o),a=r(n(7)),u=r(n(8)),c=r(n(9)),l=r(n(10)),h=r(n(11)),d=r(n(14)),f=[],p=!1,g={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},m=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(p=!0),p)return f=(0,h.default)(f,g),(0,l.default)(f,g.once),f},y=function(){f=(0,d.default)(),m()};t.exports={init:function(t){g=i(g,t),f=(0,d.default)();var e=document.all&&!window.atob;return function(t){return!0===t||"mobile"===t&&c.default.mobile()||"phone"===t&&c.default.phone()||"tablet"===t&&c.default.tablet()||"function"==typeof t&&!0===t()}(g.disable)||e?void f.forEach((function(t,e){t.node.removeAttribute("data-aos"),t.node.removeAttribute("data-aos-easing"),t.node.removeAttribute("data-aos-duration"),t.node.removeAttribute("data-aos-delay")})):(g.disableMutationObserver||u.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),g.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",g.easing),document.querySelector("body").setAttribute("data-aos-duration",g.duration),document.querySelector("body").setAttribute("data-aos-delay",g.delay),"DOMContentLoaded"===g.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?m(!0):"load"===g.startEvent?window.addEventListener(g.startEvent,(function(){m(!0)})):document.addEventListener(g.startEvent,(function(){m(!0)})),window.addEventListener("resize",(0,a.default)(m,g.debounceDelay,!0)),window.addEventListener("orientationchange",(0,a.default)(m,g.debounceDelay,!0)),window.addEventListener("scroll",(0,s.default)((function(){(0,l.default)(f,g.once)}),g.throttleDelay)),g.disableMutationObserver||u.default.ready("[data-aos]",y),f)},refresh:m,refreshHard:y}},function(t,e){},,,,,function(t,e){(function(e){"use strict";function n(t){var e=void 0===t?"undefined":i(t);return!!t&&("object"==e||"function"==e)}function r(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":i(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":i(t))}(t)&&m.call(t)==a}(t))return s;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var r=l.test(t);return r||h.test(t)?d(t.slice(2),r?2:8):c.test(t)?s:+t}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o="Expected a function",s=NaN,a="[object Symbol]",u=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt,f="object"==(void 0===e?"undefined":i(e))&&e&&e.Object===Object&&e,p="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,g=f||p||Function("return this")(),m=Object.prototype.toString,y=Math.max,v=Math.min,b=function(){return g.Date.now()};t.exports=function(t,e,i){var s=!0,a=!0;if("function"!=typeof t)throw new TypeError(o);return n(i)&&(s="leading"in i?!!i.leading:s,a="trailing"in i?!!i.trailing:a),function(t,e,i){function s(e){var n=d,r=f;return d=f=void 0,_=e,g=t.apply(r,n)}function a(t){return _=t,m=setTimeout(c,e),E?s(t):g}function u(t){var n=t-w;return void 0===w||n>=e||n<0||S&&t-_>=p}function c(){var t=b();return u(t)?l(t):void(m=setTimeout(c,function(t){var n=e-(t-w);return S?v(n,p-(t-_)):n}(t)))}function l(t){return m=void 0,C&&d?s(t):(d=f=void 0,g)}function h(){var t=b(),n=u(t);if(d=arguments,f=this,w=t,n){if(void 0===m)return a(w);if(S)return m=setTimeout(c,e),s(w)}return void 0===m&&(m=setTimeout(c,e)),g}var d,f,p,g,m,w,_=0,E=!1,S=!1,C=!0;if("function"!=typeof t)throw new TypeError(o);return e=r(e)||0,n(i)&&(E=!!i.leading,p=(S="maxWait"in i)?y(r(i.maxWait)||0,e):p,C="trailing"in i?!!i.trailing:C),h.cancel=function(){void 0!==m&&clearTimeout(m),_=0,d=w=f=m=void 0},h.flush=function(){return void 0===m?g:l(b())},h}(t,e,{leading:s,maxWait:e,trailing:a})}}).call(e,function(){return this}())},function(t,e){(function(e){"use strict";function n(t){var e=void 0===t?"undefined":i(t);return!!t&&("object"==e||"function"==e)}function r(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":i(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":i(t))}(t)&&g.call(t)==s}(t))return o;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=c.test(t);return r||l.test(t)?h(t.slice(2),r?2:8):u.test(t)?o:+t}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=NaN,s="[object Symbol]",a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=parseInt,d="object"==(void 0===e?"undefined":i(e))&&e&&e.Object===Object&&e,f="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),g=Object.prototype.toString,m=Math.max,y=Math.min,v=function(){return p.Date.now()};t.exports=function(t,e,i){function o(e){var n=h,r=d;return h=d=void 0,w=e,p=t.apply(r,n)}function s(t){return w=t,g=setTimeout(u,e),_?o(t):p}function a(t){var n=t-b;return void 0===b||n>=e||n<0||E&&t-w>=f}function u(){var t=v();return a(t)?c(t):void(g=setTimeout(u,function(t){var n=e-(t-b);return E?y(n,f-(t-w)):n}(t)))}function c(t){return g=void 0,S&&h?o(t):(h=d=void 0,p)}function l(){var t=v(),n=a(t);if(h=arguments,d=this,b=t,n){if(void 0===g)return s(b);if(E)return g=setTimeout(u,e),o(b)}return void 0===g&&(g=setTimeout(u,e)),p}var h,d,f,p,g,b,w=0,_=!1,E=!1,S=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return e=r(e)||0,n(i)&&(_=!!i.leading,f=(E="maxWait"in i)?m(r(i.maxWait)||0,e):f,S="trailing"in i?!!i.trailing:S),l.cancel=function(){void 0!==g&&clearTimeout(g),w=0,h=b=d=g=void 0},l.flush=function(){return void 0===g?p:c(v())},l}}).call(e,function(){return this}())},function(t,e){"use strict";function n(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(t){t&&t.forEach((function(t){var e=Array.prototype.slice.call(t.addedNodes),n=Array.prototype.slice.call(t.removedNodes);if(function t(e){var n=void 0,r=void 0;for(n=0;n<e.length;n+=1){if((r=e[n]).dataset&&r.dataset.aos)return!0;if(r.children&&t(r.children))return!0}return!1}(e.concat(n)))return i()}))}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){};e.default={isSupported:function(){return!!n()},ready:function(t,e){var o=window.document,s=new(n())(r);i=e,s.observe(o.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(t,e){"use strict";function n(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"phone",value:function(){var t=n();return!(!i.test(t)&&!o.test(t.substr(0,4)))}},{key:"mobile",value:function(){var t=n();return!(!s.test(t)&&!a.test(t.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),t}();e.default=new u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=window.pageYOffset,r=window.innerHeight;t.forEach((function(t,i){!function(t,e,n){var r=t.node.getAttribute("data-aos-once");e>t.position?t.node.classList.add("aos-animate"):void 0!==r&&("false"===r||!n&&"true"!==r)&&t.node.classList.remove("aos-animate")}(t,r+n,e)}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(12));e.default=function(t,e){return t.forEach((function(t,n){t.node.classList.add("aos-init"),t.position=(0,r.default)(t.node,e.offset)})),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(13));e.default=function(t,e){var n=0,i=0,o=window.innerHeight,s={offset:t.getAttribute("data-aos-offset"),anchor:t.getAttribute("data-aos-anchor"),anchorPlacement:t.getAttribute("data-aos-anchor-placement")};switch(s.offset&&!isNaN(s.offset)&&(i=parseInt(s.offset)),s.anchor&&document.querySelectorAll(s.anchor)&&(t=document.querySelectorAll(s.anchor)[0]),n=(0,r.default)(t).top,s.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=t.offsetHeight/2;break;case"bottom-bottom":n+=t.offsetHeight;break;case"top-center":n+=o/2;break;case"bottom-center":n+=o/2+t.offsetHeight;break;case"center-center":n+=o/2+t.offsetHeight/2;break;case"top-top":n+=o;break;case"bottom-top":n+=t.offsetHeight+o;break;case"center-top":n+=t.offsetHeight/2+o}return s.anchorPlacement||s.offset||isNaN(e)||(i=e),n+i}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-("BODY"!=t.tagName?t.scrollLeft:0),n+=t.offsetTop-("BODY"!=t.tagName?t.scrollTop:0),t=t.offsetParent;return{top:n,left:e}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t=t||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(t,(function(t){return{node:t}}))}}])},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},AytR:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={production:!0,ASSETS_URL:"./assets",firebaseConfig:{apiKey:"AIzaSyCVRly7d-GTezgx9pdnGACgMMfKslHucsk",authDomain:"geo-final-project.firebaseapp.com",projectId:"geo-final-project",storageBucket:"geo-final-project.appspot.com",messagingSenderId:"996983390007",appId:"1:996983390007:web:9f46702f37e8f436d7e4b2"},GOOGLE_MAPS_URL:"AIzaSyDnY8kMwai0w66KFgVDfGoFom4BfJ-hkM0"}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("8Qeq"),i=n("7o/Q"),o=n("2QA8"),s=n("gRHU"),a=n("kJWO"),u=n("SpAZ"),c=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(a.add(r?r.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(r.a)(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=h(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[a.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=h(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function s(t){return e=>0===t?Object(o.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("zx2A");function i(t){return function(e){const n=new o(t),r=e.lift(n);return n.caught=r}}class o{constructor(t){this.selector=t}call(t,e){return e.subscribe(new s(t,this.selector,this.caught))}}class s extends r.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new r.a(this);this.add(i);const o=Object(r.c)(n,i);o!==i&&this.add(o)}}}},JX91:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("LRne"),i=n("0EUg");function o(...t){return Object(i.a)()(Object(r.a)(...t))}var s=n("z+Ro");function a(...t){const e=t[t.length-1];return Object(s.a)(e)?(t.pop(),n=>o(t,n,e)):e=>o(t,e)}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a}));var i="8.6.7";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SVse:function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return B})),n.d(e,"c",(function(){return H})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return E})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return v})),n.d(e,"i",(function(){return k})),n.d(e,"j",(function(){return P})),n.d(e,"k",(function(){return R})),n.d(e,"l",(function(){return _})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return Q})),n.d(e,"o",(function(){return W})),n.d(e,"p",(function(){return a})),n.d(e,"q",(function(){return z})),n.d(e,"r",(function(){return o})),n.d(e,"s",(function(){return A})),n.d(e,"t",(function(){return s}));var r=n("8Y7J");let i=null;function o(){return i}function s(t){i||(i=t)}class a{}const u=new r.InjectionToken("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r["\u0275\u0275inject"])(d)}const h=new r.InjectionToken("Location Initialized");let d=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](u))},t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new d(Object(r["\u0275\u0275inject"])(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r["\u0275\u0275inject"])(u).location;return new _(Object(r["\u0275\u0275inject"])(c),e&&e.origin||"")}const w=new r.InjectionToken("appBaseHref");let _=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](c),r["\u0275\u0275inject"](w,8))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](c),r["\u0275\u0275inject"](w,8))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{constructor(t,e){this._subject=new r.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](v),r["\u0275\u0275inject"](c))},t.normalizeQueryParams=y,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:C,token:t,providedIn:"root"}),t})();function C(){return new S(Object(r["\u0275\u0275inject"])(v),Object(r["\u0275\u0275inject"])(c))}function I(t){return t.replace(/\/index.html$/,"")}var O=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r["\u0275getLocalePluralCase"];class x{}let j=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](r.LOCALE_ID))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();function A(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let k=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r["\u0275stringify"])(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.IterableDiffers),r["\u0275\u0275directiveInject"](r.KeyValueDiffers),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class N{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let P=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new N(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new D(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new D(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.IterableDiffers))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class D{constructor(t,e){this.record=t,this.view=e}}let R=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new M,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){L("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){L("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class M{constructor(){this.$implicit=null,this.ngIf=null}}function L(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r["\u0275stringify"])(e)}'.`)}class F{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class V{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const U=new V,q=new F;let B=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r["\u0275isPromise"])(e))return U;if(Object(r["\u0275isObservable"])(e))return q;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r["\u0275stringify"])(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275injectPipeChangeDetectorRef"]())},t.\u0275pipe=r["\u0275\u0275definePipe"]({name:"async",type:t,pure:!1}),t})(),H=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:j}]}),t})();const z="browser";function W(t){return"server"===t}let Q=(()=>{class t{}return t.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({token:t,providedIn:"root",factory:()=>new $(Object(r["\u0275\u0275inject"])(u),window,Object(r["\u0275\u0275inject"])(r.ErrorHandler))}),t})();class ${constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=K(this.window.history)||K(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function K(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},SxV6:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("sVev"),i=n("pLZG"),o=n("IzEk"),s=n("xbPD"),a=n("XDbj"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(o.a)(1),n?Object(s.a)(e):Object(a.a)(()=>new r.a))}},T6vt:function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return _}));var r=n("8Y7J"),i=n("SVse");function o(t,e){if(1&t&&(r["\u0275\u0275elementStart"](0,"div",7),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&t){const t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](t.counter)}}function s(t,e){if(1&t&&r["\u0275\u0275element"](0,"img",11),2&t){const t=r["\u0275\u0275nextContext"](2).index,e=r["\u0275\u0275nextContext"]();r["\u0275\u0275styleProp"]("object-fit",e.objectFit),r["\u0275\u0275property"]("src",e.getImage(t).image.path,r["\u0275\u0275sanitizeUrl"])}}function a(t,e){if(1&t&&(r["\u0275\u0275elementStart"](0,"div",9),r["\u0275\u0275template"](1,s,1,3,"img",10),r["\u0275\u0275elementEnd"]()),2&t){const t=r["\u0275\u0275nextContext"]().index,e=r["\u0275\u0275nextContext"]();r["\u0275\u0275styleProp"]("width",e.getCellWidth()+"px")("border-radius",e.borderRadius+"px"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.getImage(t)&&e.getImage(t).image)}}function u(t,e){if(1&t&&r["\u0275\u0275template"](0,a,2,5,"div",8),2&t){const t=e.index,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngIf",t<n.cellLimit)}}function c(t,e){if(1&t&&r["\u0275\u0275element"](0,"div",14),2&t){const t=e.index,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275classProp"]("carousel-dot-active",t===n.activeDotIndex)}}function l(t,e){if(1&t&&(r["\u0275\u0275elementStart"](0,"div",12),r["\u0275\u0275template"](1,c,1,2,"div",13),r["\u0275\u0275elementEnd"]()),2&t){const t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.dotsArr)}}function h(t,e){if(1&t){const t=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",15),r["\u0275\u0275elementStart"](1,"div",16),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](t),r["\u0275\u0275nextContext"]().prev()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](2,"div",17),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](t),r["\u0275\u0275nextContext"]().next()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&t){const t=r["\u0275\u0275nextContext"]();r["\u0275\u0275classProp"]("carousel-arrows-outside",t.arrowsOutside)("carousel-dark-arrows","dark"===t.arrowsTheme),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("carousel-arrow-disabled",t.isPrevArrowDisabled()),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("carousel-arrow-disabled",t.isNextArrowDisabled())}}const d=["*"];class f{constructor(t){this.eventType=void 0,this.handlers={},this.startX=0,this.startY=0,this.lastTap=0,this.doubleTapMinTimeout=300,this.tapMinTimeout=200,this.touchstartTime=0,this.i=0,this.isMousedown=!1,this._touchListeners={touchstart:"handleTouchstart",touchmove:"handleTouchmove",touchend:"handleTouchend"},this._mouseListeners={mousedown:"handleMousedown",mousemove:"handleMousemove",mouseup:"handleMouseup",wheel:"handleWheel"},this._otherListeners={resize:"handleResize"},this.handleTouchstart=t=>{this.elementPosition=this.getElementPosition(),this.touchstartTime=(new Date).getTime(),void 0===this.eventType&&this.getTouchstartPosition(t),this.runHandler("touchstart",t)},this.handleTouchmove=t=>{switch(this.detectPan(t.touches)&&this.runHandler("pan",t),this.detectPinch(t)&&this.runHandler("pinch",t),this.detectLinearSwipe(t)){case"horizontal-swipe":t.swipeType="horizontal-swipe",this.runHandler("horizontal-swipe",t);break;case"vertical-swipe":t.swipeType="vertical-swipe",this.runHandler("vertical-swipe",t)}(this.detectLinearSwipe(t)||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)&&this.handleLinearSwipe(t)},this.handleTouchend=t=>{const e=t.touches;this.detectDoubleTap()&&this.runHandler("double-tap",t),this.detectTap(),this.runHandler("touchend",t),this.eventType="touchend",e&&0===e.length&&(this.eventType=void 0,this.i=0)},this.handleMousedown=t=>{this.isMousedown=!0,this.elementPosition=this.getElementPosition(),this.touchstartTime=(new Date).getTime(),void 0===this.eventType&&this.getMousedownPosition(t),this.runHandler("mousedown",t)},this.handleMousemove=t=>{if(this.isMousedown){switch(this.runHandler("pan",t),this.detectLinearSwipe(t)){case"horizontal-swipe":t.swipeType="horizontal-swipe",this.runHandler("horizontal-swipe",t);break;case"vertical-swipe":t.swipeType="vertical-swipe",this.runHandler("vertical-swipe",t)}(this.detectLinearSwipe(t)||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)&&this.handleLinearSwipe(t)}},this.handleMouseup=t=>{this.detectTap(),this.isMousedown=!1,this.runHandler("mouseup",t),this.eventType=void 0,this.i=0},this.handleWheel=t=>{this.runHandler("wheel",t)},this.handleResize=t=>{this.runHandler("resize",t)},this.properties=t,this.element=this.properties.element,this.elementPosition=this.getElementPosition(),this.toggleEventListeners("addEventListener")}get touchListeners(){return this.properties.touchListeners?this.properties.touchListeners:this._touchListeners}get mouseListeners(){return this.properties.mouseListeners?this.properties.mouseListeners:this._mouseListeners}get otherListeners(){return this.properties.otherListeners?this.properties.otherListeners:this._otherListeners}destroy(){this.toggleEventListeners("removeEventListener")}toggleEventListeners(t){let e;for(var n in e="mouse and touch"===this.properties.listeners?Object.assign(this.touchListeners,this.mouseListeners):this.detectTouchScreen()?this.touchListeners:this.mouseListeners,this.properties.resize&&(e=Object.assign(e,this.otherListeners)),e){const r=e[n];"resize"===n?("addEventListener"===t&&window.addEventListener(n,this[r],!1),"removeEventListener"===t&&window.removeEventListener(n,this[r],!1)):"mouseup"===n||"mousemove"===n?("addEventListener"===t&&document.addEventListener(n,this[r],!1),"removeEventListener"===t&&document.removeEventListener(n,this[r],!1)):("addEventListener"===t&&this.element.addEventListener(n,this[r],!1),"removeEventListener"===t&&this.element.removeEventListener(n,this[r],!1))}}addEventListeners(t,e){window.addEventListener(t,this[e],!1)}removeEventListeners(t,e){window.removeEventListener(t,this[e],!1)}handleLinearSwipe(t){this.i++,this.i>3&&(this.eventType=this.getLinearSwipeType(t)),"horizontal-swipe"===this.eventType&&this.runHandler("horizontal-swipe",t),"vertical-swipe"===this.eventType&&this.runHandler("vertical-swipe",t)}runHandler(t,e){this.handlers[t]&&this.handlers[t](e)}detectPan(t){return 1===t.length&&!this.eventType||"pan"===this.eventType}detectDoubleTap(){if(null!=this.eventType)return;const t=(new Date).getTime(),e=t-this.lastTap;if(clearTimeout(this.doubleTapTimeout),e<this.doubleTapMinTimeout&&e>0)return!0;this.doubleTapTimeout=setTimeout(()=>{clearTimeout(this.doubleTapTimeout)},this.doubleTapMinTimeout),this.lastTap=t}detectTap(){if(null!=this.eventType)return;const t=(new Date).getTime()-this.touchstartTime;t>0&&this.runHandler(t<this.tapMinTimeout?"tap":"longtap",event)}detectPinch(t){return 2===t.touches.length&&void 0===this.eventType||"pinch"===this.eventType}detectLinearSwipe(t){const e=t.touches;if(e){if(1===e.length&&!this.eventType||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)return this.getLinearSwipeType(t)}else if(!this.eventType||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)return this.getLinearSwipeType(t)}getLinearSwipeType(t){if("horizontal-swipe"!==this.eventType&&"vertical-swipe"!==this.eventType){const e=Math.abs(this.moveLeft(0,t)-this.startX);return 3*Math.abs(this.moveTop(0,t)-this.startY)>e?"vertical-swipe":"horizontal-swipe"}return this.eventType}getElementPosition(){return this.element.getBoundingClientRect()}getTouchstartPosition(t){this.startX=t.touches[0].clientX-this.elementPosition.left,this.startY=t.touches[0].clientY-this.elementPosition.top}getMousedownPosition(t){this.startX=t.clientX-this.elementPosition.left,this.startY=t.clientY-this.elementPosition.top}moveLeft(t,e){const n=e.touches;return n?n[t].clientX-this.elementPosition.left:e.clientX-this.elementPosition.left}moveTop(t,e){const n=e.touches;return n?n[t].clientY-this.elementPosition.top:e.clientY-this.elementPosition.top}detectTouchScreen(){var t,e=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||(t=["(",e.join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia(t).matches)}on(t,e){t&&(this.handlers[t]=e)}}class p{constructor(t,e,n,r,i){this.properties=t,this.utils=e,this.cells=n,this.container=r,this.slide=i,this.isContentImages=!0,this.isLazyLoad=!0,this.isContainerLocked=!0,this.alignCells="left",this.initialContainerPosition=0,this.containerPullLimit=100,this.handleTouchstart=t=>{this.container.handleTouchstart(),this.slide.handleTouchstart(t)},this.handleHorizontalSwipe=t=>{this.container.handleHorizontalSwipe()},this.handleTouchend=t=>{this.properties.freeScroll?this.container.handleTouchend():(this.container.handleTouchend(!0),this.slide.handleTouchend(t))},this.isNextArrowDisabled=()=>this.slide.isNextArrowDisabled(),this.isPrevArrowDisabled=()=>this.slide.isPrevArrowDisabled(),this.init()}get cellLength(){return this.cells.cellLength}get cellLengthInLightDOMMode(){if(this.images){let t=this.visibleCellsCount+2*this.overflowCellsLimit;return t>this.images.length&&(t=this.images.length),t}return this.cellLength}get lastCellIndex(){return this.images.length?this.images.length-1:this.cells.cellLength-1}get overflowCellsLimit(){return this.images&&this.isImagesLessCellLimit?Math.floor((this.images.length-this.visibleCellsCount)/2):this.properties.overflowCellsLimit}get isImagesLessCellLimit(){return 2*this.properties.overflowCellsLimit+this.visibleCellsCount>this.images.length}get cellLimit(){return this.isLightDOM?this.visibleCellsCount+2*this.overflowCellsLimit:this.properties.images.length}get isLightDOM(){return this.properties.lightDOM||this.properties.loop}get images(){return this.properties.images}get margin(){return this.properties.margin}get minSwipeDistance(){return this.properties.minSwipeDistance}get transitionDuration(){return this.properties.transitionDuration}get transitionTimingFunction(){return this.properties.transitionTimingFunction}get fullCellWidth(){return this.properties.cellWidth+this.margin}get visibleCellsCount(){return Math.ceil(this.visibleWidth/this.fullCellWidth)}get lapCounter(){return Math.floor(this.slide.counter/this.cellLengthInLightDOMMode)}get slideCounter(){return this.slide.counter}init(){this.cellsElement=this.properties.cellsElement,this.visibleWidth=this.properties.visibleWidth||this.cellsElement.parentElement.clientWidth}lineUpCells(){this.cells.lineUp()}handleTransitionend(){this.slide.handleTransitionend()}getImage(t){return this.cells.getImage(t)}next(t=1){this.isNextArrowDisabled()||this.slide.next(t)}prev(t=1){this.slide.prev(t)}autoplay(){this.autoplayId=setInterval(()=>{this.next()},this.properties.autoplayInterval)}stopAutoplay(){this.autoplayId&&clearInterval(this.autoplayId)}}class g{constructor(t,e,n){this.carouselProperties=t,this.utils=e,this.cells=n,this.newPositionIndex=0,this.initialPositionX=0,this.initialElementPositionX=0,this.isLocked=!0,this.pullLimit=100,this.init()}get visibleWidth(){return this.utils.visibleWidth}get overflowCellsLimit(){return this.utils.overflowCellsLimit}get images(){return this.carouselProperties.images}get element(){return this.carouselProperties.cellsElement}get freeScroll(){return this.carouselProperties.freeScroll}get fullCellWidth(){return this.carouselProperties.cellWidth+this.carouselProperties.margin}get visibleCellsCount(){return Math.ceil(this.visibleWidth/this.fullCellWidth)}get transitionDuration(){return this.carouselProperties.transitionDuration}get transitionTimingFunction(){return this.carouselProperties.transitionTimingFunction}get cellLength(){return this.images?this.images.length:this.cells.cellLength}get cellLengthInLightDOMMode(){if(this.images){let t=this.visibleCellsCount+2*this.overflowCellsLimit;return t>this.images.length&&(t=this.images.length),t}return this.cellLength}get tooFewCells(){return this.visibleCellsCount>this.cellLength}get disabled(){return this.tooFewCells}get margin(){return this.carouselProperties.margin}get isLightDOM(){return this.carouselProperties.lightDOM||this.carouselProperties.loop}init(){this.setWidth()}handleTouchstart(){this.startX=this.utils.getStartX(event),this.startTime=(new Date).getTime(),this.initialElementPositionX=this.getInitialElementPositionX()}handleHorizontalSwipe(){this.disabled||(this.isSwipeInProgress||(this.startX=this.utils.getStartX(event),this.startTime=(new Date).getTime(),this.initialElementPositionX=this.getInitialElementPositionX()),this.isSwipeInProgress=!0,this.moveX=this.utils.getMoveX(event),this.move())}handleTouchend(t=!1){this.disabled||(t?this.isSwipeInProgress=!1:(this.isSwipeInProgress=!1,this.finishMoving(),this.clearInitialValues()))}move(){let t=this.getMovePositionX();const e=this.detectPulled(),n=this.getDirection();e&&("left"===e.edge&&"right"===n||"right"===e.edge&&"left"===n)&&(t=this.slowdownOnPull(t)),this.transformPositionX(t,0),this.freeScroll&&(this.initialPositionX=t),e&&("left"===e.edge&&e.overflowX>this.pullLimit&&(this.initialPositionX=0),"right"===e.edge&&e.overflowX>this.pullLimit&&(this.initialPositionX=t))}getMovePositionX(){const t=this.getDistance();return this.initialElementPositionX-t}getDistance(){return this.startX-this.moveX}detectPulled(){const t=this.getCurrentPositionX();return t>0?{edge:"left",positionX:t,overflowX:Math.abs(t)}:t<this.getEndPosition()?{edge:"right",positionX:t,overflowX:Math.abs(t-this.getEndPosition())}:void 0}slowdownOnPull(t){let e=Math.abs(this.getDistance());const n=this.getEndPosition(),r=this.detectPulled(),i=3+r.overflowX/50;let o;if("left"===r.edge){this.initialElementPositionX<0&&(e-=Math.abs(this.initialElementPositionX));const t=e/i;o=t,this.initialElementPositionX>0&&(o=this.initialElementPositionX+t),o>this.pullLimit&&(o=this.pullLimit)}if("right"===r.edge){const t=n+(this.initialElementPositionX-e-n)/i,r=this.getWidth();o=t,this.initialElementPositionX<-(r-this.visibleWidth)&&(o=r-this.visibleWidth+this.initialElementPositionX+t),o<n-this.pullLimit&&(o=n-this.pullLimit)}return o}finishMoving(){const t=this.getMovePositionX();let e;this.freeScroll&&(e=this.getInertia()),e=this.getAlignedPositionOnPull(e),this.transformPositionX(e),this.setInitialPosition(t)}getInertia(){const t=this.getDistance(),e=(new Date).getTime();return this.initialPositionX-t/(e-this.startTime)*100}getAlignedPositionOnPull(t){const e=this.getDirection();if("left"===e){let e=this.getEndPosition();if(t<e)return e}return"right"===e&&t>0?0:t}getCurrentPositionX(){const t=this.element.parentElement.getBoundingClientRect();return this.element.getBoundingClientRect().left-t.left}getEndPosition(){if(this.isLightDOM)return-(this.cells.imageUtils.getImages().length*this.fullCellWidth-this.visibleWidth-this.margin);{const t=this.getWidth();return this.element.parentElement.clientWidth-t}}transformPositionX(t,e=this.transitionDuration){void 0!==t&&(this.element.style.transition="transform "+e+"ms "+this.transitionTimingFunction,this.element.style.transform="translateX("+t+"px)")}getWidth(){let t=this.cellLengthInLightDOMMode*this.fullCellWidth,e=this.cellLength*this.fullCellWidth;return e<t&&(t=e),this.isLightDOM?t:e}setWidth(){const t=this.getWidth();this.element.style.width=t+"px"}setInitialPosition(t){this.initialPositionX=t}getElementPosition(){return this.element.getBoundingClientRect()}getInitialElementPositionX(){const t=this.utils.getCarouselElementPosition().left;return this.getElementPosition().left-t}clearInitialValues(){this.startX=this.moveX=void 0}getDirection(){const t=Math.sign(this.startX-this.moveX);return-1===t?"right":1===t?"left":void 0}}class m{constructor(t){this.element=t}getImages(){return this.cellStack.filter(this.filter)}comparePositions(t,e){return t.positionX<e.positionX?-1:t.positionX>e.positionX?1:0}filter(t){return void 0!==t.img}}class y{constructor(t,e){this.carouselProperties=t,this.utils=e,this.counter=0,this.imageUtils=new m(this.element),this.init(t)}get images(){return this.carouselProperties.images}get cellLength(){return this.cells.length}get fullCellWidth(){return this.carouselProperties.cellWidth+this.carouselProperties.margin}get cellLengthInLightDOMMode(){if(this.images){let t=this.visibleCellsCount+2*this.utils.overflowCellsLimit;return t>this.images.length&&(t=this.images.length),t}return this.cellLength}get visibleCellsCount(){return Math.ceil(this.visibleWidth/this.fullCellWidth)}get overflowCellsLimit(){return this.carouselProperties.overflowCellsLimit}get isLightDOM(){return this.carouselProperties.lightDOM||this.carouselProperties.loop}lineUp(){const t=this.element.children;this.imageUtils.cellStack=[];for(var e=0;e<t.length;e++){let n=t[e],r=this.getCellPositionInContainer(e);n.style.transform="translateX("+r+"px)",n.style.width=this.carouselProperties.cellWidth+"px",this.getImage(e)&&this.imageUtils.cellStack.push({index:e,positionX:r,img:this.getImage(e).image})}}ifSequenceOfCellsIsChanged(){return"translateX(0px)"!==this.element.children[0].style.transform}getCellPositionInContainer(t){return this.getCellIndexInContainer(t)*this.fullCellWidth}getCellIndexInContainer(t){let e;if(!this.isLightDOM)return t;let n=this.cellLengthInLightDOMMode,r=this.counter-this.carouselProperties.overflowCellsLimit;return r>n&&(r%=n),r<0?t:(e=t-r,e<0&&(e=n+e),e)}getImage(t){if(!this.images)return;let e=this.getImageIndex(t),n=this.images[e];return n&&!n.type&&(n.type="image"),{image:this.images[e],imageIndex:e}}getImageIndex(t){const e=this.getCellIndexInContainer(t);let n,r=this.carouselProperties.overflowCellsLimit;return this.counter>r?(n=e+(this.counter-r),this.images&&this.carouselProperties.loop&&(n%=this.images.length)):n=t,n}setCounter(t){this.counter=t}init(t){this.element=this.carouselProperties.cellsElement,this.cells=this.element.children,this.visibleWidth=this.carouselProperties.visibleWidth||this.element.parentElement.clientWidth}}class v{constructor(t,e,n,r){this.carouselProperties=t,this.utils=e,this.cells=n,this.container=r,this.counter=0,this._counter=0,this.initialPositionX=0,this.currentPositionX=0,this.init()}get fullCellWidth(){return this.carouselProperties.cellWidth+this.carouselProperties.margin}get margin(){return this.carouselProperties.margin}get minSwipeDistance(){return this.carouselProperties.minSwipeDistance}get visibleCellsCount(){return Math.ceil(this.visibleWidth/this.fullCellWidth)}get visibleCellsOverflowContainer(){return this.visibleCellsCount*this.fullCellWidth-this.margin>this.visibleWidth}get fixedContainerPosition(){return-this.overflowCellsLimit*this.fullCellWidth}get overflowCellsLimit(){return this.carouselProperties.overflowCellsLimit}get images(){return this.carouselProperties.images}get cellLength(){return this.isLightDOM?this.cells.cellLengthInLightDOMMode:this.images?this.images.length:this.cells.cellLength}get isLightDOM(){return this.carouselProperties.lightDOM||this.carouselProperties.loop}init(){this.visibleWidth=this.carouselProperties.visibleWidth||this.carouselProperties.hostElement.clientWidth}handleTouchstart(t){this.isNotClickOnArrow=!0,this.isSlideLengthLimited=void 0,this.isSlideInProgress||(this.initialPositionX=this.container.getCurrentPositionX())}handleTouchend(t){this.isNotClickOnArrow&&(this.currentPositionX=this.container.getCurrentPositionX(),this.distanceAbs=Math.abs(this.initialPositionX-this.currentPositionX),this.distance=this.initialPositionX-this.currentPositionX,this.direction=this.getDirection(),this.isNotClickOnArrow=void 0,this.handleSlide())}handleTransitionend(){this.setCounter(),this.isSlideInProgress=!1,this.isLightDOM&&this.alignContainerFast()}detectClickOnArrow(t){return t.target.classList.contains("carousel-arrow")}handleSlide(t){let e;if(!(t&&this.isSlideInProgress||!this.direction)){if(t?(this.slideLength=this.limitSlideLength(t),this.isSlideInProgress||(this.initialPositionX=this.container.getCurrentPositionX())):this.slideLength=this.getSlideLength(this.distanceAbs),this._counter=this.getPreliminaryCounter(),"left"===this.direction){t||(this.slideLength=this.limitSlideLength(this.getSlideLength(this.distanceAbs))),this._counter=this.getPreliminaryCounter();let n=this.isSlidesEnd(this._counter);e=this.getPositionByIndex(this._counter),n&&(this._counter=this.counter,e=this.getPositionByIndex(this.counter),this.slideLength=0)}"right"===this.direction&&(t||(this.slideLength=this.getSlideLength(this.distanceAbs)),this._counter<0&&(this._counter=this.counter,this.slideLength=this.counter),e=this.getPositionByIndex(this.counter-this.slideLength)),this.container.getCurrentPositionX()!==e&&(this.isSlideInProgress=!0,this.container.transformPositionX(e))}}next(t=1){this.direction="left",this.handleSlide(t)}prev(t=1){this.direction="right",this.handleSlide(t)}select(t){t>this.cellLength-1||(t>this.counter&&this.next(t-this.counter),t<this.counter&&this.prev(this.counter-t))}getPreliminaryCounter(){return"left"===this.direction?this.counter+this.slideLength:"right"===this.direction?this.counter-this.slideLength:void 0}limitSlideLength(t){if(t>1)for(var e=0;e<t;e++)if(!this.isSlidesEnd(this.counter+(t-e))){t-=e,this.isSlideLengthLimited=e>0;break}return t}getPositionCorrection(t){let e=0,n=this.isLastSlide(t);return this.carouselProperties.loop||"right"===this.direction?0:((this.isSlideLengthLimited||n)&&(this.visibleWidth<this.cells.cellLengthInLightDOMMode*this.fullCellWidth&&(e=-(this.visibleCellsCount*this.fullCellWidth-this.visibleWidth-this.margin)),e>=-this.margin&&(e=0)),e)}getSlideLength(t){this.isLastSlide(this.counter)&&"right"===this.direction&&(t+=this.visibleWidth%this.fullCellWidth);let e=Math.floor(t/this.fullCellWidth);return t%this.fullCellWidth>=this.minSwipeDistance&&e++,e}getDistanceAbs(){return Math.abs(this.initialPositionX-this.currentPositionX)}getDirection(){const t=Math.sign(this.initialPositionX-this.currentPositionX);return-1===t?"right":1===t?"left":void 0}isSlidesEnd(t){return!this.carouselProperties.loop&&(this.images?this.images.length:this.cells.cellLength)-t+(this.visibleCellsOverflowContainer?1:0)<this.visibleCellsCount}isLastSlide(t){return this.isSlidesEnd(t+1)}setCounter(){"left"===this.direction&&(this.counter=this.counter+this.slideLength),"right"===this.direction&&(this.counter=this.counter-this.slideLength)}getPositionByIndex(t){let e,n=this.getPositionCorrection(this.counter+this.slideLength);return 0!==n&&(n+=this.fullCellWidth),"right"===this.direction&&(n=0),e=this.isLightDOM&&this.isLightDOMMode(t)||this.isLightDOM&&this.ifLeftDOMModeAtEnd(t)?this.getPositionWithoutCorrection(this.initialPositionX)-((t-this.counter)*this.fullCellWidth-n):-(t*this.fullCellWidth-n),e=this.provideSafePosition(e),e}provideSafePosition(t){const e=this.container.getEndPosition();return"left"===this.direction&&t>0&&(t=0),"right"===this.direction&&t<e&&(t=e),t}getPositionWithoutCorrection(t){let e=t%this.fullCellWidth;return 0!==e?t-(this.fullCellWidth+e):t}isNextArrowDisabled(){return this.isLastSlide(this.counter)}isPrevArrowDisabled(){return 0===this.counter}alignContainerFast(){if(this.isLightDOMMode(this.counter))this.container.transformPositionX(this.fixedContainerPosition,0),this.cells.setCounter(this.counter),this.cells.lineUp();else if(this.ifLeftDOMModeToBeginning(this.counter))this.cells.ifSequenceOfCellsIsChanged()&&(this.container.transformPositionX(-this.counter*this.fullCellWidth,0),this.cells.setCounter(this.counter),this.cells.lineUp());else if(this.ifLeftDOMModeAtEnd(this.counter)){let t=this.container.getCurrentPositionX(),e=this.container.getWidth();if(this.isLastSlide(this.counter)&&e+t>=this.visibleWidth)return;let n=this.getPositionCorrection(this.counter);0!==n&&(n+=this.fullCellWidth),"right"===this.direction&&(n=0),this.container.transformPositionX(this.fixedContainerPosition+n,0),this.cells.setCounter(this.counter),this.cells.lineUp()}}isLightDOMMode(t){let e,n=this.images.length-this.overflowCellsLimit-this.visibleCellsCount;return!!this.isLightDOM&&(t>this.overflowCellsLimit&&"left"===this.direction&&t<=n&&(e=!0),t>=this.overflowCellsLimit&&"right"===this.direction&&t<n&&(e=!0),this.counter>this.overflowCellsLimit&&"left"===this.direction&&this.counter<=n&&(e=!0),this.counter>=this.overflowCellsLimit&&"right"===this.direction&&this.counter<n&&(e=!0),e)}ifLeftDOMModeAtEnd(t){let e,n=this.images.length-this.overflowCellsLimit-this.visibleCellsCount;return t>=n&&(e=!0),this.counter>=n&&(e=!0),e}ifLeftDOMModeToBeginning(t){let e;return t<=this.overflowCellsLimit&&(e=!0),this.counter<=this.overflowCellsLimit&&(e=!0),e}}class b{constructor(t){this.carouselProperties=t}get images(){return this.carouselProperties.images}get overflowCellsLimit(){return this.images&&this.isImagesLessCellLimit?Math.floor((this.images.length-this.visibleCellsCount)/2):this.carouselProperties.overflowCellsLimit}get isImagesLessCellLimit(){return 2*this.carouselProperties.overflowCellsLimit+this.visibleCellsCount>this.images.length}get visibleCellsCount(){return Math.ceil(this.visibleWidth/this.fullCellWidth)}get fullCellWidth(){return this.carouselProperties.cellWidth+this.carouselProperties.margin}get visibleWidth(){return this.carouselProperties.visibleWidth||this.carouselProperties.cellsElement.parentElement.clientWidth}getStartX(t){const e=t.touches,n=this.getCarouselElementPosition().left;let r;return r=e?e[0].clientX-n:t.clientX-n,r}getMoveX(t){const e=t.touches,n=this.getCarouselElementPosition().left;return e?e[0].clientX-n:t.clientX-n}getCarouselElementPosition(){return this.carouselProperties.hostElement.getBoundingClientRect()}}let w=(()=>{class t{constructor(t,e){this.elementRef=t,this.ref=e,this.minTimeout=30,this._cellWidth=200,this._loop=!1,this._lightDOM=!1,this.events=new r.EventEmitter,this.height=200,this.autoplay=!1,this.autoplayInterval=5e3,this.pauseOnHover=!0,this.dots=!1,this.margin=10,this.objectFit="cover",this.minSwipeDistance=10,this.transitionDuration=200,this.transitionTimingFunction="ease-out",this.counterSeparator=" / ",this.overflowCellsLimit=3,this.listeners="mouse and touch",this.cellsToScroll=1,this.freeScroll=!1,this.arrows=!0,this.arrowsTheme="light",this.hostClassCarousel=!0,this.handleTouchstart=t=>{this.touches.addEventListeners("mousemove","handleMousemove"),this.carousel.handleTouchstart(t),this.isMoving=!0},this.handleHorizontalSwipe=t=>{t.preventDefault(),this.carousel.handleHorizontalSwipe(t)},this.handleTouchend=t=>{this.carousel.handleTouchend(t),this.touches.removeEventListeners("mousemove","handleMousemove"),this.isMoving=!1},this.handleTap=t=>{let e=Array.prototype.slice.call(this.cellsElement.children),n=t.srcElement.closest(".carousel-cell");e.indexOf(n),e.indexOf(n)}}get isContainerLocked(){return this.carousel.isContainerLocked}get slideCounter(){return this.carousel.slideCounter}get lapCounter(){return this.carousel.lapCounter}get isLandscape(){return window.innerWidth>window.innerHeight}get isSafari(){const t=navigator.userAgent.toLowerCase();if(-1!==t.indexOf("safari"))return!(t.indexOf("chrome")>-1)}get counter(){let t;return t=this.loop?this.slideCounter%this.cellLength:this.slideCounter,t+1+this.counterSeparator+this.cellLength}get cellsElement(){return this.elementRef.nativeElement.querySelector(".carousel-cells")}get isArrows(){return this.arrows&&!this.freeScroll}get isCounter(){return this._isCounter&&this.cellLength>1}get activeDotIndex(){return this.slideCounter%this.cellLength}get cellLimit(){if(this.carousel)return this.carousel.cellLimit}set images(t){this._images=t}get images(){return this._images}set cellWidth(t){t&&(this._cellWidth=t)}set isCounter(t){t&&(this._isCounter=t)}set loop(t){t&&(this._loop=t)}get loop(){return!!this.images&&this._loop}set lightDOM(t){t&&(this._lightDOM=t)}get lightDOM(){return!!this.images&&this._lightDOM}onWindowResize(t){this.landscapeMode=this.isLandscape,this.ref.detectChanges(),this.initCarousel(),this.carousel.lineUpCells()}onMousemove(t){this.autoplay&&this.pauseOnHover&&this.carousel.stopAutoplay()}onMouseleave(t){this.autoplay&&this.pauseOnHover&&this.carousel.autoplay()}ngOnInit(){this.isNgContent=this.cellsElement.children.length>0,this.touches=new f({element:this.cellsElement,listeners:this.listeners,mouseListeners:{mousedown:"handleMousedown",mouseup:"handleMouseup"}}),this.touches.on("touchstart",this.handleTouchstart),this.touches.on("horizontal-swipe",this.handleHorizontalSwipe),this.touches.on("touchend",this.handleTouchend),this.touches.on("mousedown",this.handleTouchstart),this.touches.on("mouseup",this.handleTouchend),this.touches.on("tap",this.handleTap),this.setDimensions()}ngAfterViewInit(){this.initCarousel(),this.autoplay&&this.carousel.autoplay(),this.cellLength=this.getCellLength(),this.dotsArr=Array(this.cellLength).fill(1),this.ref.detectChanges(),this.carousel.lineUpCells(),this.detectDomChanges()}ngOnChanges(t){(t.width||t.height||t.images)&&(this.setDimensions(),this.initCarousel(),this.carousel.lineUpCells(),this.ref.detectChanges())}ngOnDestroy(){this.touches.destroy()}initCarousel(){let t={id:this.id,cellsElement:this.elementRef.nativeElement.querySelector(".carousel-cells"),hostElement:this.elementRef.nativeElement,images:this.images,cellWidth:this.getCellWidth(),loop:this.loop,autoplayInterval:this.autoplayInterval,overflowCellsLimit:this.overflowCellsLimit,visibleWidth:this.width,margin:this.margin,minSwipeDistance:this.minSwipeDistance,transitionDuration:this.transitionDuration,transitionTimingFunction:this.transitionTimingFunction,videoProperties:this.videoProperties,eventHandler:this.events,freeScroll:this.freeScroll,lightDOM:this.lightDOM};this.utils=new b(t),this.cells=new y(t,this.utils),this.container=new g(t,this.utils,this.cells),this.slide=new v(t,this.utils,this.cells,this.container),this.carousel=new p(t,this.utils,this.cells,this.container,this.slide)}detectDomChanges(){new MutationObserver(t=>{this.onDomChanges()}).observe(this.elementRef.nativeElement,{attributes:!0,childList:!0,characterData:!0})}onDomChanges(){this.cellLength=this.getCellLength(),this.carousel.lineUpCells(),this.ref.detectChanges()}setDimensions(){this.hostStyleHeight=this.height+"px",this.hostStyleWidth=this.width+"px"}getImage(t){return this.carousel.getImage(t)}handleTransitionendCellContainer(t){this.carousel.handleTransitionend()}toggleVideo(t){event.preventDefault(),this.videoProperties.noPlay||(t.paused?(t.play(),this.isVideoPlaying=!0):(t.pause(),this.isVideoPlaying=!1),this.ref.detectChanges())}getCellWidth(){let t=this.elementRef.nativeElement.clientWidth;return this.cellsToShow?(t-(this.cellsToShow>1?this.margin:0)*(this.cellsToShow-1))/this.cellsToShow:"100%"===this._cellWidth?t:this._cellWidth}next(){this.carousel.next(this.cellsToScroll),this.carousel.stopAutoplay()}prev(){this.carousel.prev(this.cellsToScroll),this.carousel.stopAutoplay()}isNextArrowDisabled(){if(this.carousel)return this.carousel.isNextArrowDisabled()}isPrevArrowDisabled(){if(this.carousel)return this.carousel.isPrevArrowDisabled()}getCellLength(){return this.images?this.images.length:this.cellsElement.children.length}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["carousel"],["","carousel",""]],hostVars:6,hostBindings:function(t,e){1&t&&r["\u0275\u0275listener"]("resize",(function(t){return e.onWindowResize(t)}),!1,r["\u0275\u0275resolveWindow"])("mousemove",(function(t){return e.onMousemove(t)}))("mouseleave",(function(t){return e.onMouseleave(t)})),2&t&&(r["\u0275\u0275styleProp"]("height",e.hostStyleHeight)("width",e.hostStyleWidth),r["\u0275\u0275classProp"]("carousel",e.hostClassCarousel))},inputs:{height:"height",autoplay:"autoplay",autoplayInterval:"autoplayInterval",pauseOnHover:"pauseOnHover",dots:"dots",margin:"margin",objectFit:"objectFit",minSwipeDistance:"minSwipeDistance",transitionDuration:"transitionDuration",transitionTimingFunction:"transitionTimingFunction",counterSeparator:"counterSeparator",overflowCellsLimit:"overflowCellsLimit",listeners:"listeners",cellsToScroll:"cellsToScroll",freeScroll:"freeScroll",arrows:"arrows",arrowsTheme:"arrowsTheme",isCounter:["counter","isCounter"],images:"images",cellWidth:"cellWidth",loop:"loop",lightDOM:"lightDOM",id:"id",width:"width",borderRadius:"borderRadius",videoProperties:"videoProperties",cellsToShow:"cellsToShow",arrowsOutside:"arrowsOutside"},outputs:{events:"events"},features:[r["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:d,decls:8,vars:6,consts:[["class","carousel-counter",4,"ngIf"],[1,"carousel-container"],[1,"carousel-cells",3,"transitionend"],["cells",""],["ngFor","",3,"ngForOf"],["class","carousel-dots",4,"ngIf"],["class","carousel-arrows",3,"carousel-arrows-outside","carousel-dark-arrows",4,"ngIf"],[1,"carousel-counter"],["class","carousel-cell",3,"width","border-radius",4,"ngIf"],[1,"carousel-cell"],["draggable","false",3,"src","object-fit",4,"ngIf"],["draggable","false",3,"src"],[1,"carousel-dots"],["class","carousel-dot",3,"carousel-dot-active",4,"ngFor","ngForOf"],[1,"carousel-dot"],[1,"carousel-arrows"],[1,"carousel-arrow","carousel-arrow-prev",3,"click"],[1,"carousel-arrow","carousel-arrow-next",3,"click"]],template:function(t,e){1&t&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275template"](0,o,2,1,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"div",2,3),r["\u0275\u0275listener"]("transitionend",(function(t){return e.handleTransitionendCellContainer(t)})),r["\u0275\u0275projection"](4),r["\u0275\u0275template"](5,u,1,1,"ng-template",4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](6,l,2,1,"div",5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](7,h,3,8,"div",6)),2&t&&(r["\u0275\u0275property"]("ngIf",e.isCounter),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("carousel-moving",e.isMoving),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngForOf",e.images),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.dots),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.isArrows))},directives:[i.k,i.j],styles:["[_nghost-%COMP%]{-moz-user-select:none;-webkit-user-select:none;box-sizing:border-box;display:block;height:100%;left:0;position:relative;top:0;transform-origin:top left;user-select:none;width:100%;z-index:10000}[_nghost-%COMP%]   .carousel-container[_ngcontent-%COMP%]{cursor:grab;height:100%;overflow:hidden;width:100%}[_nghost-%COMP%]   .carousel-container.carousel-moving[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%]   .carousel-counter[_ngcontent-%COMP%]{background-color:rgba(23,37,68,.3);border-radius:13px;color:#fff;font-size:11px;line-height:normal;padding:5px 7px;position:absolute;right:24px;text-align:right;top:8px;transition:opacity .2s;z-index:30}[_nghost-%COMP%]     .carousel-cells{display:block;height:100%;transition:transform .2s;width:100%;will-change:transform}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell{height:100%;overflow:hidden;position:absolute;width:100%}[_nghost-%COMP%]     .carousel-cells .carousel-cell img, [_nghost-%COMP%]     .carousel-cells .carousel-cell video{height:100%;object-fit:contain;position:relative;width:100%}[_nghost-%COMP%]     .carousel-cells .carousel-cell img.swiper-hide{display:none}[_nghost-%COMP%]     .carousel-cells .carousel-cell .carousel-play{bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}[_nghost-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{background-color:#fff;background-position:50%;background-repeat:no-repeat;background-size:31px;border-radius:100px;box-shadow:0 0 5px rgba(0,0,0,.15);cursor:pointer;height:40px;margin-top:-20px;position:absolute;top:50%;width:40px;z-index:10}[_nghost-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==);left:10px}[_nghost-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=);right:10px}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:-60px}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:-60px}[_nghost-%COMP%]   .carousel-dark-arrows[_ngcontent-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]   .carousel-arrow-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.5}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;right:0;text-align:center;z-index:10}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot[_ngcontent-%COMP%]{border:2px solid #fff;border-radius:100px;display:inline-block;height:8px;margin:4px;width:8px}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot-active[_ngcontent-%COMP%]{background-color:#fff}"]}),t})(),_=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[],imports:[[i.c]]}),t})()},UXun:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("jtHE");function i(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let o,s,a=0,u=!1,c=!1;return function(l){let h;a++,!o||u?(u=!1,o=new r.a(t,e,i),h=o.subscribe(this),s=l.subscribe({next(t){o.next(t)},error(t){u=!0,o.error(t)},complete(){c=!0,s=void 0,o.complete()}}),c&&(s=void 0)):h=o.subscribe(this),this.add(()=>{a--,h.unsubscribe(),h=void 0,s&&!c&&n&&0===a&&(s.unsubscribe(),s=void 0,o=void 0)})}}(i))}},VRCc:function(t,e,n){"use strict";n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return b}));var r=n("8Y7J"),i=n("XNiG"),o=n("LRne"),s=n("HDdC"),a=n("Cfvw"),u=n("VRyK"),c=n("pxpQ"),l=n("eIep"),h=n("lJxs"),d=n("UXun"),f=n("SxV6");function p(t,e){return e?Object(l.a)(()=>t,e):Object(l.a)(()=>t)}var g=n("tf+s"),m=n("pLZG"),y=n("jmUF"),v=n("SVse");const b=new r.InjectionToken("angularfire2.auth.use-emulator"),w=new r.InjectionToken("angularfire2.auth.settings"),_=new r.InjectionToken("angularfire2.auth.tenant-id"),E=new r.InjectionToken("angularfire2.auth.langugage-code"),S=new r.InjectionToken("angularfire2.auth.use-device-language"),C=new r.InjectionToken("angularfire.auth.persistence");let I=(()=>{class t{constructor(t,e,r,b,w,_,E,S,C,I){const O=new y.d(b),T=Object(y.h)(O),x=new i.a,j=Object(o.a)(void 0).pipe(Object(c.b)(O.outsideAngular),Object(l.a)(()=>b.runOutsideAngular(()=>n.e(11).then(n.bind(null,"6nsN")))),Object(h.a)(()=>Object(y.g)(t,b,e)),Object(h.a)(t=>b.runOutsideAngular(()=>{const e=w,n=_;return Object(y.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=b.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator("http://"+e.join(":")),E&&(r.tenantId=E),r.languageCode=S,C&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return I&&r.setPersistence(I),r},[e,E,S,C,n,I])})),Object(d.a)({bufferSize:1,refCount:!1}));if(Object(v.o)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(o.a)(null);else{j.pipe(Object(f.a)()).subscribe();const t=j.pipe(Object(l.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),T,Object(d.a)({bufferSize:1,refCount:!1})),e=t=>new s.a(e=>({unsubscribe:b.runOutsideAngular(()=>t(e))})),n=j.pipe(Object(l.a)(t=>e(t.onAuthStateChanged.bind(t)))),r=j.pipe(Object(l.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(p(n),Object(g.a)(O.outsideAngular),Object(c.b)(O.insideAngular)),this.user=t.pipe(p(r),Object(g.a)(O.outsideAngular),Object(c.b)(O.insideAngular)),this.idToken=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdToken()):Object(o.a)(null))),this.idTokenResult=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdTokenResult()):Object(o.a)(null))),this.credential=Object(u.a)(t,x,this.authState.pipe(Object(m.a)(t=>!t))).pipe(Object(h.a)(t=>(null==t?void 0:t.user)?t:null),Object(g.a)(O.outsideAngular),Object(c.b)(O.insideAngular))}return Object(y.i)(this,j,b,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>x.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](y.c),r["\u0275\u0275inject"](y.b,8),r["\u0275\u0275inject"](r.PLATFORM_ID),r["\u0275\u0275inject"](r.NgZone),r["\u0275\u0275inject"](b,8),r["\u0275\u0275inject"](w,8),r["\u0275\u0275inject"](_,8),r["\u0275\u0275inject"](E,8),r["\u0275\u0275inject"](S,8),r["\u0275\u0275inject"](C,8))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({factory:function(){return new t(r["\u0275\u0275inject"](y.c),r["\u0275\u0275inject"](y.b,8),r["\u0275\u0275inject"](r.PLATFORM_ID),r["\u0275\u0275inject"](r.NgZone),r["\u0275\u0275inject"](b,8),r["\u0275\u0275inject"](w,8),r["\u0275\u0275inject"](_,8),r["\u0275\u0275inject"](E,8),r["\u0275\u0275inject"](S,8),r["\u0275\u0275inject"](C,8))},token:t,providedIn:"any"}),t})(),O=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[I]}),t})()},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XDbj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("sVev"),i=n("7o/Q");function o(t=u){return e=>e.lift(new s(t))}class s{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},aHzT:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var r=n("mrSG"),i=n("e1JD"),o=n("8Y7J");let s=(()=>{class t{constructor(t){this.isIn=t}}return t.type="[Menu] set session action",t})(),a=(()=>{let t=class{constructor(){}static showMenu(t){return t.inSession}setSessionAction(t,e){t.patchState({inSession:e.isIn})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),Object(r.c)([Object(i.a)(s)],t.prototype,"setSessionAction",null),Object(r.c)([Object(i.e)()],t,"showMenu",null),t=Object(r.c)([Object(i.f)({name:"menuState",defaults:{inSession:!1}})],t),t})()},aeTR:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("8Y7J");let i=(()=>{class t{constructor(){}setSession(t){window.localStorage.setItem("cashcoin-session",t)}getSession(){return window.localStorage.getItem("cashcoin-session")}removeSession(){window.localStorage.removeItem("cashcoin-session")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.b)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},cp0P:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("HDdC"),i=n("DH7j"),o=n("lJxs"),s=n("XoHu"),a=n("Cfvw");function u(...t){if(1===t.length){const e=t[0];if(Object(i.a)(e))return c(e,null);if(Object(s.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return c(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return c(t=1===t.length&&Object(i.a)(t[0])?t[0]:t,null).pipe(Object(o.a)(t=>e(...t)))}return c(t,null)}function c(t,e){return new r.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let u=0;u<r;u++){const c=Object(a.a)(t[u]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,s++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}},e1JD:function(t,e,n){"use strict";n.d(e,"a",(function(){return Mt})),n.d(e,"b",(function(){return U})),n.d(e,"c",(function(){return Rt})),n.d(e,"d",(function(){return Ft})),n.d(e,"e",(function(){return Vt})),n.d(e,"f",(function(){return Lt})),n.d(e,"g",(function(){return xt})),n.d(e,"h",(function(){return K}));var r=n("8Y7J"),i=n("jtHE");function o(t,e){return t===e}function s(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;const r=e.length;for(let i=0;i<r;i++)if(!t(e[i],n[i]))return!1;return!0}function a(t,e=o){let n=null,r=null;function i(){return s(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}return i.reset=function(){n=null,r=null},i}const u=a((function(){const t=Object(r.getPlatform)();if(!t)return!1;const e=t.injector.get(r.COMPILER_OPTIONS,null);return!!e&&e.some(t=>(t&&t.providers||[]).some(t=>t&&t.provide&&"MockNgModuleResolver"===t.provide.name||!1))}));let c=(()=>{class t{constructor(){this.bootstrap$=new i.a(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const l=new r.InjectionToken("INITIAL_STATE_TOKEN");let h=(()=>{class t{static set(t){this.value=t}static pop(){const t=this.value;return this.value={},t}}return t.value={},t})();const d=new r.InjectionToken("Internals.StateContextFactory"),f=new r.InjectionToken("Internals.StateFactory");var p=n("SVse"),g=n("HDdC"),m=n("XNiG"),y=n("2Vo4"),v=n("LRne"),b=n("cp0P"),w=n("z6cu"),_=n("EY2u"),E=n("Cfvw"),S=n("pLZG"),C=n("lJxs"),I=n("UXun"),O=n("IzEk"),T=n("zx2A");class x{constructor(t){this.project=t}call(t,e){return e.subscribe(new j(t,this.project))}}class j extends T.b{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new T.a(this),n=this.destination;n.add(e);const r=Object(T.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var A=n("5+tZ"),k=n("xbPD"),N=n("JIr8"),P=n("1G5W"),D=n("vkgz"),R=n("/uUt");const M={STATE_NAME:t=>t+" is not a valid state name. It needs to be a valid object property name.",STATE_NAME_PROPERTY:()=>"States must register a 'name' property",STATE_UNIQUE:(t,e,n)=>`State name '${t}' from ${e} already exists in ${n}`,STATE_DECORATOR:()=>"States must be decorated with @State() decorator",INCORRECT_PRODUCTION:()=>"Angular is running in production mode but NGXS is still running in the development mode!\nPlease set developmentMode to false on the NgxsModule options when in production mode.\nNgxsModule.forRoot(states, { developmentMode: !environment.production })",INCORRECT_DEVELOPMENT:()=>"RECOMMENDATION: Set developmentMode to true on the NgxsModule when Angular is running in development mode.\nNgxsModule.forRoot(states, { developmentMode: !environment.production })",SELECT_FACTORY_NOT_CONNECTED:()=>"You have forgotten to import the NGXS module!",ACTION_DECORATOR:()=>"@Action() decorator cannot be used with static methods",SELECTOR_DECORATOR:()=>"Selectors only work on methods",ZONE_WARNING:()=>"Your application was bootstrapped with nooped zone and your execution strategy requires an actual NgZone!\nPlease set the value of the executionStrategy property to NoopNgxsExecutionStrategy.\nNgxsModule.forRoot(states, { executionStrategy: NoopNgxsExecutionStrategy })",PATCHING_ARRAY:()=>"Patching arrays is not supported.",PATCHING_PRIMITIVE:()=>"Patching primitives is not supported.",UNDECORATED_STATE_IN_IVY:t=>`'${t}' class should be decorated with @Injectable() right after the @State() decorator`};let L=(()=>{class t{constructor(t,e){this._ngZone=t,this._platformId=e,this.verifyZoneIsNotNooped(this._ngZone)}enter(t){return Object(p.o)(this._platformId)?this.runInsideAngular(t):this.runOutsideAngular(t)}leave(t){return this.runInsideAngular(t)}runInsideAngular(t){return r.NgZone.isInAngularZone()?t():this._ngZone.run(t)}runOutsideAngular(t){return r.NgZone.isInAngularZone()?this._ngZone.runOutsideAngular(t):t()}verifyZoneIsNotNooped(t){t instanceof r.NgZone||console.warn(M.ZONE_WARNING())}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](r.NgZone),r["\u0275\u0275inject"](r.PLATFORM_ID))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const F=new r.InjectionToken("ROOT_STATE_TOKEN"),V=new r.InjectionToken("FEATURE_STATE_TOKEN"),U=new r.InjectionToken("NGXS_PLUGINS"),q=new r.InjectionToken("NG_TEST_MODE"),B=new r.InjectionToken("NG_DEV_MODE"),H="NGXS_META",z="NGXS_SELECTOR_META";let W=(()=>{class t{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=L}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();class Q{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}}const $=new r.InjectionToken("NGXS_EXECUTION_STRATEGY");function K(t){return t.constructor&&t.constructor.type?t.constructor.type:t.type}const G=(t,e,n)=>{t=Object.assign({},t);const r=e.split("."),i=r.length-1;return r.reduce((t,e,r)=>(t[e]=r===i?n:Array.isArray(t[e])?t[e].slice():Object.assign({},t[e]),t&&t[e]),t),t},X=(t,e)=>e.split(".").reduce((t,e)=>t&&t[e],t),Y=t=>t&&"object"==typeof t&&!Array.isArray(t),Z=(t,...e)=>{if(!e.length)return t;const n=e.shift();if(Y(t)&&Y(n))for(const r in n)Y(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Z(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Z(t,...e)};function J(t){if(!t.hasOwnProperty(H)){const e={name:null,actions:{},defaults:{},path:null,makeRootSelector:t=>t.getStateGetter(e.name),children:[]};Object.defineProperty(t,H,{value:e})}return tt(t)}function tt(t){return t.NGXS_META}function et(t){return t.NGXS_SELECTOR_META}function nt(t,e){return e&&e.compatibility&&e.compatibility.strictContentSecurityPolicy?function(t){const e=t.slice();return t=>e.reduce((t,e)=>t&&t[e],t)}(t):function(t){const e=t;let n="store."+e[0],r=0;const i=e.length;let o=n;for(;++r<i;)o=o+" && "+(n=n+"."+e[r]);return new Function("store","return "+o+";")}(t)}function rt(t,e){const n=X(e.currentAppState,t.path),r=X(e.newAppState,t.path);return new Q(n,r,!t.isInitialised)}function it(...t){return function(t,e,n=ot){const r=t.reduce((t,e)=>(t[K(e)]=!0,t),{}),i=e&&function(t){return t.reduce((t,e)=>(t[e]=!0,t),{})}(e);return function(t){return t.pipe(function(t,e){return Object(S.a)(n=>{const r=K(n.action);return t[r]&&(!e||e[n.status])})}(r,i),n())}}(t,["DISPATCHED"])}function ot(){return Object(C.a)(t=>t.action)}function st(t){return e=>new g.a(n=>e.subscribe({next(e){t.leave(()=>n.next(e))},error(e){t.leave(()=>n.error(e))},complete(){t.leave(()=>n.complete())}}))}let at=(()=>{class t{constructor(t){this._executionStrategy=t}enter(t){return this._executionStrategy.enter(t)}leave(t){return this._executionStrategy.leave(t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"]($))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();class ut extends m.a{constructor(){super(...arguments),this._itemQueue=[],this._busyPushingNext=!1}next(t){if(this._busyPushingNext)this._itemQueue.unshift(t);else{for(this._busyPushingNext=!0,super.next(t);this._itemQueue.length>0;){const t=this._itemQueue.pop();super.next(t)}this._busyPushingNext=!1}}}let ct=(()=>{class t extends ut{}return t.\u0275fac=function(e){return lt(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const lt=r["\u0275\u0275getInheritedFactory"](ct);let ht=(()=>{class t extends g.a{constructor(t,e){super(n=>{const r=t.pipe(st(e)).subscribe({next:t=>n.next(t),error:t=>n.error(t),complete:()=>n.complete()});n.add(r)})}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](ct),r["\u0275\u0275inject"](at))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const dt=t=>(...e)=>t.shift()(...e,(...e)=>dt(t)(...e));let ft=(()=>{class t extends y.a{constructor(){super({})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),pt=(()=>{class t{constructor(t,e){this._parentManager=t,this._pluginHandlers=e,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const t=this.getPluginHandlers();this.rootPlugins.push(...t)}getPluginHandlers(){return(this._pluginHandlers||[]).map(t=>t.handle?t.handle.bind(t):t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](t,12),r["\u0275\u0275inject"](U,8))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),gt=(()=>{class t extends m.a{}return t.\u0275fac=function(e){return mt(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const mt=r["\u0275\u0275getInheritedFactory"](gt);let yt=(()=>{class t{constructor(t,e,n,r,i,o){this._injector=t,this._actions=e,this._actionResults=n,this._pluginManager=r,this._stateStream=i,this._ngxsExecutionStrategy=o}dispatch(t){const e=this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(t));return e.subscribe({error:t=>this._ngxsExecutionStrategy.leave(()=>{try{this._errorHandler=this._errorHandler||this._injector.get(r.ErrorHandler),this._errorHandler.handleError(t)}catch(e){}})}),e.pipe(st(this._ngxsExecutionStrategy))}dispatchByEvents(t){return Array.isArray(t)?0===t.length?Object(v.a)(this._stateStream.getValue()):Object(b.a)(t.map(t=>this.dispatchSingle(t))):this.dispatchSingle(t)}dispatchSingle(t){if(!K(t)){const e=new Error("This action doesn't have a type property: "+t.constructor.name);return Object(w.a)(e)}const e=this._stateStream.getValue();return dt([...this._pluginManager.plugins,(t,n)=>{t!==e&&this._stateStream.next(t);const r=this.getActionResultStream(n);return r.subscribe(t=>this._actions.next(t)),this._actions.next({action:n,status:"DISPATCHED"}),this.createDispatchObservable(r)}])(e,t).pipe(Object(I.a)())}getActionResultStream(t){return this._actionResults.pipe(Object(S.a)(e=>e.action===t&&"DISPATCHED"!==e.status),Object(O.a)(1),Object(I.a)())}createDispatchObservable(t){return t.pipe(function t(e,n){return n?r=>r.pipe(t((t,r)=>Object(E.a)(e(t,r)).pipe(Object(C.a)((e,i)=>n(t,e,r,i))))):t=>t.lift(new x(e))}(t=>{switch(t.status){case"SUCCESSFUL":return Object(v.a)(this._stateStream.getValue());case"ERRORED":return Object(w.a)(t.error);default:return _.a}})).pipe(Object(I.a)())}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](r.Injector),r["\u0275\u0275inject"](ct),r["\u0275\u0275inject"](gt),r["\u0275\u0275inject"](pt),r["\u0275\u0275inject"](ft),r["\u0275\u0275inject"](at))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const vt=t=>{Object.freeze(t);const e="function"==typeof t,n=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(t).forEach((function(r){!n.call(t,r)||e&&("caller"===r||"callee"===r||"arguments"===r)||null===t[r]||"object"!=typeof t[r]&&"function"!=typeof t[r]||Object.isFrozen(t[r])||vt(t[r])})),t};let bt=(()=>{class t{constructor(t,e){this.isDevMode=t,this.isTestMode=e}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](B),r["\u0275\u0275inject"](q))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),wt=(()=>{class t{constructor(t,e){this._host=t,this._config=e}get isIncorrectProduction(){return!this._host.isDevMode()&&this._config.developmentMode}get isIncorrectDevelopment(){return this._host.isDevMode()&&!this._config.developmentMode}verifyDevMode(){this._host.isTestMode()||(this.isIncorrectProduction?console.warn(M.INCORRECT_PRODUCTION()):this.isIncorrectDevelopment&&console.warn(M.INCORRECT_DEVELOPMENT()))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](bt),r["\u0275\u0275inject"](W))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),_t=(()=>{class t{constructor(t,e,n,r){this._stateStream=t,this._dispatcher=e,this._config=n,r.verifyDevMode()}getRootStateOperations(){const t={getState:()=>this._stateStream.getValue(),setState:t=>this._stateStream.next(t),dispatch:t=>this._dispatcher.dispatch(t)};return this._config.developmentMode?this.ensureStateAndActionsAreImmutable(t):t}ensureStateAndActionsAreImmutable(t){return{getState:()=>t.getState(),setState:e=>{const n=vt(e);return t.setState(n)},dispatch:e=>t.dispatch(e)}}setStateToTheCurrentWithNew(t){const e=this.getRootStateOperations(),n=e.getState();e.setState(Object.assign({},n,t.defaults))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](ft),r["\u0275\u0275inject"](yt),r["\u0275\u0275inject"](W),r["\u0275\u0275inject"](wt))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),Et=(()=>{class t{constructor(t){this._internalStateOperations=t}createStateContext(t){const e=this._internalStateOperations.getRootStateOperations();function n(e){return X(e,t.path)}function r(n,r){const i=G(n,t.path,r),o=t.instance;if(o.ngxsOnChanges){const e=rt(t,{currentAppState:n,newAppState:i});o.ngxsOnChanges(e)}return e.setState(i),i}function i(t,e){return r(t,e(n(t)))}return{getState:()=>n(e.getState()),patchState:t=>i(e.getState(),function(t){return e=>{if(Array.isArray(t))throw new Error(M.PATCHING_ARRAY());if("object"!=typeof t)throw new Error(M.PATCHING_PRIMITIVE());const n=Object.assign({},e);for(const r in t)n[r]=t[r];return n}}(t)),setState(t){const n=e.getState();return"function"==typeof t?i(n,t):r(n,t)},dispatch:t=>e.dispatch(t)}}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](_t))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),St=(()=>{class t{static stateNameErrorMessage(t){return M.STATE_NAME(t)}static checkCorrectStateName(t){if(!t)throw new Error(M.STATE_NAME_PROPERTY());if(!this.stateNameRegex.test(t))throw new Error(this.stateNameErrorMessage(t))}static checkStateNameIsUnique(t,e){const n=this.getValidStateMeta(t).name,r=e[n];if(r&&r!==t)throw new Error(M.STATE_UNIQUE(n,t.name,r.name));return n}static getValidStateMeta(t){const e=tt(t);if(!e)throw new Error(M.STATE_DECORATOR());return e}}return t.stateNameRegex=new RegExp("^[a-zA-Z0-9_]+$"),t})(),Ct=(()=>{class t{constructor(t,e,n,r,i,o,s){this._injector=t,this._config=e,this._parentFactory=n,this._actions=r,this._actionResults=i,this._stateContextFactory=o,this._initialState=s,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=a(()=>{const t=this;function e(e){const n=t.statePaths[e];return n?nt(n.split("."),t._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(t){let n=e(t);return n||((...r)=>(n||(n=e(t)),n?n(...r):void 0))},getSelectorOptions:e=>Object.assign({},t._config.selectorOptions,e||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static cloneDefaults(t){let e={};var n;return e=Array.isArray(t)?t.slice():"object"==typeof(n=t)&&null!==n||"function"==typeof n?Object.assign({},t):void 0===t?{}:t,e}static checkStatesAreValid(t){t.forEach(St.getValidStateMeta)}ngOnDestroy(){this._actionsSubscription.unsubscribe()}add(e){t.checkStatesAreValid(e);const{newStates:n}=this.addToStatesMap(e);if(!n.length)return[];const r=function(t){const e=e=>{const n=t.find(t=>t===e);if(!n)throw new Error(`Child state not found: ${e}. \r\nYou may have forgotten to add states to module`);return n.NGXS_META.name};return t.reduce((t,n)=>{const{name:r,children:i}=n.NGXS_META;return t[r]=(i||[]).map(e),t},{})}(n),i=function(t){const e=[],n={},r=(i,o=[])=>{Array.isArray(o)||(o=[]),o.push(i),n[i]=!0,t[i].forEach(t=>{if(o.indexOf(t)>=0)throw new Error(`Circular dependency '${t}' is required by '${i}': ${o.join(" -> ")}`);n[t]||r(t,o.slice(0))}),e.indexOf(i)<0&&e.push(i)};return Object.keys(t).forEach(t=>r(t)),e.reverse()}(r),o=function(t,e={}){const n=(t,e)=>{for(const r in t)if(t.hasOwnProperty(r)&&t[r].indexOf(e)>=0){const e=n(t,r);return null!==e?`${e}.${r}`:r}return null};for(const r in t)if(t.hasOwnProperty(r)){const i=n(t,r);e[r]=i?`${i}.${r}`:r}return e}(r),s=n.reduce((t,e)=>(t[e.NGXS_META.name]=e,t),{}),a=[];for(const u of i){const e=s[u],n=o[u],r=e.NGXS_META;this.addRuntimeInfoToMeta(r,n);const i={name:u,path:n,isInitialised:!1,actions:r.actions,instance:this._injector.get(e),defaults:t.cloneDefaults(r.defaults)};this.hasBeenMountedAndBootstrapped(u,n)||a.push(i),this.states.push(i)}return a}addAndReturnDefaults(t){const e=this.add(t||[]);return{defaults:e.reduce((t,e)=>G(t,e.path,e.defaults),{}),states:e}}connectActionHandlers(){null===this._actionsSubscription&&(this._actionsSubscription=this._actions.pipe(Object(S.a)(t=>"DISPATCHED"===t.status),Object(A.b)(({action:t})=>this.invokeActions(this._actions,t).pipe(Object(C.a)(()=>({action:t,status:"SUCCESSFUL"})),Object(k.a)({action:t,status:"CANCELED"}),Object(N.a)(e=>Object(v.a)({action:t,status:"ERRORED",error:e}))))).subscribe(t=>this._actionResults.next(t)))}invokeActions(t,e){const n=K(e),r=[];for(const o of this.states){const s=o.actions[n];if(s)for(const n of s){const s=this._stateContextFactory.createStateContext(o);try{let i=o.instance[n.fn](s,e);i instanceof Promise&&(i=Object(E.a)(i)),i instanceof g.a?(i=i.pipe(Object(k.a)({})),n.options.cancelUncompleted&&(i=i.pipe(Object(P.a)(t.pipe(it(e)))))):i=Object(v.a)({}).pipe(Object(I.a)()),r.push(i)}catch(i){r.push(Object(w.a)(i))}}}return r.length||r.push(Object(v.a)({})),Object(b.a)(r)}addToStatesMap(t){const e=[],n=this.statesByName;for(const r of t){const t=St.checkStateNameIsUnique(r,n);!n[t]&&(e.push(r),n[t]=r)}return{newStates:e}}addRuntimeInfoToMeta(t,e){this.statePaths[t.name]=e,t.path=e}hasBeenMountedAndBootstrapped(t,e){const n=void 0!==X(this._initialState,e);return this.statesByName[t]&&n}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](r.Injector),r["\u0275\u0275inject"](W),r["\u0275\u0275inject"](t,12),r["\u0275\u0275inject"](ct),r["\u0275\u0275inject"](gt),r["\u0275\u0275inject"](Et),r["\u0275\u0275inject"](l,8))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),It=(()=>{class t{constructor(t,e,n){this.internalStateOperations=t,this.stateContextFactory=e,this.bootstrapper=n}ngxsBootstrap(t,e){this.internalStateOperations.getRootStateOperations().dispatch(t).pipe(Object(S.a)(()=>!!e),Object(D.a)(()=>this.invokeInit(e.states)),Object(A.b)(()=>this.bootstrapper.appBootstrapped$),Object(S.a)(t=>!!t)).subscribe(()=>this.invokeBootstrap(e.states))}invokeInit(t){for(const e of t){const t=e.instance;if(t.ngxsOnChanges){const n=rt(e,{currentAppState:{},newAppState:this.internalStateOperations.getRootStateOperations().getState()});t.ngxsOnChanges(n)}t.ngxsOnInit&&t.ngxsOnInit(this.getStateContext(e)),e.isInitialised=!0}}invokeBootstrap(t){for(const e of t){const t=e.instance;t.ngxsAfterBootstrap&&t.ngxsAfterBootstrap(this.getStateContext(e))}}getStateContext(t){return this.stateContextFactory.createStateContext(t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](_t),r["\u0275\u0275inject"](Et),r["\u0275\u0275inject"](c))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const Ot=t=>t&&t.NGXS_SELECTOR_OPTIONS_META||{};function Tt(t){const e=et(t)||tt(t);return e&&e.makeRootSelector||(()=>t)}let xt=(()=>{class t{constructor(t,e,n,r,i,o){this._stateStream=t,this._internalStateOperations=e,this._config=n,this._internalExecutionStrategy=r,this._stateFactory=i,this.initStateStream(o)}dispatch(t){return this._internalStateOperations.getRootStateOperations().dispatch(t)}select(t){const e=this.getStoreBoundSelectorFn(t);return this._stateStream.pipe(Object(C.a)(e),Object(N.a)(t=>{const{suppressErrors:e}=this._config.selectorOptions;return t instanceof TypeError&&e?Object(v.a)(void 0):Object(w.a)(t)}),Object(R.a)(),st(this._internalExecutionStrategy))}selectOnce(t){return this.select(t).pipe(Object(O.a)(1))}selectSnapshot(t){return this.getStoreBoundSelectorFn(t)(this._stateStream.getValue())}subscribe(t){return this._stateStream.pipe(st(this._internalExecutionStrategy)).subscribe(t)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(t){return this._internalStateOperations.getRootStateOperations().setState(t)}getStoreBoundSelectorFn(t){return Tt(t)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(t){const e=this._stateStream.value;if(!e||0===Object.keys(e).length){const e=Object.keys(this._config.defaultsState).length>0?Object.assign({},this._config.defaultsState,t):t;this._stateStream.next(e)}}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](ft),r["\u0275\u0275inject"](_t),r["\u0275\u0275inject"](W),r["\u0275\u0275inject"](at),r["\u0275\u0275inject"](Ct),r["\u0275\u0275inject"](l,8))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),jt=(()=>{class t{constructor(e,n){t.store=e,t.config=n}ngOnDestroy(){t.store=null,t.config=null}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](xt),r["\u0275\u0275inject"](W))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t.store=null,t.config=null,t})();class At{static get type(){return"@@INIT"}}class kt{constructor(t){this.addedStates=t}static get type(){return"@@UPDATE_STATE"}}const Nt=new i.a(1);let Pt=(()=>{class t{constructor(t,e,n,i,o=[],s){!function(){try{const t=window.ng,e=!(t.probe&&t.coreTokens)&&Object(r.isDevMode)();Nt.next(e)}catch(t){Nt.next(!1)}finally{Nt.complete()}}();const a=t.addAndReturnDefaults(o);e.setStateToTheCurrentWithNew(a),t.connectActionHandlers(),s.ngxsBootstrap(new At,a)}}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)(r["\u0275\u0275inject"](Ct),r["\u0275\u0275inject"](_t),r["\u0275\u0275inject"](xt),r["\u0275\u0275inject"](jt),r["\u0275\u0275inject"](F,8),r["\u0275\u0275inject"](It))}}),t})(),Dt=(()=>{class t{constructor(e,n,r,i=[],o){const s=t.flattenStates(i),a=r.addAndReturnDefaults(s);a.states.length&&(n.setStateToTheCurrentWithNew(a),o.ngxsBootstrap(new kt(a.defaults),a))}static flattenStates(t=[]){return t.reduce((t,e)=>t.concat(e),[])}}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)(r["\u0275\u0275inject"](xt),r["\u0275\u0275inject"](_t),r["\u0275\u0275inject"](Ct),r["\u0275\u0275inject"](V,8),r["\u0275\u0275inject"](It))}}),t})(),Rt=(()=>{class t{static forRoot(e=[],n={}){return{ngModule:Pt,providers:[Ct,Et,ht,ct,c,wt,bt,It,yt,gt,_t,at,xt,ft,jt,pt,...e,...t.ngxsTokenProviders(e,n)]}}static forFeature(t=[]){return{ngModule:Dt,providers:[Ct,pt,...t,{provide:V,multi:!0,useValue:t}]}}static ngxsTokenProviders(e,n){return[{provide:q,useValue:u},{provide:B,useValue:r.isDevMode},{provide:$,useClass:n.executionStrategy||L},{provide:F,useValue:e},{provide:t.ROOT_OPTIONS,useValue:n},{provide:W,useFactory:t.ngxsConfigFactory,deps:[t.ROOT_OPTIONS]},{provide:r.APP_BOOTSTRAP_LISTENER,useFactory:t.appBootstrapListenerFactory,multi:!0,deps:[c]},{provide:l,useFactory:t.getInitialState},{provide:d,useExisting:Et},{provide:f,useExisting:Ct}]}static ngxsConfigFactory(t){return Z(new W,t)}static appBootstrapListenerFactory(t){return()=>t.bootstrap()}static getInitialState(){return h.pop()}}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t.ROOT_OPTIONS=new r.InjectionToken("ROOT_OPTIONS"),t})();function Mt(t,e){return(n,r)=>{if(n.hasOwnProperty("prototype"))throw new Error(M.ACTION_DECORATOR());const i=J(n.constructor);Array.isArray(t)||(t=[t]);for(const o of t){const t=o.type;i.actions[t]||(i.actions[t]=[]),i.actions[t].push({fn:r,options:e||{},type:t})}}}function Lt(t){return e=>{!function(t){Nt.subscribe(e=>{e&&(t.\u0275prov||console.warn(M.UNDECORATED_STATE_IN_IVY(t.name)))})}(e);const n=e,r=J(n),i=Object.getPrototypeOf(n),o=function(e){return Object.assign({},e.NGXS_OPTIONS_META||{},t)}(i);!function(t){const{meta:e,inheritedStateClass:n,optionsWithInheritance:r}=t,{children:i,defaults:o,name:s}=r,a="string"==typeof s?s:s&&s.getName()||null;St.checkCorrectStateName(a),n.hasOwnProperty(H)&&(e.actions=Object.assign({},e.actions,(n.NGXS_META||{}).actions)),e.children=i,e.defaults=o,e.name=a}({meta:r,inheritedStateClass:i,optionsWithInheritance:o}),n.NGXS_OPTIONS_META=o}}function Ft(t,...e){return function(n,r){const i=r.toString(),o=`__${i}__selector`,s=function(t,e,n=[]){return"string"==typeof(e=e||function(t){const e=t.length-1;return 36===t.charCodeAt(e)?t.slice(0,e):t}(t))?nt(n.length?[e,...n]:e.split("."),jt.config):e}(i,t,e);Object.defineProperties(n,{[o]:{writable:!0,enumerable:!1,configurable:!0},[i]:{enumerable:!0,configurable:!0,get(){return this[o]||(this[o]=function(t){if(!jt.store)throw new Error(M.SELECT_FACTORY_NOT_CONNECTED());return jt.store.select(t)}(s))}}})}}function Vt(t){return(e,n,r)=>{if(!r||null===r.value)throw new Error(M.SELECTOR_DECORATOR());const i=r.value,o=function(t,e,n){const r=n&&n.containerClass,i=a((function(...t){const n=e.apply(r,t);return n instanceof Function?a.apply(null,[n]):n}));Object.setPrototypeOf(i,e);const o=function(t,e){const n=((r=t).hasOwnProperty(z)||Object.defineProperty(r,z,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),et(r));var r;n.originalFn=t;let i=()=>({});e&&(n.containerClass=e.containerClass,n.selectorName=e.selectorName,i=e.getSelectorOptions||i);const o=Object.assign({},n);return n.getSelectorOptions=()=>function(t,e){return Object.assign({},Ot(t.containerClass)||{},Ot(t.originalFn)||{},t.getSelectorOptions()||{},e)}(o,i()),n}(e,n);return o.makeRootSelector=e=>{const{argumentSelectorFunctions:n,selectorOptions:r}=function(t,e,n=[]){const r=e.getSelectorOptions(),i=t.getSelectorOptions(r);return{selectorOptions:i,argumentSelectorFunctions:function(t=[],e,n){const r=[];return n&&(0===t.length||e.injectContainerState)&&tt(n)&&r.push(n),t&&r.push(...t),r}(n,i,e.containerClass).map(e=>Tt(e)(t))}}(e,o,t);return function(t){const e=n.map(e=>e(t));try{return i(...e)}catch(o){if(o instanceof TypeError&&r.suppressErrors)return;throw o}}},i}(t,i,{containerClass:e,selectorName:n.toString(),getSelectorOptions:()=>({})}),s={configurable:!0,get:()=>o};return s.originalFn=i,s}}},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e){return"function"==typeof e?n=>n.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends o.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new o.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(o.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},iInd:function(t,e,n){"use strict";n.d(e,"a",(function(){return hn})),n.d(e,"b",(function(){return gn})),n.d(e,"c",(function(){return fn})),n.d(e,"d",(function(){return On})),n.d(e,"e",(function(){return mn}));var r=n("SVse"),i=n("8Y7J"),o=n("LRne"),s=n("Cfvw"),a=n("2Vo4"),u=n("z+Ro"),c=n("DH7j"),l=n("7o/Q");class h extends l.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class d extends l.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var f=n("SeVD"),p=n("HDdC");function g(t,e,n,r,i=new d(t,n,r)){if(!i.closed)return e instanceof p.a?e.subscribe(i):Object(f.a)(e)(i)}var m=n("yCtX");const y={};class v{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new b(t,this.resultSelector))}}class b extends h{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(y),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(g(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===y?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var w=n("sVev"),_=n("EY2u");function E(t){return new p.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(s.a)(n):Object(_.b)()).subscribe(e)})}var S=n("XNiG"),C=n("lJxs"),I=n("0EUg"),O=n("pLZG"),T=n("4I5i");function x(t){return function(e){return 0===t?Object(_.b)():e.lift(new j(t))}}class j{constructor(t){if(this.total=t,this.total<0)throw new T.a}call(t,e){return e.subscribe(new A(t,this.total))}}class A extends l.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var k=n("XDbj"),N=n("xbPD"),P=n("SpAZ"),D=n("eIep"),R=n("IzEk"),M=n("JX91"),L=n("Kqap"),F=n("JIr8"),V=n("5+tZ");function U(t,e){return Object(V.b)(t,e,1)}var q=n("SxV6"),B=n("vkgz"),H=n("quSY");class z{constructor(t){this.callback=t}call(t,e){return e.subscribe(new W(t,this.callback))}}class W extends l.a{constructor(t,e){super(t),this.add(new H.a(e))}}var Q=n("bHdf");class ${constructor(t,e){this.id=t,this.url=e}}class K extends ${constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class G extends ${constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class X extends ${constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Y extends ${constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Z extends ${constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J extends ${constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt extends ${constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class et extends ${constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nt extends ${constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rt{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class it{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ot{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class st{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class at{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ut{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const lt="primary";class ht{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function dt(t){return new ht(t)}function ft(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function pt(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function gt(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!mt(t[i],e[i]))return!1;return!0}function mt(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function yt(t){return Array.prototype.concat.apply([],t)}function vt(t){return t.length>0?t[t.length-1]:null}function bt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function wt(t){return Object(i["\u0275isObservable"])(t)?t:Object(i["\u0275isPromise"])(t)?Object(s.a)(Promise.resolve(t)):Object(o.a)(t)}function _t(t,e,n){return n?function(t,e){return gt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!It(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>mt(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!It(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!It(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!It(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class Et{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dt(this.queryParams)),this._queryParamMap}toString(){return jt.serialize(this)}}class St{constructor(t,e){this.segments=t,this.children=e,this.parent=null,bt(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return At(this)}}class Ct{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=dt(this.parameters)),this._parameterMap}toString(){return Mt(this)}}function It(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Ot(t,e){let n=[];return bt(t.children,(t,r)=>{r===lt&&(n=n.concat(e(t,r)))}),bt(t.children,(t,r)=>{r!==lt&&(n=n.concat(e(t,r)))}),n}class Tt{}class xt{parse(t){const e=new qt(t);return new Et(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return At(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return bt(e.children,(e,n)=>{n!==lt&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Ot(e,(n,r)=>r===lt?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${At(e)}/${n[0]}`:`${At(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Nt(e)}=${Nt(t)}`).join("&"):`${Nt(e)}=${Nt(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const jt=new xt;function At(t){return t.segments.map(t=>Mt(t)).join("/")}function kt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nt(t){return kt(t).replace(/%3B/gi,";")}function Pt(t){return kt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dt(t){return decodeURIComponent(t)}function Rt(t){return Dt(t.replace(/\+/g,"%20"))}function Mt(t){return`${Pt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Pt(t)}=${Pt(e[t])}`).join("")}`;var e}const Lt=/^[^\/()?;=#]+/;function Ft(t){const e=t.match(Lt);return e?e[0]:""}const Vt=/^[^=?&#]+/,Ut=/^[^?&#]+/;class qt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new St(t,e)),n}parseSegment(){const t=Ft(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ct(Dt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ft(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ft(this.remaining);t&&(n=t,this.capture(n))}t[Dt(e)]=Dt(n)}parseQueryParam(t){const e=function(t){const e=t.match(Vt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ut);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Rt(e),i=Rt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ft(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=lt);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new St([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Bt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ht(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ht(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=zt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return zt(t,this._root).map(t=>t.value)}}function Ht(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ht(t,n);if(e)return e}return null}function zt(t,e){if(t===e.value)return[e];for(const n of e.children){const r=zt(t,n);if(r.length)return r.unshift(e),r}return[]}class Wt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Qt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class $t extends Bt{constructor(t,e){super(t),this.snapshot=e,Jt(this,t)}toString(){return this.snapshot.toString()}}function Kt(t,e){const n=function(t,e){const n=new Yt([],{},{},"",{},lt,e,null,t.root,-1,{});return new Zt("",new Wt(n,[]))}(t,e),r=new a.a([new Ct("",{})]),i=new a.a({}),o=new a.a({}),s=new a.a({}),u=new a.a(""),c=new Gt(r,i,s,u,o,lt,e,n.root);return c.snapshot=n.root,new $t(new Wt(c,[]),n)}class Gt{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(C.a)(t=>dt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(C.a)(t=>dt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xt(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Yt{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zt extends Bt{constructor(t,e){super(e),this.url=t,Jt(this,e)}toString(){return te(this._root)}}function Jt(t,e){e.value._routerState=t,e.children.forEach(e=>Jt(t,e))}function te(t){const e=t.children.length>0?` { ${t.children.map(te).join(", ")} } `:"";return`${t.value}${e}`}function ee(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,gt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),gt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!gt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),gt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ne(t,e){var n,r;return gt(t.params,e.params)&&It(n=t.url,r=e.url)&&n.every((t,e)=>gt(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||ne(t.parent,e.parent))}function re(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ie(t,e,n,r,i){let o={};return r&&bt(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Et(n.root===t?e:function t(e,n,r){const i={};return bt(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new St(e.segments,i)}(n.root,t,e),o,i)}class oe{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&re(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==vt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class se{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ae(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function ue(t,e,n){if(t||(t=new St([],{})),0===t.segments.length&&t.hasChildren())return ce(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=ae(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!fe(s,a,e))return o;r+=2}else{if(!fe(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new St(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new St(t.segments.slice(r.pathIndex),t.children),ce(e,0,i)}return r.match&&0===i.length?new St(t.segments,{}):r.match&&!t.hasChildren()?le(t,e,n):r.match?ce(t,0,i):le(t,e,n)}function ce(t,e,n){if(0===n.length)return new St(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[lt]:t}}(n),i={};return bt(r,(n,r)=>{null!==n&&(i[r]=ue(t.children[r],e,n))}),bt(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new St(t.segments,i)}}function le(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=he(n[i].outlets);return new St(r,t)}if(0===i&&re(n[0])){r.push(new Ct(t.segments[e].path,n[0])),i++;continue}const o=ae(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&re(s)?(r.push(new Ct(o,de(s))),i+=2):(r.push(new Ct(o,{})),i++)}return new St(r,{})}function he(t){const e={};return bt(t,(t,n)=>{null!==t&&(e[n]=le(new St([],{}),0,t))}),e}function de(t){const e={};return bt(t,(t,n)=>e[n]=""+t),e}function fe(t,e,n){return t==n.path&&gt(e,n.parameters)}class pe{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ee(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Qt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),bt(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Qt(t),i=t.value.component?n.children:e;bt(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Qt(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ut(t.value.snapshot))}),t.children.length&&this.forwardEvent(new st(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ee(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ge(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ge(t){ee(t.value),t.children.forEach(ge)}class me{constructor(t,e){this.routes=t,this.module=e}}function ye(t){return"function"==typeof t}function ve(t){return t instanceof Et}const be=Symbol("INITIAL_VALUE");function we(){return Object(D.a)(t=>function(...t){let e=void 0,n=void 0;return Object(u.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(c.a)(t[0])&&(t=t[0]),Object(m.a)(t,n).lift(new v(e))}(...t.map(t=>t.pipe(Object(R.a)(1),Object(M.a)(be)))).pipe(Object(L.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==be)return t;if(r===be&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ve(r))return r}return t},t)},be),Object(O.a)(t=>t!==be),Object(C.a)(t=>ve(t)?t:!0===t),Object(R.a)(1)))}class _e{constructor(t){this.segmentGroup=t||null}}class Ee{constructor(t){this.urlTree=t}}function Se(t){return new p.a(e=>e.error(new _e(t)))}function Ce(t){return new p.a(e=>e.error(new Ee(t)))}function Ie(t){return new p.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Oe{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.NgModuleRef)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,lt).pipe(Object(C.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(F.a)(t=>{if(t instanceof Ee)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof _e)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,lt).pipe(Object(C.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Object(F.a)(t=>{if(t instanceof _e)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new St([],{[lt]:t}):t;return new Et(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(C.a)(t=>new St([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(o.a)({});const n=[],r=[],i={};return bt(t,(t,o)=>{const s=e(o,t).pipe(Object(C.a)(t=>i[o]=t));o===lt?n.push(s):r.push(s)}),o.a.apply(null,n.concat(r)).pipe(Object(I.a)(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(O.a)((e,n)=>t(e,n,r)):P.a,x(1),n?Object(N.a)(e):Object(k.a)(()=>new w.a))}(),Object(C.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(o.a)(...n).pipe(U(a=>this.expandSegmentAgainstRoute(t,e,n,a,r,i,s).pipe(Object(F.a)(t=>{if(t instanceof _e)return Object(o.a)(null);throw t}))),Object(q.a)(t=>!!t),Object(F.a)((t,n)=>{if(t instanceof w.a||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(o.a)(new St([],{}));throw new _e(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Ae(r)!==o?Se(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Se(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ce(i):this.lineralizeSegments(n,i).pipe(Object(V.b)(n=>{const i=new St(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Te(e,r,i);if(!s)return Se(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ce(l):this.lineralizeSegments(r,l).pipe(Object(V.b)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(C.a)(t=>(n._loadedConfig=t,new St(r,{})))):Object(o.a)(new St(r,{}));const{matched:i,consumedSegments:s,lastChild:a}=Te(e,n,r);if(!i)return Se(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(V.b)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:a}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>je(t,e,n)&&Ae(n)!==lt)}(t,n,r)?{segmentGroup:xe(new St(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Ae(r)!==lt&&(n[Ae(r)]=new St([],{}));return n}(r,new St(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>je(t,e,n))}(t,n,r)?{segmentGroup:xe(new St(t.segments,function(t,e,n,r){const i={};for(const o of n)je(t,e,o)&&!r[Ae(o)]&&(i[Ae(o)]=new St([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,u,r);return 0===a.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(C.a)(t=>new St(s,t))):0===r.length&&0===a.length?Object(o.a)(new St(s,{})):this.expandSegment(n,i,r,a,lt,!0).pipe(Object(C.a)(t=>new St(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new me(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(V.b)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(C.a)(t=>(e._loadedConfig=t,t))):function(t){return new p.a(e=>e.error(ft(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new me([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&ye(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!ye(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return wt(o)});return Object(o.a)(i).pipe(we(),Object(B.a)(t=>{if(!ve(t))return;const e=ft(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(C.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ie(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Et(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return bt(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return bt(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new St(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Te(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||pt)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function xe(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new St(t.segments.concat(e.segments),e.children)}return t}function je(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ae(t){return t.outlet||lt}class ke{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ne{constructor(t,e){this.component=t,this.route=e}}function Pe(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qt(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!It(t.url,e.url);case"pathParamsOrQueryParamsChange":return!It(t.url,e.url)||!gt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ne(t,e)||!gt(t.queryParams,e.queryParams);case"paramsChange":default:return!ne(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new ke(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new Ne(u.outlet.component,a))}else a&&Re(n,u,o),o.canActivateChecks.push(new ke(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),bt(s,(t,e)=>Re(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function De(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Re(t,e,n){const r=Qt(t),i=t.value;bt(r,(t,r)=>{Re(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ne(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Me(t,e){return null!==t&&e&&e(new at(t)),Object(o.a)(!0)}function Le(t,e){return null!==t&&e&&e(new ot(t)),Object(o.a)(!0)}function Fe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>E(()=>{const i=De(r,e,n);let o;if(function(t){return t&&ye(t.canActivate)}(i))o=wt(i.canActivate(e,t));else{if(!ye(i))throw new Error("Invalid CanActivate guard");o=wt(i(e,t))}return o.pipe(Object(q.a)())}));return Object(o.a)(i).pipe(we())}function Ve(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>E(()=>{const i=e.guards.map(i=>{const o=De(i,e.node,n);let s;if(function(t){return t&&ye(t.canActivateChild)}(o))s=wt(o.canActivateChild(r,t));else{if(!ye(o))throw new Error("Invalid CanActivateChild guard");s=wt(o(r,t))}return s.pipe(Object(q.a)())});return Object(o.a)(i).pipe(we())}));return Object(o.a)(i).pipe(we())}class Ue{}class qe{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=ze(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,lt),n=new Yt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},lt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Wt(n,e),i=new Zt(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(t){return new p.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Xt(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Ot(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===lt?-1:e.value.outlet===lt?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Ue))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Ue}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Ue;if((t.outlet||lt)!==r)throw new Ue;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?vt(n).parameters:{};i=new Yt(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$e(t),r,t.component,t,Be(e),He(e)+n.length,Ke(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ue;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||pt)(n,t,e);if(!r)throw new Ue;const i={};bt(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Yt(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$e(t),r,t.component,t,Be(e),He(e)+o.length,Ke(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ze(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Wt(i,t)]}if(0===a.length&&0===c.length)return[new Wt(i,[])];const l=this.processSegment(a,u,c,lt);return[new Wt(i,l)]}}function Be(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function He(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ze(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>We(t,e,n)&&Qe(n)!==lt)}(t,n,r)){const i=new St(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Qe(o)!==lt){const n=new St([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Qe(o)]=n}return i}(t,e,r,new St(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>We(t,e,n))}(t,n,r)){const o=new St(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(We(t,n,a)&&!i[Qe(a)]){const n=new St([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Qe(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new St(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function We(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Qe(t){return t.outlet||lt}function $e(t){return t.data||{}}function Ke(t){return t.resolve||{}}function Ge(t){return function(e){return e.pipe(Object(D.a)(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(C.a)(()=>e)):Object(s.a)([e])}))}}class Xe extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let Ye=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i["\u0275\u0275element"](0,"router-outlet")},directives:function(){return[mn]},encapsulation:2}),t})();function Ze(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Je(r,tn(e,r))}}function Je(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==lt)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Ze(t.children,e)}function tn(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function en(t){const e=t.children&&t.children.map(en),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==lt&&(n.component=Ye),n}const nn=new i.InjectionToken("ROUTES");class rn{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(C.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new me(yt(r.injector.get(nn)).map(en),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):wt(t()).pipe(Object(V.b)(t=>t instanceof i.NgModuleFactory?Object(o.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class on{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sn,this.attachRef=null}}class sn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new on,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class an{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function un(t){throw t}function cn(t,e,n){return e.parse("/")}function ln(t,e){return Object(o.a)(null)}let hn=(()=>{class t{constructor(t,e,n,r,o,s,u,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S.a,this.errorHandler=un,this.malformedUriErrorHandler=cn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ln,afterPreactivation:ln},this.urlHandlingStrategy=new an,this.routeReuseStrategy=new Xe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(i.NgModuleRef),this.console=o.get(i["\u0275Console"]);const l=o.get(i.NgZone);this.isNgZoneEnabled=l instanceof i.NgZone,this.resetConfig(c),this.currentUrlTree=new Et(new St([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new rn(s,u,t=>this.triggerEvent(new rt(t)),t=>this.triggerEvent(new it(t))),this.routerState=Kt(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(O.a)(t=>0!==t.id),Object(C.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(D.a)(t=>{let n=!1,r=!1;return Object(o.a)(t).pipe(Object(B.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(D.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(D.a)(t=>{const n=this.transitions.getValue();return e.next(new K(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?_.a:[t]}),Object(D.a)(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,a=this.config,function(t){return t.pipe(Object(D.a)(t=>function(t,e,n,r,i){return new Oe(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,a).pipe(Object(C.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(B.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(V.b)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new qe(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(C.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(B.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(B.a)(t=>{const n=new Z(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:a}=t,u=new K(n,this.serializeUrl(r),i,s);e.next(u);const c=Kt(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),_.a}),Ge(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(B.a)(t=>{const e=new J(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(C.a)(t=>Object.assign(Object.assign({},t),{guards:Pe(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(V.b)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(V.b)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(o=>{const s=De(o,e,i);let a;if(function(t){return t&&ye(t.canDeactivate)}(s))a=wt(s.canDeactivate(t,e,n,r));else{if(!ye(s))throw new Error("Invalid CanDeactivate guard");a=wt(s(t,e,n,r))}return a.pipe(Object(q.a)())});return Object(o.a)(a).pipe(we())}(t.component,t.route,n,e,r)),Object(q.a)(t=>!0!==t,!0))}(u,r,i,t).pipe(Object(V.b)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(U(e=>Object(s.a)([Le(e.route.parent,r),Me(e.route,r),Ve(t,e.path,n),Fe(t,e.route,n)]).pipe(Object(I.a)(),Object(q.a)(t=>!0!==t,!0))),Object(q.a)(t=>!0!==t,!0))}(r,a,t,e):Object(o.a)(n)),Object(C.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(B.a)(t=>{if(ve(t.guardsResult)){const e=ft(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(B.a)(t=>{const e=new tt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(O.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new X(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ge(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(B.a)(t=>{const e=new et(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(D.a)(t=>{let n=!1;return Object(o.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(V.b)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(o.a)(t);let a=0;return Object(s.a)(n).pipe(U(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(o.a)({});const a={};return Object(s.a)(i).pipe(Object(V.b)(i=>function(t,e,n,r){const i=De(t,e,r);return wt(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(B.a)(t=>{a[i]=t}))),x(1),Object(V.b)(()=>Object.keys(a).length===i.length?Object(o.a)(a):_.a))}(t._resolve,t,e,r).pipe(Object(C.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Xt(t,n).resolve),null)))}(t.route,e,r,i)),Object(B.a)(()=>a++),x(1),Object(V.b)(e=>a===n.length?Object(o.a)(t):_.a))}))}),Object(B.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new X(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(B.a)(t=>{const e=new nt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ge(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(C.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Wt(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Gt(new a.a((i=n.value).url),new a.a(i.params),new a.a(i.queryParams),new a.a(i.fragment),new a.a(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Wt(r,o)}}var i}(t,e._root,n?n._root:void 0);return new $t(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(B.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(u=this.rootContexts,c=this.routeReuseStrategy,l=t=>this.triggerEvent(t),Object(C.a)(t=>(new pe(c,t.targetRouterState,t.currentRouterState,l).activate(u),t))),Object(B.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new X(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new z(i))),Object(F.a)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ve(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new X(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Y(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return _.a}));var i,u,c,l}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ze(t),this.config=t.map(en),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(i.isDevMode)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return ie(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new oe(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return bt(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new oe(n,e,r)}(n);if(o.toRoot())return ie(e.root,new St([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new se(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new se(t,t===e.root,0)}const r=re(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new se(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?ce(s.segmentGroup,s.index,o.commands):ue(s.segmentGroup,s.index,o.commands);return ie(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(i.isDevMode)()&&this.isNgZoneEnabled&&!i.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ve(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(ve(t))return _t(this.currentUrlTree,t,e);const n=this.parseUrl(t);return _t(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new G(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](i.Type),i["\u0275\u0275inject"](Tt),i["\u0275\u0275inject"](sn),i["\u0275\u0275inject"](r.g),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](i.NgModuleFactoryLoader),i["\u0275\u0275inject"](i.Compiler),i["\u0275\u0275inject"](void 0))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),dn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new S.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:pn(this.skipLocationChange),replaceUrl:pn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:pn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:pn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](hn),i["\u0275\u0275directiveInject"](Gt),i["\u0275\u0275injectAttribute"]("tabindex"),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef))},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i["\u0275\u0275listener"]("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i["\u0275\u0275NgOnChangesFeature"]]}),t})(),fn=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new S.a,this.subscription=t.events.subscribe(t=>{t instanceof G&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:pn(this.skipLocationChange),replaceUrl:pn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:pn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:pn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](hn),i["\u0275\u0275directiveInject"](Gt),i["\u0275\u0275directiveInject"](r.h))},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i["\u0275\u0275listener"]("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(i["\u0275\u0275hostProperty"]("href",e.href,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275attribute"]("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i["\u0275\u0275NgOnChangesFeature"]]}),t})();function pn(t){return""===t||!!t}let gn=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof G&&this.update()})}ngAfterContentInit(){Object(s.a)([this.links.changes,this.linksWithHrefs.changes,Object(o.a)(null)]).pipe(Object(Q.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(s.a)(e).pipe(Object(Q.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](hn),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](dn,8),i["\u0275\u0275directiveInject"](fn,8))},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(i["\u0275\u0275contentQuery"](n,dn,!0),i["\u0275\u0275contentQuery"](n,fn,!0)),2&t&&(i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(e.links=r),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i["\u0275\u0275NgOnChangesFeature"]]}),t})(),mn=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.EventEmitter,this.deactivateEvents=new i.EventEmitter,this.name=r||lt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new yn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](sn),i["\u0275\u0275directiveInject"](i.ViewContainerRef),i["\u0275\u0275directiveInject"](i.ComponentFactoryResolver),i["\u0275\u0275injectAttribute"]("name"),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class yn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Gt?this.route:t===sn?this.childContexts:this.parent.get(t,e)}}class vn{}class bn{preload(t,e){return Object(o.a)(null)}}let wn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new rn(e,n,e=>t.triggerEvent(new rt(e)),e=>t.triggerEvent(new it(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(O.a)(t=>t instanceof G),U(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.NgModuleRef);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(s.a)(n).pipe(Object(Q.a)(),Object(C.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(V.b)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](hn),i["\u0275\u0275inject"](i.NgModuleFactoryLoader),i["\u0275\u0275inject"](i.Compiler),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](vn))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),_n=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof K?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof G&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ct&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ct(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](hn),i["\u0275\u0275inject"](r.n),i["\u0275\u0275inject"](void 0))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const En=new i.InjectionToken("ROUTER_CONFIGURATION"),Sn=new i.InjectionToken("ROUTER_FORROOT_GUARD"),Cn=[r.g,{provide:Tt,useClass:xt},{provide:hn,useFactory:function(t,e,n,i,o,s,a,u={},c,l){const h=new hn(null,t,e,n,i,o,s,yt(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=Object(r.r)();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Tt,sn,r.g,i.Injector,i.NgModuleFactoryLoader,i.Compiler,nn,En,[class{},new i.Optional],[class{},new i.Optional]]},sn,{provide:Gt,useFactory:function(t){return t.routerState.root},deps:[hn]},{provide:i.NgModuleFactoryLoader,useClass:i.SystemJsNgModuleLoader},wn,bn,class{preload(t,e){return e().pipe(Object(F.a)(()=>Object(o.a)(null)))}},{provide:En,useValue:{enableTracing:!1}}];function In(){return new i.NgProbeToken("Router",hn)}let On=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Cn,An(e),{provide:Sn,useFactory:jn,deps:[[hn,new i.Optional,new i.SkipSelf]]},{provide:En,useValue:n||{}},{provide:r.h,useFactory:xn,deps:[r.m,[new i.Inject(r.a),new i.Optional],En]},{provide:_n,useFactory:Tn,deps:[hn,r.n,En]},{provide:vn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:bn},{provide:i.NgProbeToken,multi:!0,useFactory:In},[kn,{provide:i.APP_INITIALIZER,multi:!0,useFactory:Nn,deps:[kn]},{provide:Dn,useFactory:Pn,deps:[kn]},{provide:i.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Dn}]]}}static forChild(e){return{ngModule:t,providers:[An(e)]}}}return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)(i["\u0275\u0275inject"](Sn,8),i["\u0275\u0275inject"](hn,8))}}),t})();function Tn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new _n(t,e,n)}function xn(t,e,n={}){return n.useHash?new r.e(t,e):new r.l(t,e)}function jn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function An(t){return[{provide:i.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:nn,multi:!0,useValue:t}]}let kn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new S.a}appInitializer(){return this.injector.get(r.f,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(hn),r=this.injector.get(En);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(En),n=this.injector.get(wn),r=this.injector.get(_n),o=this.injector.get(hn),s=this.injector.get(i.ApplicationRef);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](i.Injector))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();function Nn(t){return t.appInitializer.bind(t)}function Pn(t){return t.bootstrapListener.bind(t)}const Dn=new i.InjectionToken("Router Initializer")},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jmUF:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return C})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("8Y7J"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.InjectionToken("angularfire2.app.options"),b=new u.InjectionToken("angularfire2.app.nameOrConfig"),w=new u.Version("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&S("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.isDevMode)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:class{},useFactory:_,deps:[v,u.NgZone,[new u.Optional,b]]};let O=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.VERSION.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)(u["\u0275\u0275inject"](u.PLATFORM_ID))},providers:[I]}),t})()}).call(this,n("3UD+")(t))},jtHE:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("XNiG"),i=n("qgXg"),o=n("quSY"),s=n("pxpQ"),a=n("9ppp"),u=n("Ylt2");class c extends r.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let c;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?c=o.a.EMPTY:(this.observers.push(t),c=new u.a(this,t)),r&&t.add(t=new s.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),c}_getNow(){return(this.scheduler||i.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class l{constructor(t,e){this.time=t,this.value=e}}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"e",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function h(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oB13:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function l(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new h(r,e));const i=Object.create(n,u);return i.source=n,i.subjectFactory=r,i}}class h{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return E})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return S})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return g})),n.d(e,"m",(function(){return m})),n.d(e,"n",(function(){return l})),n.d(e,"o",(function(){return h})),n.d(e,"p",(function(){return p})),n.d(e,"q",(function(){return y}));var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.d)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function w(t,e){return t.replace(_,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function I(){}function O(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=f){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"wD+u":function(t,e,n){"use strict";n.d(e,"a",(function(){return rp})),n.d(e,"b",(function(){return ip}));var r=n("8Y7J"),i=n("D0XW"),o=n("HDdC"),s=n("Cfvw"),a=n("LRne"),u=n("JX91"),c=n("7o/Q");function l(){return t=>t.lift(new h)}class h{call(t,e){return e.subscribe(new d(t))}}class d extends c.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var f=n("lJxs"),p=n("Kqap"),g=n("/uUt"),m=n("pLZG"),y=n("pxpQ"),v=n("jmUF"),b=n("SVse"),w=n("Jgta"),_=n("zIRd"),E=n("qOnz"),S=n("q/0M"),C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function I(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var O,T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},x=x||{},j=T||self;function A(){}function k(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function N(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var P="closure_uid_"+(1e9*Math.random()>>>0),D=0;function R(t,e,n){return t.call.apply(t.bind,arguments)}function M(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function L(t,e,n){return(L=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?R:M).apply(null,arguments)}function F(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function V(){return Date.now()}function U(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function q(){this.j=this.j,this.i=this.i}q.prototype.j=!1,q.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,P)&&t[P]||(t[P]=++D)}(this)},q.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function z(t){return Array.prototype.concat.apply([],arguments)}function W(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Q(t){return/^[\s\xa0]*$/.test(t)}var $,K=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function G(t,e){return-1!=t.indexOf(e)}function X(t,e){return t<e?-1:t>e?1:0}t:{var Y=j.navigator;if(Y){var Z=Y.userAgent;if(Z){$=Z;break t}}$=""}function J(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function tt(t){var e={};for(var n in t)e[n]=t[n];return e}var et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<et.length;o++)n=et[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rt(t){return rt[" "](t),t}rt[" "]=A;var it,ot,st=G($,"Opera"),at=G($,"Trident")||G($,"MSIE"),ut=G($,"Edge"),ct=ut||at,lt=G($,"Gecko")&&!(G($.toLowerCase(),"webkit")&&!G($,"Edge"))&&!(G($,"Trident")||G($,"MSIE"))&&!G($,"Edge"),ht=G($.toLowerCase(),"webkit")&&!G($,"Edge");function dt(){var t=j.document;return t?t.documentMode:void 0}t:{var ft="",pt=(ot=$,lt?/rv:([^\);]+)(\)|;)/.exec(ot):ut?/Edge\/([\d\.]+)/.exec(ot):at?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ot):ht?/WebKit\/(\S+)/.exec(ot):st?/(?:Version)[ \/]?(\S+)/.exec(ot):void 0);if(pt&&(ft=pt?pt[1]:""),at){var gt=dt();if(null!=gt&&gt>parseFloat(ft)){it=String(gt);break t}}it=ft}var mt={};function yt(t){return function(t,e){var n=mt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=K(String(it)).split("."),r=K(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=X(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||X(0==s[2].length,0==a[2].length)||X(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var vt=j.document&&at&&(dt()||parseInt(it,10))||void 0,bt=!at||9<=Number(vt),wt=at&&!yt("9"),_t=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{j.addEventListener("test",A,e),j.removeEventListener("test",A,e)}catch(n){}return t}();function Et(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function St(t,e){if(Et.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(lt){t:{try{rt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ct[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Et.prototype.b=function(){this.defaultPrevented=!0},U(St,Et);var Ct={2:"touch",3:"pen",4:"mouse"};St.prototype.b=function(){St.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,wt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var It="closure_listenable_"+(1e6*Math.random()|0),Ot=0;function Tt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++Ot,this.Y=this.Z=!1}function xt(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function jt(t){this.src=t,this.a={},this.b=0}function At(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=B(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(xt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function kt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}jt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=kt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Tt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Nt="closure_lm_"+(1e6*Math.random()|0),Pt={};function Dt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Bt(r),e&&e[It]?e.xa(n,r,N(i)?!!i.capture:!!i,o):Rt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Dt(t,e[o],n,r,i);return null}return n=Bt(n),t&&t[It]?t.wa(e,n,N(r)?!!r.capture:!!r,i):Rt(t,e,n,!1,r,i)}function Rt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=N(i)?!!i.capture:!!i;if(s&&!bt)return null;var a=Ut(t);if(a||(t[Nt]=a=new jt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Vt,e=bt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_t||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Lt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Mt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[It])At(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Lt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ut(e))?(At(n,t),0==n.b&&(n.src=null,e[Nt]=null)):xt(t)}}}function Lt(t){return t in Pt?Pt[t]:Pt[t]="on"+t}function Ft(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&Mt(t),n.call(r,e)}function Vt(t,e){if(t.Y)return!0;if(!bt){if(!e)t:{e=["window","event"];for(var n=j,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ft(t,e=new St(e,this))}return Ft(t,new St(e,this))}function Ut(t){return(t=t[Nt])instanceof jt?t:null}var qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bt(t){return"function"==typeof t?t:(t[qt]||(t[qt]=function(e){return t.handleEvent(e)}),t[qt])}function Ht(){q.call(this),this.c=new jt(this),this.J=this,this.D=null}function zt(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Et(e,t);else if(e instanceof Et)e.target=e.target||t;else{var i=e;nt(e=new Et(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Wt(s,r,!0,e)&&i}if(i=Wt(s=e.a=t,r,!0,e)&&i,i=Wt(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Wt(s=e.a=n[o],r,!1,e)&&i}function Wt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&At(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}U(Ht,q),Ht.prototype[It]=!0,(O=Ht.prototype).addEventListener=function(t,e,n,r){Dt(this,t,e,n,r)},O.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=N(i)?!!i.capture:!!i,r=Bt(r),e&&e[It]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=kt(s=e.a[n],r,i,o))&&(xt(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Ut(e))&&(n=e.a[n.toString()],e=-1,n&&(e=kt(n,r,i,o)),(r=-1<e?n[e]:null)&&Mt(r))}(this,t,e,n,r)},O.H=function(){if(Ht.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)xt(n[r]);delete e.a[t],e.b--}}this.D=null},O.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},O.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Qt=j.JSON.stringify;function $t(){this.b=this.a=null}var Kt,Gt=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Yt}),(function(t){t.reset()}));function Xt(){var t=ee,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Yt(){this.next=this.b=this.a=null}function Zt(t){j.setTimeout((function(){throw t}),0)}function Jt(t,e){Kt||function(){var t=j.Promise.resolve(void 0);Kt=function(){t.then(ne)}}(),te||(Kt(),te=!0),ee.add(t,e)}$t.prototype.add=function(t,e){var n=Gt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Yt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Yt.prototype.reset=function(){this.next=this.b=this.a=null};var te=!1,ee=new $t;function ne(){for(var t;t=Xt();){try{t.a.call(t.b)}catch(n){Zt(n)}var e=Gt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}te=!1}function re(t,e){Ht.call(this),this.b=t||1,this.a=e||j,this.f=L(this.eb,this),this.g=V()}function ie(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function oe(t,e,n){if("function"==typeof t)n&&(t=L(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=L(t.handleEvent,t)}return 2147483647<Number(e)?-1:j.setTimeout(t,e||0)}function se(t){t.a=oe((function(){t.a=null,t.c&&(t.c=!1,se(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}U(re,Ht),(O=re.prototype).aa=!1,O.M=null,O.eb=function(){if(this.aa){var t=V()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),zt(this,"tick"),this.aa&&(ie(this),this.start()))}},O.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=V())},O.H=function(){re.X.H.call(this),ie(this),delete this.a};var ae=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:se(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(j.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(q);function ue(t){q.call(this),this.b=t,this.a={}}U(ue,q);var ce=[];function le(t,e,n,r){Array.isArray(n)||(n&&(ce[0]=n.toString()),n=ce);for(var i=0;i<n.length;i++){var o=Dt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function he(t){J(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Mt(t)}),t),t.a={}}function de(){this.a=!0}function fe(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Qt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}ue.prototype.H=function(){ue.X.H.call(this),he(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},de.prototype.info=function(){};var pe={},ge=null;function me(){return ge=ge||new Ht}function ye(t){Et.call(this,pe.Ga,t)}function ve(t){var e=me();zt(e,new ye(e,t))}function be(t,e){Et.call(this,pe.STAT_EVENT,t),this.stat=e}function we(t){var e=me();zt(e,new be(e,t))}function _e(t){Et.call(this,pe.Ha,t)}function Ee(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return j.setTimeout((function(){t()}),e)}pe.Ga="serverreachability",U(ye,Et),pe.STAT_EVENT="statevent",U(be,Et),pe.Ha="timingevent",U(_e,Et);var Se={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},Ce={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function Ie(){}function Oe(){}Ie.prototype.b=null;var Te,xe={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function je(){Et.call(this,"d")}function Ae(){Et.call(this,"c")}function ke(){}function Ne(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ue(this),this.P=Pe,this.R=new re(t=ct?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}U(je,Et),U(Ae,Et),U(ke,Ie),ke.prototype.a=function(){return new XMLHttpRequest},ke.prototype.c=function(){return{}},Te=new ke;var Pe=45e3,De={},Re={};function Me(t,e,n){t.G=1,t.i=on(Ze(e)),t.j=n,t.I=!0,Le(t,null)}function Le(t,e){t.u=V(),Ue(t),t.l=Ze(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),vn(n.b,"t",r),t.D=0,t.a=dr(t.g,t.g.C?e:null),0<t.O&&(t.F=new ae(L(t.Da,t,t.a),t.O)),le(t.J,t.a,"readystatechange",t.bb),e=t.B?tt(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ve(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Fe(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ve(t,n);if(i==Re){4==e&&(t.h=4,we(14),r=!1),fe(t.c,t.f,null,"[Incomplete Response]");break}if(i==De){t.h=4,we(15),fe(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}fe(t.c,t.f,i,null),We(t,i)}4==e&&0==n.length&&(t.h=1,we(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ir(e),e.F=!0,we(11))):(fe(t.c,t.f,n,"[Invalid Chunked Response]"),ze(t),He(t))}function Ve(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Re:(n=Number(e.substring(n,r)),isNaN(n)?De:(r+=1)+n>e.length?Re:(e=e.substr(r,n),t.D=r+n,e))}function Ue(t){t.T=V()+t.P,qe(t,t.P)}function qe(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ee(L(t.$a,t),e)}function Be(t){t.o&&(j.clearTimeout(t.o),t.o=null)}function He(t){0==t.g.v||t.A||ar(t.g,t)}function ze(t){Be(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,ie(t.R),he(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function We(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||In(n.b,t)))if(n.I=t.N,!t.C&&In(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(ff){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;sr(n),Gn(n)}rr(n),we(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=Ee(L(n.Xa,n),6e3));if(1>=Cn(n.b)&&n.fa){try{n.fa()}catch(ff){}n.fa=void 0}}else cr(n,11)}else if((t.C||n.a==t)&&sr(n),!Q(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var s=i[4];null!=s&&(n.qa=s,n.c.info("SVER="+n.qa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(G(l,"spdy")||G(l,"quic")||G(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(On(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.oa=d,rn(u.B,u.A,d))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=V()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).ma=hr(u,u.C?u.ha:null,u.ga),f.C){Tn(u.b,f);var p=f,g=u.D;g&&p.setTimeout(g),p.o&&(Be(p),Ue(p)),u.a=f}else nr(u);0<n.g.length&&Zn(n)}else"stop"!=i[0]&&"close"!=i[0]||cr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?cr(n,7):Kn(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);ve(4)}catch(ff){}}function Qe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(k(t)||"string"==typeof t)H(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(k(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(k(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function $e(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof $e)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ke(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ge(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ge(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(O=Ne.prototype).setTimeout=function(t){this.P=t},O.bb=function(t){t=t.target;var e=this.F;e&&3==zn(t)?e.f():this.Da(t)},O.Da=function(t){try{if(t==this.a)t:{var e=zn(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!ct&&!this.a.$())){this.A||4!=e||7==n||ve(8==n||0>=r?3:2),Be(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,we(12),ze(this),He(this);break t}fe(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,We(this,u)}this.I?(Fe(this,e,o),ct&&this.b&&3==e&&(le(this.J,this.R,"tick",this.ab),this.R.start())):(fe(this.c,this.f,o,null),We(this,o)),4==e&&ze(this),this.b&&!this.A&&(4==e?ar(this.g,this):(this.b=!1,Ue(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,we(12)):(this.h=0,we(13)),ze(this),He(this)}}}catch(c){}},O.ab=function(){if(this.a){var t=zn(this.a),e=this.a.$();this.D<e.length&&(Be(this),Fe(this,t,e),this.b&&4!=t&&Ue(this))}},O.cancel=function(){this.A=!0,ze(this)},O.$a=function(){this.o=null;var t=V();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.G&&(ve(3),we(17)),ze(this),this.h=2,He(this)):qe(this,this.T-t)},(O=$e.prototype).K=function(){Ke(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},O.L=function(){return Ke(this),this.a.concat()},O.get=function(t,e){return Ge(this.b,t)?this.b[t]:e},O.set=function(t,e){Ge(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},O.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Xe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ye(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ye){this.a=void 0!==e?e:t.a,Je(this,t.f),this.j=t.j,tn(this,t.c),en(this,t.h),this.g=t.g,e=t.b;var n=new pn;n.c=e.c,e.a&&(n.a=new $e(e.a),n.b=e.b),nn(this,n),this.i=t.i}else t&&(n=String(t).match(Xe))?(this.a=!!e,Je(this,n[1]||"",!0),this.j=sn(n[2]||""),tn(this,n[3]||"",!0),en(this,n[4]),this.g=sn(n[5]||"",!0),nn(this,n[6]||"",!0),this.i=sn(n[7]||"")):(this.a=!!e,this.b=new pn(null,this.a))}function Ze(t){return new Ye(t)}function Je(t,e,n){t.f=n?sn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function tn(t,e,n){t.c=n?sn(e,!0):e}function en(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function nn(t,e,n){e instanceof pn?(t.b=e,function(t,e){e&&!t.f&&(gn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(mn(this,e),vn(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=an(e,dn)),t.b=new pn(e,t.a))}function rn(t,e,n){t.b.set(e,n)}function on(t){return rn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^V()).toString(36)),t}function sn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function an(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ye.prototype.toString=function(){var t=[],e=this.f;e&&t.push(an(e,cn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(an(e,cn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(an(n,"/"==n.charAt(0)?hn:ln,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",an(n,fn)),t.join("")};var cn=/[#\/\?@]/g,ln=/[#\?:]/g,hn=/[#\?]/g,dn=/[#\?@]/g,fn=/#/g;function pn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function gn(t){t.a||(t.a=new $e,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function mn(t,e){gn(t),e=bn(t,e),Ge(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ge((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ke(t)))}function yn(t,e){return gn(t),e=bn(t,e),Ge(t.a.b,e)}function vn(t,e,n){mn(t,e),0<n.length&&(t.c=null,t.a.set(bn(t,e),W(n)),t.b+=n.length)}function bn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(O=pn.prototype).add=function(t,e){gn(this),this.c=null,t=bn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},O.forEach=function(t,e){gn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},O.L=function(){gn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},O.K=function(t){gn(this);var e=[];if("string"==typeof t)yn(this,t)&&(e=z(e,this.a.get(bn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=z(e,t[n])}return e},O.set=function(t,e){return gn(this),this.c=null,yn(this,t=bn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},O.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},O.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var wn=function(){return function(t,e){this.b=t,this.a=e}}();function _n(t){this.g=t||En,t=j.PerformanceNavigationTiming?0<(t=j.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(j.ja&&j.ja.za&&j.ja.za()&&j.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var En=10;function Sn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Cn(t){return t.b?1:t.a?t.a.size:0}function In(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function On(t,e){t.a?t.a.add(e):t.b=e}function Tn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function xn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=I(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return W(t.c)}function jn(){}function An(){this.a=new jn}function kn(t,e,n){var r=n||"";try{Qe(t,(function(t,n){var i=t;N(t)&&(i=Qt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Lf){throw e.push(r+"type="+encodeURIComponent("_badmap")),Lf}}function Nn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}_n.prototype.cancel=function(){var t,e;if(this.c=xn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=I(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},jn.prototype.stringify=function(t){return j.JSON.stringify(t,void 0)},jn.prototype.parse=function(t){return j.JSON.parse(t,void 0)};var Pn=j.JSON.parse;function Dn(t){Ht.call(this),this.headers=new $e,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=Rn,this.F=this.G=!1}U(Dn,Ht);var Rn="",Mn=/^https?$/i,Ln=["POST","PUT"];function Fn(t){return"content-type"==t.toLowerCase()}function Vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Un(t),Bn(t)}function Un(t){t.A||(t.A=!0,zt(t,"complete"),zt(t,"error"))}function qn(t){if(t.b&&void 0!==x&&(!t.u[1]||4!=zn(t)||2!=t.W()))if(t.m&&4==zn(t))oe(t.Aa,0,t);else if(zt(t,"readystatechange"),4==zn(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.C).match(Xe)[1]||null;if(!o&&j.self&&j.self.location){var s=j.self.location.protocol;o=s.substr(0,s.length-1)}i=!Mn.test(o?o.toLowerCase():"")}e=i}if(e)zt(t,"complete"),zt(t,"success");else{t.h=6;try{var a=2<zn(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Un(t)}}finally{Bn(t)}}}function Bn(t,e){if(t.a){Hn(t);var n=t.a,r=t.u[0]?A:null;t.a=null,t.u=null,e||zt(t,"ready");try{n.onreadystatechange=r}catch(Lf){}}}function Hn(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(j.clearTimeout(t.o),t.o=null)}function zn(t){return t.a?t.a.readyState:0}function Wn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return J(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):rn(t,e,n))}function Qn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $n(t){this.qa=0,this.g=[],this.c=new de,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=Qn("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=Qn("baseRetryDelayMs",5e3,t),this.Sa=Qn("retryDelaySeedMs",1e4,t),this.Na=Qn("forwardChannelMaxRetries",2,t),this.na=Qn("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new _n(t&&t.concurrentRequestLimit),this.la=new An,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Kn(t){if(Xn(t),3==t.v){var e=t.R++,n=Ze(t.B);rn(n,"SID",t.J),rn(n,"RID",e),rn(n,"TYPE","terminate"),tr(t,n),(e=new Ne(t,t.c,e,void 0)).G=2,e.i=on(Ze(n)),n=!1,j.navigator&&j.navigator.sendBeacon&&(n=j.navigator.sendBeacon(e.i.toString(),"")),!n&&j.Image&&((new Image).src=e.i,n=!0),n||(e.a=dr(e.g,null),e.a.ba(e.i)),e.u=V(),Ue(e)}lr(t)}function Gn(t){t.a&&(ir(t),t.a.cancel(),t.a=null)}function Xn(t){Gn(t),t.j&&(j.clearTimeout(t.j),t.j=null),sr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&j.clearTimeout(t.h),t.h=null)}function Yn(t,e){t.g.push(new wn(t.Pa++,e)),3==t.v&&Zn(t)}function Zn(t){Sn(t.b)||t.h||(t.h=!0,Jt(t.Ca,t),t.u=0)}function Jn(t,e){var n;n=e?e.f:t.R++;var r=Ze(t.B);rn(r,"SID",t.J),rn(r,"RID",n),rn(r,"AID",t.P),tr(t,r),t.i&&t.l&&Wn(r,t.i,t.l),n=new Ne(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=er(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),On(t.b,n),Me(n,r,e)}function tr(t,e){t.f&&Qe({},(function(t,n){rn(e,n,t)}))}function er(t,e,n){n=Math.min(t.g.length,n);var r=t.f?L(t.f.Ka,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{kn(l,s,"req"+c+"_")}catch(Gr){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function nr(t){t.a||t.j||(t.T=1,Jt(t.Ba,t),t.o=0)}function rr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ee(L(t.Ba,t),ur(t,t.o)),t.o++,0))}function ir(t){null!=t.s&&(j.clearTimeout(t.s),t.s=null)}function or(t){t.a=new Ne(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ze(t.ma);rn(e,"RID","rpc"),rn(e,"SID",t.J),rn(e,"CI",t.G?"0":"1"),rn(e,"AID",t.P),tr(t,e),rn(e,"TYPE","xmlhttp"),t.i&&t.l&&Wn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=on(Ze(e)),n.j=null,n.I=!0,Le(n,t)}function sr(t){null!=t.m&&(j.clearTimeout(t.m),t.m=null)}function ar(t,e){var n=null;if(t.a==e){sr(t),ir(t),t.a=null;var r=2}else{if(!In(t.b,e))return;n=e.s,Tn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=V()-e.u;var i=t.u;zt(r=me(),new _e(r,n,e,i)),Zn(t)}else nr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Cn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=Ee(L(t.Ca,t,e),ur(t,t.u)),t.u++,0)))}(t,e)||2==r&&rr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:cr(t,5);break;case 4:cr(t,10);break;case 3:cr(t,6);break;default:cr(t,2)}}function ur(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function cr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=L(t.cb,t);n||(n=new Ye("//www.google.com/images/cleardot.gif"),j.location&&"http"==j.location.protocol||Je(n,"https"),on(n)),function(t,e){var n=new de;if(j.Image){var r=new Image;r.onload=F(Nn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=F(Nn,n,r,"TestLoadImage: error",!1,e),r.onabort=F(Nn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=F(Nn,n,r,"TestLoadImage: timeout",!1,e),j.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else we(2);t.v=0,t.f&&t.f.sa(e),lr(t),Xn(t)}function lr(t){t.v=0,t.I=-1,t.f&&(0==xn(t.b).length&&0==t.g.length||(t.b.c.length=0,W(t.g),t.g.length=0),t.f.ra())}function hr(t,e,n){var r=function(t){return t instanceof Ye?Ze(t):new Ye(t,void 0)}(n);if(""!=r.c)e&&tn(r,e+"."+r.c),en(r,r.h);else{var i=j.location;r=function(t,e,n,r){var i=new Ye(null,void 0);return t&&Je(i,t),e&&tn(i,e),n&&en(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&J(t.V,(function(t,e){rn(r,e,t)})),n=t.oa,(e=t.A)&&n&&rn(r,e,n),rn(r,"VER",t.ia),tr(t,r),r}function dr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Dn(t.Oa)).G=t.C,e}function fr(){}function pr(){if(at&&!(10<=Number(vt)))throw Error("Environmental error: no available transport.")}function gr(t,e){Ht.call(this),this.a=new $n(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Q(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Q(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new vr(this)}function mr(t){je.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function yr(){Ae.call(this),this.status=1}function vr(t){this.a=t}function br(t){this.f=t}function wr(t){Ht.call(this),this.u=t,this.h=void 0,this.readyState=_r,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(O=Dn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():Te.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:Te),this.a.onreadystatechange=L(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void Vn(this,o)}t=n||"";var i=new $e(this.headers);r&&Qe(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Fn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=j.FormData&&t instanceof j.FormData,!(0<=B(Ln,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{Hn(this),0<this.s&&((this.F=function(t){return at&&yt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=L(this.ya,this)):this.o=oe(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(o){Vn(this,o)}},O.ya=function(){void 0!==x&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,zt(this,"timeout"),this.abort(8))},O.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,zt(this,"complete"),zt(this,"abort"),Bn(this))},O.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Bn(this,!0)),Dn.X.H.call(this)},O.Aa=function(){this.j||(this.B||this.m||this.g?qn(this):this.Za())},O.Za=function(){qn(this)},O.W=function(){try{return 2<zn(this)?this.a.status:-1}catch(ot){return-1}},O.$=function(){try{return this.a?this.a.responseText:""}catch(ot){return""}},O.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Pn(e)}},O.va=function(){return this.h},O.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(O=$n.prototype).ia=8,O.v=1,O.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ne(this,this.c,t,void 0),r=this.l;if(this.O&&(r?nt(r=tt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=er(this,n,e),rn(i=Ze(this.B),"RID",t),rn(i,"CVER",22),this.A&&rn(i,"X-HTTP-Session-Id",this.A),tr(this,i),this.i&&r&&Wn(i,this.i,r),On(this.b,n),this.Ja&&rn(i,"TYPE","init"),this.ea?(rn(i,"$req",e),rn(i,"SID","null"),n.U=!0,Me(n,i,null)):Me(n,i,e),this.v=2}}else 3==this.v&&(t?Jn(this,t):0==this.g.length||Sn(this.b)||Jn(this))},O.Ba=function(){if(this.j=null,or(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ee(L(this.Ya,this),t)}},O.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,we(10),Gn(this),or(this))},O.Xa=function(){null!=this.m&&(this.m=null,Gn(this),rr(this),we(19))},O.cb=function(t){t?(this.c.info("Successfully pinged google.com"),we(2)):(this.c.info("Failed to ping google.com"),we(1))},(O=fr.prototype).ua=function(){},O.ta=function(){},O.sa=function(){},O.ra=function(){},O.Ka=function(){},pr.prototype.a=function(t,e){return new gr(t,e)},U(gr,Ht),gr.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;we(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=hr(t,null,t.ga),Zn(t)},gr.prototype.close=function(){Kn(this.a)},gr.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,Yn(this.a,e)}else this.m?((e={}).__data__=Qt(t),Yn(this.a,e)):Yn(this.a,t)},gr.prototype.H=function(){this.a.f=null,delete this.f,Kn(this.a),delete this.a,gr.X.H.call(this)},U(mr,je),U(yr,Ae),U(vr,fr),vr.prototype.ua=function(){zt(this.a,"a")},vr.prototype.ta=function(t){zt(this.a,new mr(t))},vr.prototype.sa=function(t){zt(this.a,new yr(t))},vr.prototype.ra=function(){zt(this.a,"b")},U(br,Ie),br.prototype.a=function(){return new wr(this.f)},br.prototype.c=function(t){return function(){return t}}({}),U(wr,Ht);var _r=0;function Er(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function Sr(t){t.readyState=4,t.g=null,t.f=null,t.m=null,Cr(t)}function Cr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(O=wr.prototype).open=function(t,e){if(this.readyState!=_r)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,Cr(this)},O.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},O.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Sr(this)),this.readyState=_r},O.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Cr(this)),this.a&&(this.readyState=3,Cr(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==j.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,Er(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},O.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?Sr(this):Cr(this),3==this.readyState&&Er(this)}},O.Va=function(t){this.a&&(this.responseText=t,Sr(this))},O.Ua=function(){this.a&&Sr(this)},O.ca=function(){this.a&&Sr(this)},O.setRequestHeader=function(t,e){this.l.append(t,e)},O.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},O.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),pr.prototype.createWebChannel=pr.prototype.a,gr.prototype.send=gr.prototype.l,gr.prototype.open=gr.prototype.h,gr.prototype.close=gr.prototype.close,Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,Ce.COMPLETE="complete",Oe.EventType=xe,xe.OPEN="a",xe.CLOSE="b",xe.ERROR="c",xe.MESSAGE="d",Ht.prototype.listen=Ht.prototype.wa,Dn.prototype.listenOnce=Dn.prototype.xa,Dn.prototype.getLastError=Dn.prototype.Ra,Dn.prototype.getLastErrorCode=Dn.prototype.va,Dn.prototype.getStatus=Dn.prototype.W,Dn.prototype.getResponseJson=Dn.prototype.Qa,Dn.prototype.getResponseText=Dn.prototype.$,Dn.prototype.send=Dn.prototype.ba;var Ir=Se,Or=Ce,Tr=pe,xr=br,jr=Oe,Ar=Dn,kr=n("mrSG"),Nr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Nr.o=-1;var Pr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Dr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(kr.d)(e,t),e}(Error),Rr=new S.b("@firebase/firestore");function Mr(){return Rr.logLevel}function Lr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Rr.logLevel<=S.a.DEBUG){var r=e.map(Ur);Rr.debug.apply(Rr,Object(kr.g)(["Firestore (8.6.7): "+t],r))}}function Fr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Rr.logLevel<=S.a.ERROR){var r=e.map(Ur);Rr.error.apply(Rr,Object(kr.g)(["Firestore (8.6.7): "+t],r))}}function Vr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Rr.logLevel<=S.a.WARN){var r=e.map(Ur);Rr.warn.apply(Rr,Object(kr.g)(["Firestore (8.6.7): "+t],r))}}function Ur(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Lf){return t}}function qr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.7) INTERNAL ASSERTION FAILED: "+t;throw Fr(e),new Error(e)}function Br(t,e){t||qr()}function Hr(t,e){return t}function zr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Wr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=zr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Qr(t,e){return t<e?-1:t>e?1:0}function $r(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Kr(t){return t+"\0"}var Gr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Dr(Pr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Dr(Pr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Dr(Pr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Dr(Pr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Qr(this.nanoseconds,t.nanoseconds):Qr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Xr=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Gr(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Yr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ti=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&qr(),void 0===n?n=t.length-e:n>t.length-e&&qr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ei=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kr.d)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Dr(Pr.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ti),ni=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kr.d)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return ni.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Dr(Pr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Dr(Pr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Dr(Pr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Dr(Pr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ti),ii=function(){function t(t){this.fields=t,t.sort(ri.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return $r(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),oi=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Qr(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();oi.EMPTY_BYTE_STRING=new oi("");var si=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ai(t){if(Br(!!t),"string"==typeof t){var e=0,n=si.exec(t);if(Br(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ui(t.seconds),nanos:ui(t.nanos)}}function ui(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ci(t){return"string"==typeof t?oi.fromBase64String(t):oi.fromUint8Array(t)}function li(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hi(t){var e=ai(t.mapValue.fields.__local_write_time__.timestampValue);return new Gr(e.seconds,e.nanos)}function di(t){return null==t}function fi(t){return 0===t&&1/t==-1/0}function pi(t){return"number"==typeof t&&Number.isInteger(t)&&!fi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var gi=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ei.fromString(e))},t.fromName=function(e){return new t(ei.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ei.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ei.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ei(e.slice()))},t}();function mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?li(t)?4:10:qr()}function yi(t,e){var n=mi(t);if(n!==mi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hi(t).isEqual(hi(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ai(t.timestampValue),r=ai(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ci(t.bytesValue).isEqual(ci(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ui(t.geoPointValue.latitude)===ui(e.geoPointValue.latitude)&&ui(t.geoPointValue.longitude)===ui(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ui(t.integerValue)===ui(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ui(t.doubleValue),r=ui(e.doubleValue);return n===r?fi(n)===fi(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return $r(t.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Yr(n)!==Yr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!yi(n[i],r[i])))return!1;return!0}(t,e);default:return qr()}}function vi(t,e){return void 0!==(t.values||[]).find((function(t){return yi(t,e)}))}function bi(t,e){var n=mi(t),r=mi(e);if(n!==r)return Qr(n,r);switch(n){case 0:return 0;case 1:return Qr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ui(t.integerValue||t.doubleValue),r=ui(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return wi(t.timestampValue,e.timestampValue);case 4:return wi(hi(t),hi(e));case 5:return Qr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ci(t),r=ci(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Qr(n[i],r[i]);if(0!==o)return o}return Qr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Qr(ui(t.latitude),ui(e.latitude));return 0!==n?n:Qr(ui(t.longitude),ui(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=bi(n[i],r[i]);if(o)return o}return Qr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Qr(r[s],o[s]);if(0!==a)return a;var u=bi(n[r[s]],i[o[s]]);if(0!==u)return u}return Qr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw qr()}}function wi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Qr(t,e);var n=ai(t),r=ai(e),i=Qr(n.seconds,r.seconds);return 0!==i?i:Qr(n.nanos,r.nanos)}function _i(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=ai(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ci(e.bytesValue).toBase64():"referenceValue"in e?gi.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):qr();var n}(t)}function Ei(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Si(t){return!!t&&"integerValue"in t}function Ci(t){return!!t&&"arrayValue"in t}function Ii(t){return!!t&&"nullValue"in t}function Oi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ti(t){return!!t&&"mapValue"in t}function xi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},ai(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=xi(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=xi(t.arrayValue.values[r]);return n}return Object.assign({},t)}var ji=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Ti(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=xi(e)},t.prototype.setAll=function(t){var e=this,n=ri.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=xi(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Ti(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return yi(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Ti(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Zr(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(xi(this.value))},t}();function Ai(t){var e=[];return Zr(t.fields,(function(t,n){var r=new ri([t]);if(Ti(n)){var i=Ai(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new ii(e)}var ki=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Xr.min(),ji.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ji.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ji.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ji.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ji.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ni=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Pi(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ni(t,e,n,r,i,o,s)}function Di(t){var e=Hr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+_i(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),di(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=$i(e.startAt)),e.endAt&&(n+="|ub:",n+=$i(e.endAt)),e.h=n}return e.h}function Ri(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Gi(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!yi(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yi(t.startAt,e.startAt)&&Yi(t.endAt,e.endAt)}function Mi(t){return gi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Li=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(kr.d)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Fi(t,n,r):"array-contains"===n?new Bi(t,r):"in"===n?new Hi(t,r):"not-in"===n?new zi(t,r):"array-contains-any"===n?new Wi(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Vi(t,n):new Ui(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(bi(e,this.value)):null!==e&&mi(this.value)===mi(e)&&this.m(bi(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return qr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Fi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=gi.fromName(r.referenceValue),i}return Object(kr.d)(e,t),e.prototype.matches=function(t){var e=gi.comparator(t.key,this.key);return this.m(e)},e}(Li),Vi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=qi(0,n),r}return Object(kr.d)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Li),Ui=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=qi(0,n),r}return Object(kr.d)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Li);function qi(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return gi.fromName(t.referenceValue)}))}var Bi=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(kr.d)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ci(e)&&vi(e.arrayValue,this.value)},e}(Li),Hi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(kr.d)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&vi(this.value.arrayValue,e)},e}(Li),zi=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(kr.d)(e,t),e.prototype.matches=function(t){if(vi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!vi(this.value.arrayValue,e)},e}(Li),Wi=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(kr.d)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ci(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return vi(e.value.arrayValue,t)}))},e}(Li),Qi=function(t,e){this.position=t,this.before=e};function $i(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return _i(t)})).join(",")}var Ki=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Gi(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Xi(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?gi.comparator(gi.fromName(s.referenceValue),n.key):bi(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Yi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!yi(t.position[n],e.position[n]))return!1;return!0}var Zi=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Ji(t,e,n,r,i,o,s,a){return new Zi(t,e,n,r,i,o,s,a)}function to(t){return new Zi(t)}function eo(t){return!di(t.limit)&&"F"===t.limitType}function no(t){return!di(t.limit)&&"L"===t.limitType}function ro(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function io(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function oo(t){return null!==t.collectionGroup}function so(t){var e=Hr(t);if(null===e.p){e.p=[];var n=io(e),r=ro(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Ki(n)),e.p.push(new Ki(ri.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ki(ri.keyField(),u))}}}return e.p}function ao(t){var e=Hr(t);if(!e.T)if("F"===e.limitType)e.T=Pi(e.path,e.collectionGroup,so(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=so(e);r<i.length;r++){var o=i[r];n.push(new Ki(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Qi(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Qi(e.startAt.position,!e.startAt.before):null;e.T=Pi(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function uo(t,e,n){return new Zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function co(t,e){return Ri(ao(t),ao(e))&&t.limitType===e.limitType}function lo(t){return Di(ao(t))+"|lt:"+t.limitType}function ho(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+_i(e.value);var e})).join(", ")+"]"),di(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+$i(t.startAt)),t.endAt&&(e+=", endAt: "+$i(t.endAt)),"Target("+e+")"}(ao(t))+"; limitType="+t.limitType+")"}function fo(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):gi.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Xi(t.startAt,so(t),e)||t.endAt&&Xi(t.endAt,so(t),e))}(t,e)}function po(t){return function(e,n){for(var r=!1,i=0,o=so(t);i<o.length;i++){var s=o[i],a=go(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function go(t,e,n){var r=t.field.isKeyField()?gi.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?bi(r,i):qr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qr()}}function mo(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fi(e)?"-0":e}}function yo(t){return{integerValue:""+t}}function vo(t,e){return pi(e)?yo(e):mo(t,e)}var bo=function(){this._=void 0};function wo(t,e,n){return t instanceof So?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Co?Io(t,e):t instanceof Oo?To(t,e):function(t,e){var n=Eo(t,e),r=jo(n)+jo(t.A);return Si(n)&&Si(t.A)?yo(r):mo(t.R,r)}(t,e)}function _o(t,e,n){return t instanceof Co?Io(t,e):t instanceof Oo?To(t,e):n}function Eo(t,e){return t instanceof xo?Si(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var So=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kr.d)(e,t),e}(bo),Co=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(kr.d)(e,t),e}(bo);function Io(t,e){for(var n=Ao(e),r=function(t){n.some((function(e){return yi(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Oo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(kr.d)(e,t),e}(bo);function To(t,e){for(var n=Ao(e),r=function(t){n=n.filter((function(e){return!yi(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(kr.d)(e,t),e}(bo);function jo(t){return ui(t.integerValue||t.doubleValue)}function Ao(t){return Ci(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ko=function(t,e){this.field=t,this.transform=e},No=function(t,e){this.version=t,this.transformResults=e},Po=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Do(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ro=function(){};function Mo(t,e,n){t instanceof qo?function(t,e,n){var r=t.value.clone(),i=zo(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Bo?function(t,e,n){if(Do(t.precondition,e)){var r=zo(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Ho(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Lo(t,e,n){t instanceof qo?function(t,e,n){if(Do(t.precondition,e)){var r=t.value.clone(),i=Wo(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Uo(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Bo?function(t,e,n){if(Do(t.precondition,e)){var r=Wo(t.fieldTransforms,n,e),i=e.data;i.setAll(Ho(t)),i.setAll(r),e.convertToFoundDocument(Uo(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Do(t.precondition,e)&&e.convertToNoDocument(Xr.min())}(t,e)}function Fo(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Eo(o.transform,s||null);null!=a&&(null==n&&(n=ji.empty()),n.set(o.field,a))}return n||null}function Vo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&$r(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Co&&e instanceof Co||t instanceof Oo&&e instanceof Oo?$r(t.elements,e.elements,yi):t instanceof xo&&e instanceof xo?yi(t.A,e.A):t instanceof So&&e instanceof So}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Uo(t){return t.isFoundDocument()?t.version:Xr.min()}var qo=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(kr.d)(e,t),e}(Ro),Bo=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(kr.d)(e,t),e}(Ro);function Ho(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function zo(t,e,n){var r=new Map;Br(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,_o(s,a,n[i]))}return r}function Wo(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,wo(a,u,e))}return r}var Qo,$o,Ko=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(kr.d)(e,t),e}(Ro),Go=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(kr.d)(e,t),e}(Ro),Xo=function(t){this.count=t};function Yo(t){switch(t){case Pr.OK:return qr();case Pr.CANCELLED:case Pr.UNKNOWN:case Pr.DEADLINE_EXCEEDED:case Pr.RESOURCE_EXHAUSTED:case Pr.INTERNAL:case Pr.UNAVAILABLE:case Pr.UNAUTHENTICATED:return!1;case Pr.INVALID_ARGUMENT:case Pr.NOT_FOUND:case Pr.ALREADY_EXISTS:case Pr.PERMISSION_DENIED:case Pr.FAILED_PRECONDITION:case Pr.ABORTED:case Pr.OUT_OF_RANGE:case Pr.UNIMPLEMENTED:case Pr.DATA_LOSS:return!0;default:return qr()}}function Zo(t){if(void 0===t)return Fr("GRPC error has no .code"),Pr.UNKNOWN;switch(t){case Qo.OK:return Pr.OK;case Qo.CANCELLED:return Pr.CANCELLED;case Qo.UNKNOWN:return Pr.UNKNOWN;case Qo.DEADLINE_EXCEEDED:return Pr.DEADLINE_EXCEEDED;case Qo.RESOURCE_EXHAUSTED:return Pr.RESOURCE_EXHAUSTED;case Qo.INTERNAL:return Pr.INTERNAL;case Qo.UNAVAILABLE:return Pr.UNAVAILABLE;case Qo.UNAUTHENTICATED:return Pr.UNAUTHENTICATED;case Qo.INVALID_ARGUMENT:return Pr.INVALID_ARGUMENT;case Qo.NOT_FOUND:return Pr.NOT_FOUND;case Qo.ALREADY_EXISTS:return Pr.ALREADY_EXISTS;case Qo.PERMISSION_DENIED:return Pr.PERMISSION_DENIED;case Qo.FAILED_PRECONDITION:return Pr.FAILED_PRECONDITION;case Qo.ABORTED:return Pr.ABORTED;case Qo.OUT_OF_RANGE:return Pr.OUT_OF_RANGE;case Qo.UNIMPLEMENTED:return Pr.UNIMPLEMENTED;case Qo.DATA_LOSS:return Pr.DATA_LOSS;default:return qr()}}($o=Qo||(Qo={}))[$o.OK=0]="OK",$o[$o.CANCELLED=1]="CANCELLED",$o[$o.UNKNOWN=2]="UNKNOWN",$o[$o.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$o[$o.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$o[$o.NOT_FOUND=5]="NOT_FOUND",$o[$o.ALREADY_EXISTS=6]="ALREADY_EXISTS",$o[$o.PERMISSION_DENIED=7]="PERMISSION_DENIED",$o[$o.UNAUTHENTICATED=16]="UNAUTHENTICATED",$o[$o.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$o[$o.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$o[$o.ABORTED=10]="ABORTED",$o[$o.OUT_OF_RANGE=11]="OUT_OF_RANGE",$o[$o.UNIMPLEMENTED=12]="UNIMPLEMENTED",$o[$o.INTERNAL=13]="INTERNAL",$o[$o.UNAVAILABLE=14]="UNAVAILABLE",$o[$o.DATA_LOSS=15]="DATA_LOSS";var Jo=function(){function t(t,e){this.comparator=t,this.root=e||es.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,es.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,es.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ts(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ts(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ts(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ts(this.root,t,this.comparator,!0)},t}(),ts=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),es=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw qr();if(this.right.isRed())throw qr();var t=this.left.check();if(t!==this.right.check())throw qr();return t+(this.isRed()?0:1)},t}();es.EMPTY=null,es.RED=!0,es.BLACK=!1,es.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw qr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw qr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw qr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw qr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw qr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new es(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ns=function(){function t(t){this.comparator=t,this.data=new Jo(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new rs(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new rs(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),rs=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),is=new Jo(gi.comparator);function os(){return is}var ss=new Jo(gi.comparator);function as(){return ss}var us=new Jo(gi.comparator);function cs(){return us}var ls=new ns(gi.comparator);function hs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ls,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ds=new ns(Qr);function fs(){return ds}var ps=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,gs.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Xr.min(),r,fs(),os(),hs())},t}(),gs=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(oi.EMPTY_BYTE_STRING,n,hs(),hs(),hs())},t}(),ms=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ys=function(t,e){this.targetId=t,this.V=e},vs=function(t,e,n,r){void 0===n&&(n=oi.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},bs=function(){function t(){this.S=0,this.D=Es(),this.C=oi.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=hs(),e=hs(),n=hs();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:qr()}})),new gs(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Es()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),ws=function(){function t(t){this.W=t,this.G=new Map,this.H=os(),this.J=_s(),this.Y=new ns(Qr)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:qr()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Mi(i))if(0===n){var o=new gi(i.path);this.tt(e,o,ki.newNoDocument(o,Xr.min()))}else Br(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Mi(o.target)){var s=new gi(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,ki.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=hs();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ps(t,n,this.Y,this.H,r);return this.H=os(),this.J=_s(),this.Y=new ns(Qr),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new bs,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ns(Qr),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Lr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new bs),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function _s(){return new Jo(gi.comparator)}function Es(){return new Jo(gi.comparator)}var Ss={asc:"ASCENDING",desc:"DESCENDING"},Cs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Is=function(t,e){this.databaseId=t,this.I=e};function Os(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ts(t,e){return t.I?e.toBase64():e.toUint8Array()}function xs(t,e){return Os(t,e.toTimestamp())}function js(t){return Br(!!t),Xr.fromTimestamp(function(t){var e=ai(t);return new Gr(e.seconds,e.nanos)}(t))}function As(t,e){return function(t){return new ei(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function ks(t){var e=ei.fromString(t);return Br(ta(e)),e}function Ns(t,e){return As(t.databaseId,e.path)}function Ps(t,e){var n=ks(e);if(n.get(1)!==t.databaseId.projectId)throw new Dr(Pr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Dr(Pr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new gi(Ls(n))}function Ds(t,e){return As(t.databaseId,e)}function Rs(t){var e=ks(t);return 4===e.length?ei.emptyPath():Ls(e)}function Ms(t){return new ei(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ls(t){return Br(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Fs(t,e,n){return{name:Ns(t,e),fields:n.value.mapValue.fields}}function Vs(t,e,n){var r=Ps(t,e.name),i=js(e.updateTime),o=new ji({mapValue:{fields:e.fields}}),s=ki.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Us(t,e){var n;if(e instanceof qo)n={update:Fs(t,e.key,e.value)};else if(e instanceof Ko)n={delete:Ns(t,e.key)};else if(e instanceof Bo)n={update:Fs(t,e.key,e.data),updateMask:Js(e.fieldMask)};else{if(!(e instanceof Go))return qr();n={verify:Ns(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof So)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Co)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Oo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xo)return{fieldPath:e.field.canonicalString(),increment:n.A};throw qr()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:xs(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:qr()}(t,e.precondition)),n}function qs(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Po.updateTime(js(t.updateTime)):void 0!==t.exists?Po.exists(t.exists):Po.none()}(e.currentDocument):Po.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Br("REQUEST_TIME"===e.setToServerValue),n=new So):"appendMissingElements"in e?n=new Co(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Oo(e.removeAllFromArray.values||[]):"increment"in e?n=new xo(t,e.increment):qr();var r=ri.fromServerFormat(e.fieldPath);return new ko(r,n)}(t,e)})):[];if(e.update){var i=Ps(t,e.update.name),o=new ji({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new ii((t.fieldPaths||[]).map((function(t){return ri.fromServerFormat(t)})))}(e.updateMask);return new Bo(i,o,s,n,r)}return new qo(i,o,n,r)}if(e.delete){var a=Ps(t,e.delete);return new Ko(a,n)}if(e.verify){var u=Ps(t,e.verify);return new Go(u,n)}return qr()}function Bs(t,e){return{documents:[Ds(t,e.path)]}}function Hs(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ds(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ds(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Oi(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NAN"}};if(Ii(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Oi(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NAN"}};if(Ii(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(t.field),op:Ks(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Gs(t.field),direction:$s(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||di(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Ws(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ws(e.endAt)),n}function zs(t){var e=Rs(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Br(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Zs(e)]:void 0!==e.fieldFilter?[Ys(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):qr():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Ki(Xs(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return di(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Qs(n.startAt));var l=null;return n.endAt&&(l=Qs(n.endAt)),Ji(e,i,a,s,u,"F",c,l)}function Ws(t){return{before:t.before,values:t.position}}function Qs(t){return new Qi(t.values||[],!!t.before)}function $s(t){return Ss[t]}function Ks(t){return Cs[t]}function Gs(t){return{fieldPath:t.canonicalString()}}function Xs(t){return ri.fromServerFormat(t.fieldPath)}function Ys(t){return Li.create(Xs(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return qr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Zs(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Xs(t.unaryFilter.field);return Li.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Xs(t.unaryFilter.field);return Li.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xs(t.unaryFilter.field);return Li.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xs(t.unaryFilter.field);return Li.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return qr()}}function Js(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function ta(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function ea(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ra(e)),e=na(t.get(n),e);return ra(e)}function na(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ra(t){return t+"\x01\x01"}function ia(t){var e=t.length;if(Br(e>=2),2===e)return Br("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ei.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&qr(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:qr()}o=s+2}return new ei(r)}var oa=function(t,e){this.seconds=t,this.nanoseconds=e},sa=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};sa.store="owner",sa.key="owner";var aa=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};aa.store="mutationQueues",aa.keyPath="userId";var ua=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ua.store="mutations",ua.keyPath="batchId",ua.userMutationsIndex="userMutationsIndex",ua.userMutationsKeyPath=["userId","batchId"];var ca=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ea(e)]},t.key=function(t,e,n){return[t,ea(e),n]},t}();ca.store="documentMutations",ca.PLACEHOLDER=new ca;var la=function(t,e){this.path=t,this.readTime=e},ha=function(t,e){this.path=t,this.version=e},da=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};da.store="remoteDocuments",da.readTimeIndex="readTimeIndex",da.readTimeIndexPath="readTime",da.collectionReadTimeIndex="collectionReadTimeIndex",da.collectionReadTimeIndexPath=["parentPath","readTime"];var fa=function(t){this.byteSize=t};fa.store="remoteDocumentGlobal",fa.key="remoteDocumentGlobalKey";var pa=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};pa.store="targets",pa.keyPath="targetId",pa.queryTargetsIndexName="queryTargetsIndex",pa.queryTargetsKeyPath=["canonicalId","targetId"];var ga=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ga.store="targetDocuments",ga.keyPath=["targetId","path"],ga.documentTargetsIndex="documentTargetsIndex",ga.documentTargetsKeyPath=["path","targetId"];var ma=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ma.key="targetGlobalKey",ma.store="targetGlobal";var ya=function(t,e){this.collectionId=t,this.parent=e};ya.store="collectionParents",ya.keyPath=["collectionId","parent"];var va=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};va.store="clientMetadata",va.keyPath="clientId";var ba=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ba.store="bundles",ba.keyPath="bundleId";var wa=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};wa.store="namedQueries",wa.keyPath="name";var _a=Object(kr.g)(Object(kr.g)([],Object(kr.g)(Object(kr.g)([],Object(kr.g)(Object(kr.g)([],Object(kr.g)(Object(kr.g)([],[aa.store,ua.store,ca.store,da.store,pa.store,sa.store,ma.store,ga.store]),[va.store])),[fa.store])),[ya.store])),[ba.store,wa.store]),Ea="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sa=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Ca=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Ia=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&qr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Oa=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Ca,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ja(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Da(e.target.error);n.ft.reject(new ja(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ja(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Lr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ka(e)},t}(),Ta=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(E.i)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Lr("SimpleDb","Removing database:",t),Na(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(E.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(kr.b)(this,void 0,void 0,(function(){var e,n=this;return Object(kr.e)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Lr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ja(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Dr(Pr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ja(t,n))},i.onupgradeneeded=function(t){Lr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Lr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(kr.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(kr.e)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(kr.e)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Oa.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Ia.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Lr("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),xa=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Na(this.Pt.delete())},t}(),ja=function(t){function e(e,n){var r=this;return(r=t.call(this,Pr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(kr.d)(e,t),e}(Dr);function Aa(t){return"IndexedDbTransactionError"===t.name}var ka=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Lr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Lr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Na(n)},t.prototype.add=function(t){return Lr("SimpleDb","ADD",this.store.name,t,t),Na(this.store.add(t))},t.prototype.get=function(t){var e=this;return Na(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Lr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Lr("SimpleDb","DELETE",this.store.name,t),Na(this.store.delete(t))},t.prototype.count=function(){return Lr("SimpleDb","COUNT",this.store.name),Na(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Lr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Ia((function(n,r){e.onerror=function(t){var e=Da(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Ia((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new xa(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ia){var a=s.catch((function(t){return o.done(),Ia.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Ia.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Na(t){return new Ia((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Da(t.target.error);n(e)}}))}var Pa=!1;function Da(t){var e=Ta._t(Object(E.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Dr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Pa||(Pa=!0,setTimeout((function(){throw r}),0)),r}}return t}var Ra=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(kr.d)(e,t),e}(Sa);function Ma(t,e){var n=Hr(t);return Ta.It(n.Mt,e)}var La=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Mo(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Lo(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Lo(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Xr.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),hs())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$r(this.mutations,t.mutations,(function(t,e){return Vo(t,e)}))&&$r(this.baseMutations,t.baseMutations,(function(t,e){return Vo(t,e)}))},t}(),Fa=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Br(e.mutations.length===r.length);for(var i=cs(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Va=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Xr.min()),void 0===o&&(o=Xr.min()),void 0===s&&(s=oi.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ua=function(t){this.Lt=t};function qa(t,e){if(e.document)return Vs(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=gi.fromSegments(e.noDocument.path),r=Qa(e.noDocument.readTime),i=ki.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=gi.fromSegments(e.unknownDocument.path);return r=Qa(e.unknownDocument.version),ki.newUnknownDocument(o,r)}return qr()}function Ba(t,e,n){var r=Ha(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Ns(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Os(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new da(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Wa(e.version);return s=e.hasCommittedMutations,new da(null,new la(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Wa(e.version);return new da(new ha(c,l),null,null,!0,r,i)}return qr()}function Ha(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function za(t){var e=new Gr(t[0],t[1]);return Xr.fromTimestamp(e)}function Wa(t){var e=t.toTimestamp();return new oa(e.seconds,e.nanoseconds)}function Qa(t){var e=new Gr(t.seconds,t.nanoseconds);return Xr.fromTimestamp(e)}function $a(t,e){for(var n=(e.baseMutations||[]).map((function(e){return qs(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return qs(t.Lt,e)})),o=Gr.fromMillis(e.localWriteTimeMs);return new La(e.batchId,o,n,i)}function Ka(t){var e,n,r=Qa(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Qa(t.lastLimboFreeSnapshotVersion):Xr.min();return void 0!==t.query.documents?(Br(1===(n=t.query).documents.length),e=ao(to(Rs(n.documents[0])))):e=function(t){return ao(zs(t))}(t.query),new Va(e,t.targetId,0,t.lastListenSequenceNumber,r,i,oi.fromBase64String(t.resumeToken))}function Ga(t,e){var n,r=Wa(e.snapshotVersion),i=Wa(e.lastLimboFreeSnapshotVersion);n=Mi(e.target)?Bs(t.Lt,e.target):Hs(t.Lt,e.target);var o=e.resumeToken.toBase64();return new pa(e.targetId,Di(e.target),r,o,e.sequenceNumber,i,n)}function Xa(t){var e=zs({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?uo(e,e.limit,"L"):e}var Ya=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Za(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Qa(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Za(t).put({bundleId:(n=e).id,createTime:Wa(js(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Ja(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Xa(e.bundledQuery),readTime:Qa(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Ja(t).put(function(t){return{name:t.name,readTime:Wa(js(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Za(t){return Ma(t,ba.store)}function Ja(t){return Ma(t,wa.store)}var tu=function(){function t(){this.Bt=new eu}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ia.resolve()},t.prototype.getCollectionParents=function(t,e){return Ia.resolve(this.Bt.getEntries(e))},t}(),eu=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ns(ei.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ns(ei.comparator)).toArray()},t}(),nu=function(){function t(){this.qt=new eu}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:ea(i)};return ru(t).put(o)}return Ia.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Kr(e),""],!1,!0);return ru(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(ia(o.parent))}return n}))},t}();function ru(t){return Ma(t,ya.store)}var iu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ou=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function su(t,e,n){var r=t.store(ua.store),i=t.store(ca.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Br(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=ca.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return Ia.waitFor(o).next((function(){return c}))}function au(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw qr();e=t.noDocument}return JSON.stringify(e).length}ou.DEFAULT_COLLECTION_PERCENTILE=10,ou.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ou.DEFAULT=new ou(41943040,ou.DEFAULT_COLLECTION_PERCENTILE,ou.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ou.DISABLED=new ou(-1,0,0);var uu=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Br(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lu(t).$t({index:ua.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=hu(t),s=lu(t);return s.add({}).next((function(a){Br("number"==typeof a);for(var u=new La(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Us(t.Lt,e)})),i=n.mutations.map((function(e){return Us(t.Lt,e)}));return new ua(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new ns((function(t,e){return Qr(t.canonicalString(),e.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],g=ca.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,ca.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),Ia.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return lu(t).get(e).next((function(t){return t?(Br(t.userId===n.userId),$a(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Ia.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return lu(t).$t({index:ua.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Br(e.batchId>=r),o=$a(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return lu(t).$t({index:ua.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lu(t).Nt(ua.userMutationsIndex,n).next((function(t){return t.map((function(t){return $a(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ca.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return hu(t).$t({range:i},(function(r,i,s){var a=r[0],u=r[2],c=ia(r[1]);if(a===n.userId&&e.path.isEqual(c))return lu(t).get(u).next((function(t){if(!t)throw qr();Br(t.userId===n.userId),o.push($a(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ns(Qr),i=[];return e.forEach((function(e){var o=ca.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=hu(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[2],u=ia(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Ia.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ca.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ns(Qr);return hu(t).$t({range:s},(function(t,e,o){var s=t[0],u=t[2],c=ia(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(lu(t).get(e).next((function(t){if(null===t)throw qr();Br(t.userId===n.userId),r.push($a(n.R,t))})))})),Ia.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return su(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Ia.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Ia.resolve();var r=IDBKeyRange.lowerBound(ca.prefixForUser(e.userId)),i=[];return hu(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=ia(t[1]);i.push(o)}else r.done()})).next((function(){Br(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return cu(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return du(t).get(this.userId).next((function(t){return t||new aa(e.userId,-1,"")}))},t}();function cu(t,e,n){var r=ca.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return hu(t).$t({range:o,kt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function lu(t){return Ma(t,ua.store)}function hu(t){return Ma(t,ca.store)}function du(t){return Ma(t,aa.store)}var fu=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),pu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new fu(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Xr.fromTimestamp(new Gr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return gu(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Br(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return gu(t).$t((function(s,a){var u=Ka(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Ia.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return gu(t).$t((function(t,n){var r=Ka(n);e(r)}))},t.prototype.Xt=function(t){return mu(t).get(ma.key).next((function(t){return Br(null!==t),t}))},t.prototype.Zt=function(t,e){return mu(t).put(ma.key,e)},t.prototype.te=function(t,e){return gu(t).put(Ga(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Di(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return gu(t).$t({range:r,index:pa.queryTargetsIndexName},(function(t,n,r){var o=Ka(n);Ri(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=yu(t);return e.forEach((function(e){var s=ea(e.path);i.push(o.put(new ga(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),Ia.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=yu(t);return Ia.forEach(e,(function(e){var o=ea(e.path);return Ia.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=yu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=yu(t),i=hs();return r.$t({range:n,kt:!0},(function(t,e,n){var r=ia(t[1]),o=new gi(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=ea(e.path),r=IDBKeyRange.bound([n],[Kr(n)],!1,!0),i=0;return yu(t).$t({index:ga.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return gu(t).get(e).next((function(t){return t?Ka(t):null}))},t}();function gu(t){return Ma(t,pa.store)}function mu(t){return Ma(t,ma.store)}function yu(t){return Ma(t,ga.store)}function vu(t){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){if(t.code!==Pr.FAILED_PRECONDITION||t.message!==Ea)throw t;return Lr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function bu(t,e){var n=t[1],r=e[1],i=Qr(t[0],e[0]);return 0===i?Qr(n,r):i}var wu=function(){function t(t){this.ne=t,this.buffer=new ns(bu),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();bu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),_u=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Lr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(kr.b)(e,void 0,void 0,(function(){var e;return Object(kr.e)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Aa(e=n.sent())?(Lr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,vu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Eu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ia.resolve(Nr.o);var r=new wu(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Lr("LruGarbageCollector","Garbage collection skipped; disabled"),Ia.resolve(iu)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Lr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),iu):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Lr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Mr()<=S.a.DEBUG&&Lr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ia.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Su=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Eu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Cu(t,n)},t.prototype.removeReference=function(t,e,n){return Cu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Cu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return du(t).Ot((function(r){return cu(t,r,e).next((function(t){return t&&(n=!0),Ia.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),yu(t).delete([0,ea(s.path)])}))}));i.push(u)}})).next((function(){return Ia.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Cu(t,e)},t.prototype.we=function(t,e){var n,r=yu(t),i=Nr.o;return r.$t({index:ga.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Nr.o&&e(new gi(ia(n)),i),i=s,n=o):i=Nr.o})).next((function(){i!==Nr.o&&e(new gi(ia(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Cu(t,e){return yu(t).put(function(t,e){return new ga(0,ea(t.path),e)}(e,t.currentSequenceNumber))}var Iu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Zr(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return Jr(this.inner)},t}(),Ou=function(){function t(){this.changes=new Iu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Xr.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ki.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ia.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Tu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Au(t).put(ku(e),n)},t.prototype.removeEntry=function(t,e){var n=Au(t),r=ku(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Au(t).get(ku(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Au(t).get(ku(e)).next((function(t){return{document:n.ye(e,t),size:au(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=os();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=os(),i=new Jo(gi.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,au(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Ia.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Au(t).$t({range:r},(function(t,e,r){for(var s=gi.fromSegments(t);o&&gi.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=os(),o=e.path.length+1,s={};if(n.isEqual(Xr.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Ha(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=da.collectionReadTimeIndex}return Au(t).$t(s,(function(t,n,s){if(t.length===o){var a=qa(r.R,n);e.path.isPrefixOf(a.key.path)?fo(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new xu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return ju(t).get(fa.key).next((function(t){return Br(!!t),t}))},t.prototype.me=function(t,e){return ju(t).put(fa.key,e)},t.prototype.ye=function(t,e){if(e){var n=qa(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Xr.min()))return n}return ki.newInvalidDocument(t)},t}(),xu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Iu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(kr.d)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ns((function(t,e){return Qr(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Ba(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=au(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Ba(e.Ie.R,ki.newNoDocument(o,Xr.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Ia.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Ou);function ju(t){return Ma(t,fa.store)}function Au(t){return Ma(t,da.store)}function ku(t){return t.path.toArray()}var Nu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Br(n<r&&n>=0&&r<=11);var o=new Oa("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(sa.store)}(t),function(t){t.createObjectStore(aa.store,{keyPath:aa.keyPath}),t.createObjectStore(ua.store,{keyPath:ua.keyPath,autoIncrement:!0}).createIndex(ua.userMutationsIndex,ua.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ca.store)}(t),Pu(t),function(t){t.createObjectStore(da.store)}(t));var s=Ia.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ga.store),t.deleteObjectStore(pa.store),t.deleteObjectStore(ma.store)}(t),Pu(t)),s=s.next((function(){return function(t){var e=t.store(ma.store),n=new ma(0,0,Xr.min().toTimestamp(),0);return e.put(ma.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(ua.store).Nt().next((function(n){t.deleteObjectStore(ua.store),t.createObjectStore(ua.store,{keyPath:ua.keyPath,autoIncrement:!0}).createIndex(ua.userMutationsIndex,ua.userMutationsKeyPath,{unique:!0});var r=e.store(ua.store),i=n.map((function(t){return r.put(t)}));return Ia.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(va.store,{keyPath:va.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(fa.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(da.store);e.createIndex(da.readTimeIndex,da.readTimeIndexPath,{unique:!1}),e.createIndex(da.collectionReadTimeIndex,da.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(ba.store,{keyPath:ba.keyPath})}(t),function(t){t.createObjectStore(wa.store,{keyPath:wa.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(da.store).$t((function(t,n){e+=au(n)})).next((function(){var n=new fa(e);return t.store(fa.store).put(fa.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(aa.store),r=t.store(ua.store);return n.Nt().next((function(n){return Ia.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ua.userMutationsIndex,i).next((function(r){return Ia.forEach(r,(function(r){Br(r.userId===n.userId);var i=$a(e.R,r);return su(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(ga.store),n=t.store(da.store);return t.store(ma.store).get(ma.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new ei(n),s=function(t){return[0,ea(t)]}(o);r.push(e.get(s).next((function(n){return n?Ia.resolve():function(n){return e.put(new ga(0,ea(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Ia.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(ya.store,{keyPath:ya.keyPath});var n=e.store(ya.store),r=new eu,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:ea(i)})}};return e.store(da.store).$t({kt:!0},(function(t,e){var n=new ei(t);return i(n.popLast())})).next((function(){return e.store(ca.store).$t({kt:!0},(function(t,e){var n=ia(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(pa.store);return n.$t((function(t,r){var i=Ka(r),o=Ga(e.R,i);return n.put(o)}))},t}();function Pu(t){t.createObjectStore(ga.store,{keyPath:ga.keyPath}).createIndex(ga.documentTargetsIndex,ga.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(pa.store,{keyPath:pa.keyPath}).createIndex(pa.queryTargetsIndexName,pa.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ma.store)}var Du="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ru=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Dr(Pr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Su(this,i),this.Le=n+"main",this.R=new Ua(u),this.Be=new Ta(this.Le,11,new Nu(this.R)),this.qe=new pu(this.referenceDelegate,this.R),this.Ut=new nu,this.Ue=function(t,e){return new Tu(t,e)}(this.R,this.Ut),this.Qe=new Ya,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Dr(Pr.FAILED_PRECONDITION,Du);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Nr(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(kr.b)(e,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Object(kr.b)(e,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Object(kr.b)(e,void 0,void 0,(function(){return Object(kr.e)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Lu(e).put(new va(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Aa(e))return Lr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Lr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Mu(t).get(sa.key).next((function(t){return Ia.resolve(e.tn(t))}))},t.prototype.en=function(t){return Lu(t).delete(this.clientId)},t.prototype.nn=function(){return Object(kr.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(kr.e)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Ma(t,va.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Ia.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Ia.resolve(!0):Mu(t).get(sa.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Dr(Pr.FAILED_PRECONDITION,Du);return!1}}return!(!e.networkEnabled||!e.inForeground)||Lu(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Lr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(kr.b)(this,void 0,void 0,(function(){var t=this;return Object(kr.e)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[sa.store,va.store],(function(e){var n=new Ra(e,Nr.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Lu(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return uu.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Lr("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",_a,(function(o){return r=new Ra(o,i.Ne?i.Ne.next():Nr.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw Fr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Dr(Pr.FAILED_PRECONDITION,Ea);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Mu(t).get(sa.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Dr(Pr.FAILED_PRECONDITION,Du)}))},t.prototype.Ze=function(t){var e=new sa(this.clientId,this.allowTabSynchronization,Date.now());return Mu(t).put(sa.key,e)},t.yt=function(){return Ta.yt()},t.prototype.Xe=function(t){var e=this,n=Mu(t);return n.get(sa.key).next((function(t){return e.tn(t)?(Lr("IndexedDbPersistence","Releasing primary lease."),n.delete(sa.key)):Ia.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Fr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Lr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Fr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Fr("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Mu(t){return Ma(t,sa.store)}function Lu(t){return Ma(t,va.store)}function Fu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Vu=function(t,e){this.progress=t,this.wn=e},Uu=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return gi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):oo(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new gi(e)).next((function(t){var e=as();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=as();return this.Ut.getCollectionParents(t,i).next((function(s){return Ia.forEach(s,(function(s){var a=function(t,e){return new Zi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=ki.newInvalidDocument(c),r=r.insert(c,l)),Lo(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){fo(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=hs(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Bo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),qu=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=hs(),i=hs(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Bu=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Xr.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return(eo(e)||no(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Mr()<=S.a.DEBUG&&Lr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ho(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new ns(po(t));return e.forEach((function(e,r){fo(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Mr()<=S.a.DEBUG&&Lr("QueryEngine","Using full collection scan to execute query:",ho(e)),this.Sn.getDocumentsMatchingQuery(t,e,Xr.min())},t}(),Hu=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Jo(Qr),this.kn=new Iu((function(t){return Di(t)}),Ri),this.$n=Xr.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Uu(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function zu(t,e,n,r){return new Hu(t,e,n,r)}function Wu(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(kr.e)(this,(function(s){switch(s.label){case 0:return n=Hr(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Uu(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=hs(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Qu(t,e){var n=Hr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ia.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Br(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function $u(t){var e=Hr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Ku(t,e){var n=Hr(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Br(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}}));var a=os();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(Gu(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Xr.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return Ia.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function Gu(t,e,n,r,i){var o=hs();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=os();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Xr.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Lr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Xu(t,e){var n=Hr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Yu(t,e){var n=Hr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?Ia.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new Va(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Zu(t,e,n){return Object(kr.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(kr.e)(this,(function(a){switch(a.label){case 0:r=Hr(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Aa(s=a.sent()))throw s;return Lr("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Ju(t,e,n){var r=Hr(t),i=Xr.min(),o=hs();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Hr(t),i=r.kn.get(n);return void 0!==i?Ia.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,ao(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Xr.min(),n?o:hs())})).next((function(t){return{documents:t,Bn:o}}))}))}function tc(t,e){var n=Hr(t),r=Hr(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function ec(t){var e=Hr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Hr(t),i=os(),o=Ha(n),s=Au(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:da.readTimeIndex,range:a},(function(t,e){var n=qa(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:za(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn;return e.$n=t.readTime,n}))}function nc(t){return Object(kr.b)(this,void 0,void 0,(function(){var e;return Object(kr.e)(this,(function(n){return[2,(e=Hr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Au(t),n=Xr.min();return e.$t({index:da.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=za(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function rc(t,e,n,r){return Object(kr.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,d,f;return Object(kr.e)(this,(function(p){switch(p.label){case 0:for(i=Hr(t),o=hs(),s=os(),a=cs(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,Yu(i,function(t){return ao(to(ei.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Gu(t,d,s,Xr.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next((function(){return i.qe.addMatchingKeys(t,o,f.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function ic(t,e,n){return void 0===n&&(n=hs()),Object(kr.b)(this,void 0,void 0,(function(){var r,i;return Object(kr.e)(this,(function(o){switch(o.label){case 0:return[4,Yu(t,ao(Xa(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Hr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=js(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(oi.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))}var oc=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Ia.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:js(n.createTime)}),Ia.resolve()},t.prototype.getNamedQuery=function(t,e){return Ia.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Xa(t.bundledQuery),readTime:js(t.readTime)}}(e)),Ia.resolve()},t}(),sc=function(){function t(){this.Wn=new ns(ac.Gn),this.zn=new ns(ac.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new ac(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new ac(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new gi(new ei([])),r=new ac(n,t),i=new ac(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new gi(new ei([])),n=new ac(e,t),r=new ac(e,t+1),i=hs();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new ac(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),ac=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return gi.comparator(t.key,e.key)||Qr(t.ns,e.ns)},t.Hn=function(t,e){return Qr(t.ns,e.ns)||gi.comparator(t.key,e.key)},t}(),uc=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ns(ac.Gn)}return t.prototype.checkEmpty=function(t){return Ia.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new La(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new ac(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Ia.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Ia.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Ia.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ia.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Ia.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new ac(e,0),i=new ac(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Ia.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ns(Qr);return e.forEach((function(t){var e=new ac(t,0),i=new ac(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Ia.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;gi.isDocumentKey(i)||(i=i.child(""));var o=new ac(new gi(i),0),s=new ns(Qr);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),Ia.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Br(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Ia.forEach(e.mutations,(function(i){var o=new ac(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new ac(e,0),r=this.rs.firstAfterOrEqual(n);return Ia.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Ia.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),cc=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Jo(gi.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ia.resolve(n?n.document.clone():ki.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=os();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ki.newInvalidDocument(t))})),Ia.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=os(),i=new gi(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||fo(e,u)&&(r=r.insert(u.key,u.clone()))}return Ia.resolve(r)},t.prototype.fs=function(t,e){return Ia.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new lc(this)},t.prototype.getSize=function(t){return Ia.resolve(this.size)},t}(),lc=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(kr.d)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Ia.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Ou),hc=function(){function t(t){this.persistence=t,this.ds=new Iu((function(t){return Di(t)}),Ri),this.lastRemoteSnapshotVersion=Xr.min(),this.highestTargetId=0,this.ws=0,this._s=new sc,this.targetCount=0,this.ys=fu.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Ia.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ia.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ia.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ia.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Ia.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new fu(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ia.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Ia.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ia.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),Ia.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Ia.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Ia.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Ia.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Ia.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ia.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Ia.resolve(n)},t.prototype.containsKey=function(t,e){return Ia.resolve(this._s.containsKey(e))},t}(),dc=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Nr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new hc(this),this.Ut=new tu,this.Ue=function(t,e){return new cc(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Ua(e),this.Qe=new oc(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new uc(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Lr("MemoryPersistence","Starting transaction:",t);var i=new fc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Ia.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),fc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(kr.d)(e,t),e}(Sa),pc=function(){function t(t){this.persistence=t,this.As=new sc,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw qr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Ia.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Ia.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ia.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ia.forEach(this.vs,(function(r){var i=gi.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Ia.or([function(){return Ia.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),gc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function mc(t,e){return"firestore_clients_"+t+"_"+e}function yc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function vc(t,e){return"firestore_targets_"+t+"_"+e}gc.UNAUTHENTICATED=new gc(null),gc.GOOGLE_CREDENTIALS=new gc("google-credentials-uid"),gc.FIRST_PARTY=new gc("first-party-uid");var bc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Dr(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Fr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),wc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Dr(i.error.code,i.error.message)),o?new t(e,i.state,r):(Fr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),_c=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=fs(),s=0;i&&s<r.activeTargetIds.length;++s)i=pi(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Fr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ec=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Fr("SharedClientState","Failed to parse online state: "+e),null)},t}(),Sc=function(){function t(){this.activeTargetIds=fs()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Cc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Jo(Qr),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=mc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Sc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(kr.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(kr.e)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(mc(this.persistenceKey,r)))&&(o=_c.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(vc(this.persistenceKey,t));if(n){var r=wc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(vc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Lr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Lr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Lr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Lr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(kr.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(kr.e)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Nr.o;if(null!=t)try{var n=JSON.parse(t);Br("number"==typeof n),e=n}catch(t){Fr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Nr.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new bc(this.currentUser,t,e,n),i=yc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=yc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=vc(this.persistenceKey,t),i=new wc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return _c.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return bc.Vs(new gc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return wc.Vs(r,e)},t.prototype.js=function(t){return Ec.Vs(t)},t.prototype.ii=function(t){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Lr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=fs();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Ic=function(){function t(){this.li=new Sc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Sc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Oc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Tc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Lr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Lr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),xc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Ac=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(kr.d)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new Ar;s.listenOnce(Or.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Ir.NO_ERROR:var e=s.getResponseJson();Lr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ir.TIMEOUT:Lr("Connection",'RPC "'+t+'" timed out'),o(new Dr(Pr.DEADLINE_EXCEEDED,"Request time out"));break;case Ir.HTTP_ERROR:var n=s.getStatus();if(Lr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Pr).indexOf(e)>=0?e:Pr.UNKNOWN}(r.status);o(new Dr(a,r.message))}else o(new Dr(Pr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Dr(Pr.UNAVAILABLE,"Connection failed."));break;default:qr()}}finally{Lr("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new pr,i=me(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new xr({})),this.Fi(o.initMessageHeaders,e),Object(E.n)()||Object(E.p)()||Object(E.l)()||Object(E.m)()||Object(E.q)()||Object(E.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Lr("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new jc({Ei:function(t){c?Lr("Connection","Not sending because WebChannel is closed:",t):(u||(Lr("Connection","Opening WebChannel transport."),a.open(),u=!0),Lr("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,jr.EventType.OPEN,(function(){c||Lr("Connection","WebChannel transport opened.")})),h(a,jr.EventType.CLOSE,(function(){c||(c=!0,Lr("Connection","WebChannel transport closed"),l.Vi())})),h(a,jr.EventType.ERROR,(function(t){c||(c=!0,Vr("Connection","WebChannel transport errored:",t),l.Vi(new Dr(Pr.UNAVAILABLE,"The operation could not be completed")))})),h(a,jr.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Br(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Lr("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Qo[t];if(void 0!==e)return Zo(e)}(i),s=r.message;void 0===o&&(o=Pr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Dr(o,s)),a.close()}else Lr("Connection","WebChannel received:",n),l.Si(n)}})),h(i,Tr.STAT_EVENT,(function(t){10===t.stat?Lr("Connection","Detected buffering proxy"):11===t.stat&&Lr("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Lr("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Lr("RestConnection","Received: ",t),t}),(function(e){throw Vr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.7",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+xc[t]},t}());function kc(){return"undefined"!=typeof window?window:null}function Nc(){return"undefined"!=typeof document?document:null}function Pc(t){return new Is(t,!0)}var Dc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Lr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Rc=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Dc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Pr.RESOURCE_EXHAUSTED?(Fr(e.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Pr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Dr(Pr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Object(kr.b)(t,void 0,void 0,(function(){return Object(kr.e)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Lr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Lr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Mc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(kr.d)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:qr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Br(void 0===e||"string"==typeof e),oi.fromBase64String(e||"")):(Br(void 0===e||e instanceof Uint8Array),oi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Pr.UNKNOWN:Zo(t.code);return new Dr(e,t.message||"")}(a);n=new vs(r,i,o,s||null)}else if("documentChange"in e){i=Ps(t,(r=e.documentChange).document.name),o=js(r.document.updateTime);var a=new ji({mapValue:{fields:r.document.fields}}),u=(s=ki.newFoundDocument(i,o,a),r.targetIds||[]);n=new ms(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Ps(t,(r=e.documentDelete).document),o=r.readTime?js(r.readTime):Xr.min(),a=ki.newNoDocument(i,o),n=new ms([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ps(t,(r=e.documentRemove).document),n=new ms([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return qr();var c=e.filter;i=new Xo(r=c.count||0),n=new ys(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Xr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Xr.min():e.readTime?js(e.readTime):Xr.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Ms(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Mi(r)?{documents:Bs(t,r)}:{query:Hs(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Ts(t,e.resumeToken):e.snapshotVersion.compareTo(Xr.min())>0&&(n.readTime=Os(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Ms(this.R),e.removeTarget=t,this.cr(e)},e}(Rc),Lc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(kr.d)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Br(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Br(void 0!==e),t.map((function(t){return function(t,e){var n=js(t.updateTime?t.updateTime:e);return n.isEqual(Xr.min())&&(n=js(e)),new No(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=js(t.commitTime);return this.listener.Tr(n,e)}return Br(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Ms(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Us(e.R,t)}))};this.cr(n)},e}(Rc),Fc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(kr.d)(e,t),e.prototype.br=function(){if(this.Rr)throw new Dr(Pr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Pr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Dr(Pr.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Pr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Dr(Pr.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Vc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Fr(e),this.Vr=!1):Lr("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Uc=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Object(kr.b)(o,void 0,void 0,(function(){return Object(kr.e)(this,(function(t){switch(t.label){case 0:return Gc(this)?(Lr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(kr.b)(this,void 0,void 0,(function(){var e;return Object(kr.e)(this,(function(n){switch(n.label){case 0:return(e=Hr(t)).Or.add(4),[4,Bc(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,qc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Vc(n,r)};function qc(t){return Object(kr.b)(this,void 0,void 0,(function(){var e,n;return Object(kr.e)(this,(function(r){switch(r.label){case 0:if(!Gc(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Bc(t){return Object(kr.b)(this,void 0,void 0,(function(){var e,n;return Object(kr.e)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Hc(t,e){var n=Hr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Kc(n)?$c(n):ll(n).er()&&Wc(n,e))}function zc(t,e){var n=Hr(t),r=ll(n);n.$r.delete(e),r.er()&&Qc(n,e),0===n.$r.size&&(r.er()?r.ir():Gc(n)&&n.Br.set("Unknown"))}function Wc(t,e){t.qr.U(e.targetId),ll(t).mr(e)}function Qc(t,e){t.qr.U(e),ll(t).yr(e)}function $c(t){t.qr=new ws({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),ll(t).start(),t.Br.Sr()}function Kc(t){return Gc(t)&&!ll(t).tr()&&t.$r.size>0}function Gc(t){return 0===Hr(t).Or.size}function Xc(t){t.qr=void 0}function Yc(t){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){return t.$r.forEach((function(e,n){Wc(t,e)})),[2]}))}))}function Zc(t,e){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(n){return Xc(t),Kc(t)?(t.Br.Nr(e),$c(t)):t.Br.set("Unknown"),[2]}))}))}function Jc(t,e,n){return Object(kr.b)(this,void 0,void 0,(function(){var r,i,o;return Object(kr.e)(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof vs&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(kr.e)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Lr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,tl(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ms?t.qr.X(e):e instanceof ys?t.qr.rt(e):t.qr.et(e),n.isEqual(Xr.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,$u(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(oi.EMPTY_BYTE_STRING,n.snapshotVersion)),Qc(t,e);var r=new Va(n.target,e,1,n.sequenceNumber);Wc(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Lr("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,tl(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function tl(t,e,n){return Object(kr.b)(this,void 0,void 0,(function(){var r=this;return Object(kr.e)(this,(function(i){switch(i.label){case 0:if(!Aa(e))throw e;return t.Or.add(1),[4,Bc(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return $u(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(kr.b)(r,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){switch(e.label){case 0:return Lr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,qc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function el(t,e){return e().catch((function(n){return tl(t,n,e)}))}function nl(t){return Object(kr.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(kr.e)(this,(function(s){switch(s.label){case 0:e=Hr(t),n=hl(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Gc(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Xu(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=hl(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,tl(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return rl(e)&&il(e),[2]}}))}))}function rl(t){return Gc(t)&&!hl(t).tr()&&t.kr.length>0}function il(t){hl(t).start()}function ol(t){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){return hl(t).Ar(),[2]}))}))}function sl(t){return Object(kr.b)(this,void 0,void 0,(function(){var e,n,r;return Object(kr.e)(this,(function(i){for(e=hl(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function al(t,e,n){return Object(kr.b)(this,void 0,void 0,(function(){var r,i;return Object(kr.e)(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Fa.from(r,e,n),[4,el(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,nl(t)];case 2:return o.sent(),[2]}}))}))}function ul(t,e){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(n){switch(n.label){case 0:return e&&hl(t).pr?[4,function(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r;return Object(kr.e)(this,(function(i){switch(i.label){case 0:return Yo(r=e.code)&&r!==Pr.ABORTED?(n=t.kr.shift(),hl(t).sr(),[4,el(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,nl(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return rl(t)&&il(t),[2]}}))}))}function cl(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n;return Object(kr.e)(this,(function(r){switch(r.label){case 0:return n=Hr(t),e?(n.Or.delete(2),[4,qc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Bc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ll(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Hr(t);return r.br(),new Mc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Yc.bind(null,t),Ri:Zc.bind(null,t),_r:Jc.bind(null,t)}),t.Mr.push((function(n){return Object(kr.b)(e,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Kc(t)?$c(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Xc(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function hl(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Hr(t);return r.br(),new Lc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:ol.bind(null,t),Ri:ul.bind(null,t),Ir:sl.bind(null,t),Tr:al.bind(null,t)}),t.Mr.push((function(n){return Object(kr.b)(e,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,nl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Lr("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr}var dl=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dr(Pr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function fl(t,e){if(Fr("AsyncQueue",e+": "+t),Aa(t))return new Dr(Pr.UNAVAILABLE,e+": "+t);throw t}var pl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||gi.comparator(e.key,n.key)}:function(t,e){return gi.comparator(t.key,e.key)},this.keyedMap=as(),this.sortedSet=new Jo(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),gl=function(){function t(){this.Kr=new Jo(gi.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):qr():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),ml=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,pl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&co(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),yl=function(){this.Wr=void 0,this.listeners=[]},vl=function(){this.queries=new Iu((function(t){return lo(t)}),co),this.onlineState="Unknown",this.Gr=new Set};function bl(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(kr.e)(this,(function(c){switch(c.label){case 0:if(n=Hr(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new yl),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=fl(a,"Initialization of query '"+ho(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Sl(n),[2]}}))}))}function wl(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(kr.e)(this,(function(a){return n=Hr(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function _l(t,e){for(var n=Hr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Sl(n)}function El(t,e,n){var r=Hr(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Sl(t){t.Gr.forEach((function(t){t.next()}))}var Cl=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ml(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=ml.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Il=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Ol=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Ps(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Vs(this.R,t.document,!1):ki.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return js(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Ol(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||hs()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(kr.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(kr.e)(this,(function(o){switch(o.label){case 0:return[4,rc(this.localStore,new Ol(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,ic(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Vu(Object.assign({},this.progress),t))]}}))}))}}();var Tl=function(t){this.key=t},xl=function(t){this.key=t},jl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=hs(),this.mutatedKeys=hs(),this.lo=po(t),this.fo=new pl(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new gl,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=eo(this.query)&&i.size===this.query.limit?i.last():null,c=no(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=fo(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),eo(this.query)||no(this.query))for(;s.size>this.query.limit;){var l=eo(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new ml(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new gl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=hs(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new xl(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Tl(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=hs();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return ml.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Al=function(t,e,n){this.query=t,this.targetId=e,this.view=n},kl=function(t){this.key=t,this.bo=!1},Nl=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Iu((function(t){return lo(t)}),co),this.Vo=new Map,this.So=new Set,this.Do=new Jo(gi.comparator),this.Co=new Map,this.No=new sc,this.xo={},this.Fo=new Map,this.ko=fu.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Pl(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(kr.e)(this,(function(a){switch(a.label){case 0:return n=uh(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Yu(n.localStore,ao(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Dl(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Hc(n.remoteStore,o),a.label=4;case 4:return[2,r]}}))}))}function Dl(t,e,n,r){return Object(kr.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(kr.e)(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(kr.b)(this,void 0,void 0,(function(){var i,o,s;return Object(kr.e)(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Ju(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,($l(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Ju(t.localStore,e,!0)];case 1:return i=l.sent(),o=new jl(e,i.Bn),s=o._o(i.documents),a=gs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),$l(t,n,u.To),c=new Al(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Rl(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i;return Object(kr.e)(this,(function(o){switch(o.label){case 0:return n=Hr(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!co(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Zu(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),zc(n.remoteStore,r.targetId),Wl(n,r.targetId)})).catch(vu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Wl(n,r.targetId),[4,Zu(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Ml(t,e,n){return Object(kr.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(kr.e)(this,(function(a){switch(a.label){case 0:r=ch(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Hr(t),i=Gr.now(),o=e.reduce((function(t,e){return t.add(e.key)}),hs());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Fo(c,n.get(c.key));null!=l&&s.push(new Bo(c.key,l,Ai(l.value.mapValue),Po.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Jo(Qr)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Xl(r,i.changes)];case 3:return a.sent(),[4,nl(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=fl(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Ll(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r;return Object(kr.e)(this,(function(i){switch(i.label){case 0:n=Hr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ku(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Br(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Br(r.bo):t.removedDocuments.size>0&&(Br(r.bo),r.bo=!1))})),[4,Xl(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,vu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Fl(t,e,n){var r=Hr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Hr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Sl(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Vl(t,e,n){return Object(kr.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(kr.e)(this,(function(c){switch(c.label){case 0:return(r=Hr(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Jo(gi.comparator)).insert(o,ki.newNoDocument(o,Xr.min())),a=hs().add(o),u=new ps(Xr.min(),new Map,new ns(Qr),s,a),[4,Ll(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Gl(r),[3,4];case 2:return[4,Zu(r.localStore,e,!1).then((function(){return Wl(r,e,n)})).catch(vu)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Ul(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i;return Object(kr.e)(this,(function(o){switch(o.label){case 0:n=Hr(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Qu(n.localStore,e)];case 2:return i=o.sent(),zl(n,r,null),Hl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Xl(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,vu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ql(t,e,n){return Object(kr.b)(this,void 0,void 0,(function(){var r,i;return Object(kr.e)(this,(function(o){switch(o.label){case 0:r=Hr(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Hr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Br(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),zl(r,e,n),Hl(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Xl(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,vu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Bl(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(kr.e)(this,(function(a){switch(a.label){case 0:Gc((n=Hr(t)).remoteStore)||Lr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Hr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=fl(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Hl(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function zl(t,e,n){var r=Hr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Wl(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Ql(t,e)}))}function Ql(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(zc(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Gl(t))}function $l(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Tl?(t.No.addReference(o.key,e),Kl(t,o)):o instanceof xl?(Lr("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Ql(t,o.key)):qr()}}function Kl(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Lr("SyncEngine","New document in limbo: "+n),t.So.add(r),Gl(t))}function Gl(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new gi(ei.fromString(e)),r=t.ko.next();t.Co.set(r,new kl(n)),t.Do=t.Do.insert(n,r),Hc(t.remoteStore,new Va(ao(to(n.path)),r,2,Nr.o))}}function Xl(t,e,n){return Object(kr.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(kr.e)(this,(function(a){switch(a.label){case 0:return r=Hr(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=qu.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(kr.e)(this,(function(l){switch(l.label){case 0:n=Hr(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Ia.forEach(e,(function(e){return Ia.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Ia.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Aa(r=l.sent()))throw r;return Lr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Yl(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r;return Object(kr.e)(this,(function(i){switch(i.label){case 0:return(n=Hr(t)).currentUser.isEqual(e)?[3,3]:(Lr("SyncEngine","User change. New user:",e.toKey()),[4,Wu(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new Dr(Pr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Xl(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Zl(t,e){var n=Hr(t),r=n.Co.get(e);if(r&&r.bo)return hs().add(r.key);var i=hs(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Jl(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i;return Object(kr.e)(this,(function(o){switch(o.label){case 0:return[4,Ju((n=Hr(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&$l(n,e.targetId,i.To),i)]}}))}))}function th(t){return Object(kr.b)(this,void 0,void 0,(function(){var e;return Object(kr.e)(this,(function(n){return[2,ec((e=Hr(t)).localStore).then((function(t){return Xl(e,t)}))]}))}))}function eh(t,e,n,r){return Object(kr.b)(this,void 0,void 0,(function(){var i,o;return Object(kr.e)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Hr(t),r=Hr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):Ia.resolve(null)}))}))}((i=Hr(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,nl(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(zl(i,e,r||null),Hl(i,e),function(t,e){Hr(Hr(t)._n).Gt(e)}(i.localStore,e)):qr(),s.label=4;case 4:return[4,Xl(i,o)];case 5:return s.sent(),[3,7];case 6:Lr("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function nh(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(kr.e)(this,(function(c){switch(c.label){case 0:return uh(n=Hr(t)),ch(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,rh(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,cl(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Hc(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then((function(){return Wl(n,e),Zu(n.localStore,e,!0)})),zc(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,rh(n,a)];case 5:return c.sent(),function(t){var e=Hr(t);e.Co.forEach((function(t,n){zc(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Jo(gi.comparator)}(n),n.$o=!1,[4,cl(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function rh(t,e,n){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return Object(kr.e)(this,(function(g){switch(g.label){case 0:n=Hr(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Yu(n.localStore,ao(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Jl(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,tc(n.localStore,a)];case 8:return p=g.sent(),[4,Yu(n.localStore,p)];case 9:return u=g.sent(),[4,Dl(n,ih(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function ih(t){return Ji(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function oh(t){var e=Hr(t);return Hr(Hr(e.localStore).persistence).fn()}function sh(t,e,n,r){return Object(kr.b)(this,void 0,void 0,(function(){var i,o,s;return Object(kr.e)(this,(function(a){switch(a.label){case 0:return(i=Hr(t)).$o?(Lr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ec(i.localStore)];case 3:return o=a.sent(),s=ps.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Xl(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Zu(i.localStore,e,!0)];case 6:return a.sent(),Wl(i,e,r),[3,8];case 7:qr(),a.label=8;case 8:return[2]}}))}))}function ah(t,e,n){return Object(kr.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Object(kr.e)(this,(function(d){switch(d.label){case 0:if(!(r=uh(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Lr("SyncEngine","Adding an already active target "+s),[3,5]):[4,tc(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,Yu(r.localStore,a)];case 3:return u=d.sent(),[4,Dl(r,ih(a),u.targetId,!1)];case 4:d.sent(),Hc(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(kr.e)(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Zu(r.localStore,t,!1).then((function(){zc(r.remoteStore,t),Wl(r,t)})).catch(vu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function uh(t){var e=Hr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ll.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vl.bind(null,e),e.vo._r=_l.bind(null,e.eventManager),e.vo.Mo=El.bind(null,e.eventManager),e}function ch(t){var e=Hr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ul.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ql.bind(null,e),e}var lh=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){switch(e.label){case 0:return this.R=Pc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return zu(this.persistence,new Bu,t.initialUser,this.R)},t.prototype.qo=function(t){return new dc(pc.bs,this.R)},t.prototype.Bo=function(t){return new Ic},t.prototype.terminate=function(){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),hh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(kr.d)(e,t),e.prototype.initialize=function(e){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,nc(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,ch(this.Ko.syncEngine)];case 4:return n.sent(),[4,nl(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return zu(this.persistence,new Bu,t.initialUser,this.R)},e.prototype.Uo=function(t){return new _u(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Fu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ou.withCacheSize(this.cacheSizeBytes):ou.DEFAULT;return new Ru(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,kc(),Nc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Ic},e}(lh),dh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(kr.d)(e,t),e.prototype.initialize=function(e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r=this;return Object(kr.e)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Cc?(this.sharedClientState.syncEngine={ui:eh.bind(null,n),ai:sh.bind(null,n),hi:ah.bind(null,n),fn:oh.bind(null,n),ci:th.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Object(kr.b)(r,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){switch(e.label){case 0:return[4,nh(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=kc();if(!Cc.yt(e))throw new Dr(Pr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Fu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Cc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(hh),fh=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n=this;return Object(kr.e)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Fl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Yl.bind(null,this.syncEngine),[4,cl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new vl},t.prototype.createDatastore=function(t){var e=Pc(t.databaseInfo.databaseId),n=new Ac(t.databaseInfo);return function(t,e,n){return new Fc(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Fl(s.syncEngine,t,0)},o=Tc.yt()?new Tc:new Oc,new Uc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Nl(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(kr.b)(this,void 0,void 0,(function(){var e;return Object(kr.e)(this,(function(n){switch(n.label){case 0:return e=Hr(t),Lr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Bc(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),ph=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),gh=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Ca,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Object(kr.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(kr.e)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Il(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Object(kr.b)(this,void 0,void 0,(function(){var t,e;return Object(kr.e)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Object(kr.b)(this,void 0,void 0,(function(){var e;return Object(kr.e)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(kr.b)(this,void 0,void 0,(function(){var t,e;return Object(kr.e)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(kr.b)(this,void 0,void 0,(function(){var e,n=this;return Object(kr.e)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Dr(Pr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(kr.e)(this,(function(u){switch(u.label){case 0:return n=Hr(t),r=Ms(n.R)+"/documents",i={documents:e.map((function(t){return Ns(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Br(!!e.found);var n=Ps(t,e.found.name),r=js(e.found.updateTime),i=new ji({mapValue:{fields:e.found.fields}});return ki.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Br(!!e.missing),Br(!!e.readTime);var n=Ps(t,e.missing),r=js(e.readTime);return ki.newNoDocument(n,r)}(t,e):qr()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Br(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ko(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(kr.b)(this,void 0,void 0,(function(){var t,e=this;return Object(kr.e)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=gi.fromPath(n);e.mutations.push(new Go(r,e.precondition(r)))})),[4,function(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i;return Object(kr.e)(this,(function(o){switch(o.label){case 0:return n=Hr(t),r=Ms(n.R)+"/documents",i={writes:e.map((function(t){return Us(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw qr();e=Xr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Dr(Pr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Po.updateTime(e):Po.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Xr.min()))throw new Dr(Pr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Po.updateTime(e)}return Po.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),mh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Dc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Object(kr.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(kr.e)(this,(function(r){return t=new gh(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!di(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Yo(e)}return!1},t}(),yh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=gc.UNAUTHENTICATED,this.clientId=Wr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return Object(kr.b)(r,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){switch(e.label){case 0:return Lr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Dr(Pr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(kr.b)(t,void 0,void 0,(function(){var t,n;return Object(kr.e)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=fl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function vh(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(kr.e)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Lr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return Object(kr.b)(i,void 0,void 0,(function(){return Object(kr.e)(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Wu(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function bh(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r;return Object(kr.e)(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,wh(t)];case 1:return n=i.sent(),Lr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return Object(kr.b)(this,void 0,void 0,(function(){var n,r;return Object(kr.e)(this,(function(i){switch(i.label){case 0:return(n=Hr(t)).asyncQueue.verifyOperationInProgress(),Lr("RemoteStore","RemoteStore received new credentials"),r=Gc(n),n.Or.add(3),[4,Bc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,qc(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function wh(t){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Lr("FirestoreClient","Using default OfflineComponentProvider"),[4,vh(t,new lh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function _h(t){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Lr("FirestoreClient","Using default OnlineComponentProvider"),[4,bh(t,new fh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Eh(t){return wh(t).then((function(t){return t.persistence}))}function Sh(t){return wh(t).then((function(t){return t.localStore}))}function Ch(t){return _h(t).then((function(t){return t.remoteStore}))}function Ih(t){return _h(t).then((function(t){return t.syncEngine}))}function Oh(t){return Object(kr.b)(this,void 0,void 0,(function(){var e,n;return Object(kr.e)(this,(function(r){switch(r.label){case 0:return[4,_h(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Pl.bind(null,e.syncEngine),n.onUnlisten=Rl.bind(null,e.syncEngine),n)]}}))}))}function Th(t,e,n){var r=this;void 0===n&&(n={});var i=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(kr.b)(r,void 0,void 0,(function(){var r;return Object(kr.e)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ph({next:function(o){e.enqueueAndForget((function(){return wl(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Dr(Pr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Dr(Pr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Cl(to(n.path),o,{includeMetadataChanges:!0,so:!0});return bl(t,s)},[4,Oh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function xh(t,e,n){var r=this;void 0===n&&(n={});var i=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(kr.b)(r,void 0,void 0,(function(){var r;return Object(kr.e)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ph({next:function(n){e.enqueueAndForget((function(){return wl(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Dr(Pr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Cl(n,o,{includeMetadataChanges:!0,so:!0});return bl(t,s)},[4,Oh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var jh=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Ah=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),kh=new Map,Nh=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ph=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(gc.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Dh=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Rh=function(){function t(t){var e=this;this.currentUser=gc.UNAUTHENTICATED,this.oc=new Ca,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Lr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Lr("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Lr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Br("string"==typeof n.accessToken),new Nh(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return Object(kr.b)(n,void 0,void 0,(function(){return Object(kr.e)(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Br(null===t||"string"==typeof t),new gc(t)},t}(),Mh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=gc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Lh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Mh(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(gc.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Fh(t,e,n){if(!n)throw new Dr(Pr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Vh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Dr(Pr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Uh(t,e,n,r){if(!0===e&&!0===r)throw new Dr(Pr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function qh(t){if(!gi.isDocumentKey(t))throw new Dr(Pr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Bh(t){if(gi.isDocumentKey(t))throw new Dr(Pr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Hh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":qr()}function zh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Dr(Pr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Hh(t);throw new Dr(Pr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Wh(t,e){if(e<=0)throw new Dr(Pr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Qh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Dr(Pr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Dr(Pr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Uh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),$h=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qh({}),this._settingsFrozen=!1,t instanceof Ah?(this._databaseId=t,this._credentials=new Ph):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Dr(Pr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(t.options.projectId)}(t),this._credentials=new Rh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Dr(Pr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Dr(Pr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ph;switch(t.type){case"gapi":var e=t.client;return Br(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Lh(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Dr(Pr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=kh.get(this))&&(Lr("ComponentProvider","Removing Datastore"),kh.delete(this),t.terminate()),Promise.resolve();var t},t}(),Kh=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Gh=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Xh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,to(r))||this)._path=r,i.type="collection",i}return Object(kr.d)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Kh(this.firestore,null,new gi(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Gh);function Yh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(E.h)(t),Fh("collection","path",e),t instanceof $h)return Bh(n=ei.fromString.apply(ei,Object(kr.g)([e],r))),new Xh(t,null,n);if(!(t instanceof Kh||t instanceof Xh))throw new Dr(Pr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bh(n=ei.fromString.apply(ei,Object(kr.g)([t.path],r)).child(ei.fromString(e))),new Xh(t.firestore,null,n)}function Zh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(E.h)(t),1===arguments.length&&(e=Wr.u()),Fh("doc","path",e),t instanceof $h)return qh(n=ei.fromString.apply(ei,Object(kr.g)([e],r))),new Kh(t,null,new gi(n));if(!(t instanceof Kh||t instanceof Xh))throw new Dr(Pr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qh(n=t._path.child(ei.fromString.apply(ei,Object(kr.g)([e],r)))),new Kh(t.firestore,t instanceof Xh?t.converter:null,new gi(n))}function Jh(t,e){return t=Object(E.h)(t),e=Object(E.h)(e),(t instanceof Kh||t instanceof Xh)&&(e instanceof Kh||e instanceof Xh)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function td(t,e){return t=Object(E.h)(t),e=Object(E.h)(e),t instanceof Gh&&e instanceof Gh&&t.firestore===e.firestore&&co(t._query,e._query)&&t.converter===e.converter}var ed=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new Dc(this,"async_queue_retry"),this.Tc=function(){var e=Nc();e&&Lr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Nc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=Nc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise((function(t){})):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.Rc()}))},t.prototype.Rc=function(){return Object(kr.b)(this,void 0,void 0,(function(){var t,e=this;return Object(kr.e)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Aa(t=n.sent()))throw t;return Lr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.Rc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ac=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Fr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=dl.createAndSchedule(this,t,e,n,(function(t){return r.bc(t)}));return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&qr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return Object(kr.b)(this,void 0,void 0,(function(){var t;return Object(kr.e)(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()}))},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function nd(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Ca,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var rd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new ed,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(kr.d)(e,t),e.prototype._terminate=function(){return this._firestoreClient||od(this),this._firestoreClient.terminate()},e}($h);function id(t){return t._firestoreClient||od(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function od(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new jh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new yh(t._credentials,t._queue,r)}function sd(t,e,n){var r=this,i=new Ca;return t.asyncQueue.enqueue((function(){return Object(kr.b)(r,void 0,void 0,(function(){var r;return Object(kr.e)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,vh(t,n)];case 1:return o.sent(),[4,bh(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Pr.FAILED_PRECONDITION||t.code===Pr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ad(t){if(t._initialized||t._terminated)throw new Dr(Pr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ud=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Dr(Pr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ri(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),cd=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(oi.fromBase64String(e))}catch(e){throw new Dr(Pr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(oi.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ld=function(t){this._methodName=t},hd=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Dr(Pr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Dr(Pr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Qr(this._lat,t._lat)||Qr(this._long,t._long)},t}(),dd=/^__.*__$/,fd=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Bo(t,this.data,this.fieldMask,e,this.fieldTransforms):new qo(t,this.data,e,this.fieldTransforms)},t}(),pd=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Bo(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function gd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qr()}}var md=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return Md(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(gd(this.Cc)&&dd.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),yd=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Pc(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new md({Cc:t,methodName:e,Bc:n,path:ri.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function vd(t){var e=t._freezeSettings(),n=Pc(t._databaseId);return new yd(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bd(t,e,n,r,i,o){void 0===o&&(o={});var s=t.qc(o.merge||o.mergeFields?2:0,e,n,i);Nd("Data must be an object, but it was:",s,r);var a,u,c=Ad(r,s);if(o.merge)a=new ii(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Pd(e,d[h],n);if(!s.contains(f))throw new Dr(Pr.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Ld(l,f)||l.push(f)}a=new ii(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new fd(new ji(c),a,u)}var wd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kr.d)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ld);function _d(t,e,n){return new md({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Ed=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kr.d)(e,t),e.prototype._toFieldTransform=function(t){return new ko(t.path,new So)},e.prototype.isEqual=function(t){return t instanceof e},e}(ld),Sd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(kr.d)(e,t),e.prototype._toFieldTransform=function(t){var e=_d(this,t,!0),n=this.Uc.map((function(t){return jd(t,e)})),r=new Co(n);return new ko(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ld),Cd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(kr.d)(e,t),e.prototype._toFieldTransform=function(t){var e=_d(this,t,!0),n=this.Uc.map((function(t){return jd(t,e)})),r=new Oo(n);return new ko(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ld),Id=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(kr.d)(e,t),e.prototype._toFieldTransform=function(t){var e=new xo(t.R,vo(t.R,this.Qc));return new ko(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ld);function Od(t,e,n,r){var i=t.qc(1,e,n);Nd("Data must be an object, but it was:",i,r);var o=[],s=ji.empty();Zr(r,(function(t,r){var a=Rd(e,t,n);r=Object(E.h)(r);var u=i.$c(a);if(r instanceof wd)o.push(a);else{var c=jd(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new ii(o);return new pd(s,a,i.fieldTransforms)}function Td(t,e,n,r,i,o){var s=t.qc(1,e,n),a=[Pd(e,r,n)],u=[i];if(o.length%2!=0)throw new Dr(Pr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Pd(e,o[c])),u.push(o[c+1]);for(var l=[],h=ji.empty(),d=a.length-1;d>=0;--d)if(!Ld(l,a[d])){var f=a[d],p=u[d];p=Object(E.h)(p);var g=s.$c(f);if(p instanceof wd)l.push(f);else{var m=jd(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new ii(l);return new pd(h,y,s.fieldTransforms)}function xd(t,e,n,r){return void 0===r&&(r=!1),jd(n,t.qc(r?4:3,e))}function jd(t,e){if(kd(t=Object(E.h)(t)))return Nd("Unsupported field value:",e,t),Ad(t,e);if(t instanceof ld)return function(t,e){if(!gd(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=jd(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(E.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vo(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Gr.fromDate(t);return{timestampValue:Os(e.R,n)}}if(t instanceof Gr)return n=new Gr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Os(e.R,n)};if(t instanceof hd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cd)return{bytesValue:Ts(e.R,t._byteString)};if(t instanceof Kh){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:As(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+Hh(t))}(t,e)}function Ad(t,e){var n={};return Jr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,(function(t,r){var i=jd(r,e.xc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function kd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Gr||t instanceof hd||t instanceof cd||t instanceof Kh||t instanceof ld)}function Nd(t,e,n){if(!kd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Hh(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function Pd(t,e,n){if((e=Object(E.h)(e))instanceof ud)return e._internalPath;if("string"==typeof e)return Rd(t,e);throw Md("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Dd=new RegExp("[~\\*/\\[\\]]");function Rd(t,e,n){if(e.search(Dd)>=0)throw Md("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ud.bind.apply(ud,Object(kr.g)([void 0],e.split(".")))))._internalPath}catch(r){throw Md("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Md(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Dr(Pr.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ld(t,e){return t.some((function(t){return t.isEqual(e)}))}var Fd=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Kh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Vd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Ud("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Vd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kr.d)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Fd);function Ud(t,e){return"string"==typeof e?Rd(t,e):e instanceof ud?e._internalPath:e._delegate._internalPath}var qd=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Bd=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(kr.d)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Ud("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Fd),Hd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kr.d)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Bd),zd=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new qd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Hd(n._firestore,n._userDataWriter,r.key,r,new qd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Dr(Pr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Hd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new qd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Hd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new qd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Wd(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Wd(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qr()}}function Qd(t,e){return t instanceof Bd&&e instanceof Bd?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof zd&&e instanceof zd&&t._firestore===e._firestore&&td(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function $d(t){if(no(t)&&0===t.explicitOrderBy.length)throw new Dr(Pr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Kd=function(){};function Gd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Xd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Kc=e,i.jc=n,i.Wc=r,i.type="where",i}return Object(kr.d)(e,t),e.prototype._apply=function(t){var e=vd(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Dr(Pr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){rf(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(nf(r,t,l[c]));a={arrayValue:{values:u}}}else a=nf(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||rf(s,o),a=xd(n,"where",s,"in"===o||"not-in"===o);var h=Li.create(i,o,a);return function(t,e){if(e.g()){var n=io(t);if(null!==n&&!n.isEqual(e.field))throw new Dr(Pr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ro(t);null!==r&&of(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Dr(Pr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Kc,this.jc,this.Wc);return new Gh(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Kd),Yd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kc=e,r.Gc=n,r.type="orderBy",r}return Object(kr.d)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Dr(Pr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Dr(Pr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ki(e,n);return function(t,e){if(null===ro(t)){var n=io(t);null!==n&&of(0,n,e.field)}}(t,r),r}(t._query,this.Kc,this.Gc);return new Gh(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Zi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Kd),Zd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(kr.d)(e,t),e.prototype._apply=function(t){return new Gh(t.firestore,t.converter,uo(t._query,this.zc,this.Hc))},e}(Kd),Jd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(kr.d)(e,t),e.prototype._apply=function(t){var e=ef(t,this.type,this.Jc,this.Yc);return new Gh(t.firestore,t.converter,function(t,e){return new Zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Kd),tf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(kr.d)(e,t),e.prototype._apply=function(t){var e=ef(t,this.type,this.Jc,this.Yc);return new Gh(t.firestore,t.converter,function(t,e){return new Zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Kd);function ef(t,e,n,r){if(n[0]=Object(E.h)(n[0]),n[0]instanceof Fd)return function(t,e,n,r,i){if(!r)throw new Dr(Pr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=so(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Ei(e,r.key));else{var c=r.data.field(u.field);if(li(c))throw new Dr(Pr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Dr(Pr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Qi(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=vd(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Dr(Pr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Dr(Pr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!oo(t)&&-1!==c.indexOf("/"))throw new Dr(Pr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ei.fromString(c));if(!gi.isDocumentKey(l))throw new Dr(Pr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new gi(l);a.push(Ei(e,h))}else{var d=xd(n,r,c);a.push(d)}}return new Qi(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function nf(t,e,n){if("string"==typeof(n=Object(E.h)(n))){if(""===n)throw new Dr(Pr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!oo(e)&&-1!==n.indexOf("/"))throw new Dr(Pr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ei.fromString(n));if(!gi.isDocumentKey(r))throw new Dr(Pr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ei(t,new gi(r))}if(n instanceof Kh)return Ei(t,n._key);throw new Dr(Pr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Hh(n)+".")}function rf(t,e){if(!Array.isArray(t)||0===t.length)throw new Dr(Pr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Dr(Pr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function of(t,e,n){if(!n.isEqual(e))throw new Dr(Pr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var sf=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),mi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ui(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ci(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw qr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Zr(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new hd(ui(t.latitude),ui(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return li(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(hi(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ai(t);return new Gr(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ei.fromString(t);Br(ta(n));var r=new Ah(n.get(1),n.get(3)),i=new gi(n.popFirst(5));return r.isEqual(e)||Fr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function af(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var uf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(kr.d)(e,t),e.prototype.convertBytes=function(t){return new cd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Kh(this.firestore,null,e)},e}(sf),cf=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=vd(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=lf(t,this._firestore),i=af(r.converter,e,n),o=bd(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Po.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=lf(t,this._firestore);return o="string"==typeof(e=Object(E.h)(e))||e instanceof ud?Td(this._dataReader,"WriteBatch.update",s._key,e,n,r):Od(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Po.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=lf(t,this._firestore);return this._mutations=this._mutations.concat(new Ko(e._key,Po.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Dr(Pr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function lf(t,e){if((t=Object(E.h)(t)).firestore!==e)throw new Dr(Pr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var hf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(kr.d)(e,t),e.prototype.convertBytes=function(t){return new cd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Kh(this.firestore,null,e)},e}(sf);function df(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=zh(t,Kh);var o=zh(t.firestore,rd),s=vd(o);return pf(o,[("string"==typeof(e=Object(E.h)(e))||e instanceof ud?Td(s,"updateDoc",t._key,e,n,r):Od(s,"updateDoc",t._key,e)).toMutation(t._key,Po.exists(!0))])}function ff(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(E.h)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||nd(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(nd(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Kh)c=zh(t.firestore,rd),l=to(t._key.path),u={next:function(e){i[a]&&i[a](gf(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=zh(t,Gh);c=zh(f.firestore,rd),l=f._query;var p=new hf(c);u={next:function(t){i[a]&&i[a](new zd(c,p,f,t))},error:i[a+1],complete:i[a+2]},$d(t._query)}return function(t,e,n,r){var i=this,o=new ph(r),s=new Cl(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Object(kr.b)(i,void 0,void 0,(function(){var e;return Object(kr.e)(this,(function(n){switch(n.label){case 0:return e=bl,[4,Oh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(kr.b)(i,void 0,void 0,(function(){var e;return Object(kr.e)(this,(function(n){switch(n.label){case 0:return e=wl,[4,Oh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(id(c),l,h,u)}function pf(t,e){return function(t,e){var n=this,r=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(kr.b)(n,void 0,void 0,(function(){var n;return Object(kr.e)(this,(function(i){switch(i.label){case 0:return n=Ml,[4,Ih(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(id(t),e)}function gf(t,e,n){var r=n.docs.get(e._key),i=new hf(t);return new Bd(t,i,e._key,r,new qd(n.hasPendingWrites,n.fromCache),e.converter)}var mf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(kr.d)(e,t),e.prototype.get=function(e){var n=this,r=lf(e,this._firestore),i=new hf(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Bd(n._firestore,i,r._key,t._document,new qd(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=vd(t)}return t.prototype.get=function(t){var e=this,n=lf(t,this._firestore),r=new uf(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return qr();var i=t[0];if(i.isFoundDocument())return new Fd(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Fd(e._firestore,r,n._key,null,n.converter);throw qr()}))},t.prototype.set=function(t,e,n){var r=lf(t,this._firestore),i=af(r.converter,e,n),o=bd(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=lf(t,this._firestore);return o="string"==typeof(e=Object(E.h)(e))||e instanceof ud?Td(this._dataReader,"Transaction.update",s._key,e,n,r):Od(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=lf(t,this._firestore);return this._transaction.delete(e._key),this},t}());function yf(){if("undefined"==typeof Uint8Array)throw new Dr(Pr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function vf(){if("undefined"==typeof atob)throw new Dr(Pr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var bf=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return vf(),new t(cd.fromBase64String(e))},t.fromUint8Array=function(e){return yf(),new t(cd.fromUint8Array(e))},t.prototype.toBase64=function(){return vf(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return yf(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),wf=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ad(t=zh(t,rd));var n=id(t),r=t._freezeSettings(),i=new fh;return sd(n,i,new hh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ad(t=zh(t,rd));var e=id(t),n=t._freezeSettings(),r=new fh;return sd(e,r,new dh(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Dr(Pr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ca;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(kr.b)(e,void 0,void 0,(function(){var e;return Object(kr.e)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(kr.b)(this,void 0,void 0,(function(){return Object(kr.e)(this,(function(e){switch(e.label){case 0:return Ta.yt()?[4,Ta.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Fu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),_f=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Ah||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Vr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=zh(t,$h))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Vr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(E.d)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Dr(Pr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Dh(new Nh(o,new gc(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(kr.b)(e,void 0,void 0,(function(){var e,n;return Object(kr.e)(this,(function(r){switch(r.label){case 0:return[4,Eh(t)];case 1:return e=r.sent(),[4,Ch(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Hr(t);return e.Or.delete(0),qc(e)}(n))]}}))}))}))}(id(zh(this._delegate,rd)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(kr.b)(e,void 0,void 0,(function(){var e,n;return Object(kr.e)(this,(function(r){switch(r.label){case 0:return[4,Eh(t)];case 1:return e=r.sent(),[4,Ch(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(kr.b)(this,void 0,void 0,(function(){var e;return Object(kr.e)(this,(function(n){switch(n.label){case 0:return(e=Hr(t)).Or.add(0),[4,Bc(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(id(zh(this._delegate,rd)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Uh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(kr.b)(e,void 0,void 0,(function(){var e;return Object(kr.e)(this,(function(r){switch(r.label){case 0:return e=Bl,[4,Ih(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(id(zh(this._delegate,rd)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new ph(e);return t.asyncQueue.enqueueAndForget((function(){return Object(kr.b)(n,void 0,void 0,(function(){var e;return Object(kr.e)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Hr(t).Gr.add(e),e.next()},[4,Oh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(kr.b)(n,void 0,void 0,(function(){var e;return Object(kr.e)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Hr(t).Gr.delete(e)},[4,Oh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(id(t=zh(t,rd)),nd(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new Dr(Pr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Rf(this,Yh(this._delegate,t))}catch(t){throw Tf(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Of(this,Zh(this._delegate,t))}catch(t){throw Tf(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Nf(this,function(t,e){if(t=zh(t,$h),Fh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Dr(Pr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Gh(t,null,function(t){return new Zi(ei.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Tf(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(kr.b)(n,void 0,void 0,(function(){var n;return Object(kr.e)(this,(function(i){switch(i.label){case 0:return[4,function(t){return _h(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new mh(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(id(t),(function(n){return e(new mf(t,n))}))}(this._delegate,(function(n){return t(new Sf(e,n))}))},t.prototype.batch=function(){var t=this;return id(this._delegate),new Cf(new cf(this._delegate,(function(e){return pf(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Dr(Pr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Dr(Pr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Ef=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(kr.d)(e,t),e.prototype.convertBytes=function(t){return new bf(new cd(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Of.tu(e,this.firestore,null)},e}(sf),Sf=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Ef(t)}return t.prototype.get=function(t){var e=this,n=Mf(t);return this._delegate.get(n).then((function(t){return new Af(e._firestore,new Bd(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Mf(t);return n?(Vh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Mf(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(kr.g)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Mf(t);return this._delegate.delete(e),this},t}(),Cf=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Mf(t);return n?(Vh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Mf(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(kr.g)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Mf(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),If=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Hd(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new kf(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Ef(e),n),i.set(n,o)),o},t}();If.nu=new WeakMap;var Of=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ef(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new Dr(Pr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Kh(n._delegate,r,new gi(e)))},t.tu=function(e,n,r){return new t(n,new Kh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Rf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Rf(this.firestore,Yh(this._delegate,t))}catch(t){throw Tf(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(E.h)(t))instanceof Kh&&Jh(this._delegate,t)},t.prototype.set=function(t,e){e=Vh("DocumentReference.set",e);try{return function(t,e,n){t=zh(t,Kh);var r=zh(t.firestore,rd),i=af(t.converter,e,n);return pf(r,[bd(vd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Po.none())])}(this._delegate,t,e)}catch(t){throw Tf(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?df(this._delegate,t):df.apply(void 0,Object(kr.g)([this._delegate,t,e],n))}catch(t){throw Tf(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return pf(zh((t=this._delegate).firestore,rd),[new Ko(t._key,Po.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xf(e),i=jf(e,(function(e){return new Af(t.firestore,new Bd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return ff(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=zh(t,Kh);var e=zh(t.firestore,rd),n=id(e),r=new hf(e);return function(t,e){var n=this,r=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(kr.b)(n,void 0,void 0,(function(){var n;return Object(kr.e)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(kr.b)(this,void 0,void 0,(function(){var r,i;return Object(kr.e)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Hr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Dr(Pr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=fl(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Sh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Bd(e,r,t._key,n,new qd(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=zh(t,Kh);var e=zh(t.firestore,rd);return Th(id(e),t._key,{source:"server"}).then((function(n){return gf(e,t,n)}))}(this._delegate):function(t){t=zh(t,Kh);var e=zh(t.firestore,rd);return Th(id(e),t._key).then((function(n){return gf(e,t,n)}))}(this._delegate)).then((function(t){return new Af(e.firestore,new Bd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?If.eu(this.firestore,e):null))},t}();function Tf(t,e,n){return t.message=t.message.replace(e,n),t}function xf(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!nd(r))return r}return{}}function jf(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=nd(t[0])?t[0]:nd(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Af=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Of(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Qd(this._delegate,t._delegate)},t}(),kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(kr.d)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Af),Nf=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ef(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Gd(this._delegate,function(t,e,n){var r=e,i=Ud("where",t);return new Xd(i,r,n)}(e,n,r)))}catch(e){throw Tf(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Gd(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Ud("orderBy",t);return new Yd(r,n)}(e,n)))}catch(e){throw Tf(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Gd(this._delegate,function(t){return Wh("limit",t),new Zd("limit",t,"F")}(e)))}catch(e){throw Tf(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Gd(this._delegate,function(t){return Wh("limitToLast",t),new Zd("limitToLast",t,"L")}(e)))}catch(e){throw Tf(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Gd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jd("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Tf(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Gd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jd("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Tf(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Gd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tf("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Tf(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Gd(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tf("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Tf(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return td(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=zh(t,Gh);var e=zh(t.firestore,rd),n=id(e),r=new hf(e);return function(t,e){var n=this,r=new Ca;return t.asyncQueue.enqueueAndForget((function(){return Object(kr.b)(n,void 0,void 0,(function(){var n;return Object(kr.e)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(kr.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(kr.e)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ju(t,e,!0)];case 1:return a=u.sent(),r=new jl(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=fl(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Sh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new zd(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=zh(t,Gh);var e=zh(t.firestore,rd),n=id(e),r=new hf(e);return xh(n,t._query,{source:"server"}).then((function(n){return new zd(e,r,t,n)}))}(this._delegate):function(t){t=zh(t,Gh);var e=zh(t.firestore,rd),n=id(e),r=new hf(e);return $d(t._query),xh(n,t._query).then((function(n){return new zd(e,r,t,n)}))}(this._delegate)).then((function(t){return new Df(e.firestore,new zd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xf(e),i=jf(e,(function(e){return new Df(t.firestore,new zd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return ff(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?If.eu(this.firestore,e):null))},t}(),Pf=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new kf(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Df=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Nf(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new kf(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Pf(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new kf(n._firestore,r))}))},t.prototype.isEqual=function(t){return Qd(this._delegate,t._delegate)},t}(),Rf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(kr.d)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Of(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Of(this.firestore,void 0===t?Zh(this._delegate):Zh(this._delegate,t))}catch(t){throw Tf(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=zh(t.firestore,rd),r=Zh(t),i=af(t.converter,e);return pf(n,[bd(vd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Po.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Of(e.firestore,t)}))},e.prototype.isEqual=function(t){return Jh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?If.eu(this.firestore,t):null))},e}(Nf);function Mf(t){return zh(t,Kh)}var Lf,Ff=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(ud.bind.apply(ud,Object(kr.g)([void 0],t)))}return t.documentId=function(){return new t(ri.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(E.h)(t))instanceof ud&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Vf=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Ed("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new wd("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sd("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cd("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Id("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Uf=n("/6Yf"),qf={Firestore:_f,GeoPoint:hd,Timestamp:Gr,Blob:bf,Transaction:Sf,WriteBatch:Cf,DocumentReference:Of,DocumentSnapshot:Af,Query:Nf,QueryDocumentSnapshot:kf,QuerySnapshot:Df,CollectionReference:Rf,FieldPath:Ff,FieldValue:Vf,setLogLevel:function(t){Rr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Uf.a("firestore",(function(t){return function(t,e){return new _f(t,new rd(t,e),new wf)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},qf)))})(Lf=_.a),Lf.registerVersion("@firebase/firestore","2.3.6");var Bf=n("VRCc");function Hf(t,e){return function(t,e=i.b){return new o.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function zf(t,e){return Hf(t,e).pipe(Object(f.a)(t=>({payload:t,type:"query"})))}function Wf(t,e){return zf(t,e).pipe(Object(u.a)(void 0),l(),Object(f.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Qf(t,e,n){return Wf(t,n).pipe(Object(p.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return $f(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return $f(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $f(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Object(g.a)(),Object(f.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function $f(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Kf(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Gf{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Wf(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(f.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(u.a)(void 0),l(),Object(m.a)(([t,e])=>e.length>0||!t),Object(f.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(p.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Kf(t);return Qf(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return zf(this.query,this.afs.schedulers.outsideAngular).pipe(Object(f.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(s.a)(this.query.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Xf(this.ref.doc(t),this.afs)}}class Xf{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=np(n,e);return new Gf(r,i,this.afs)}snapshotChanges(){return Hf(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(u.a)(void 0),l(),Object(f.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(f.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(s.a)(this.ref.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}}class Yf{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Wf(this.query,this.afs.schedulers.outsideAngular).pipe(Object(f.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(m.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Wf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(p.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Kf(t);return Qf(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return zf(this.query,this.afs.schedulers.outsideAngular).pipe(Object(f.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(s.a)(this.query.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}}const Zf=new r.InjectionToken("angularfire2.enableFirestorePersistence"),Jf=new r.InjectionToken("angularfire2.firestore.persistenceSettings"),tp=new r.InjectionToken("angularfire2.firestore.settings"),ep=new r.InjectionToken("angularfire2.firestore.use-emulator");function np(t,e=(t=>t)){return{query:e(t),ref:t}}let rp=(()=>{class t{constructor(t,e,n,r,i,o,u,c,l){this.schedulers=new v.d(o),this.keepUnstableUntilFirst=Object(v.h)(this.schedulers);const h=Object(v.g)(t,o,e);!w.a.auth&&l&&Object(v.j)();const d=c;[this.firestore,this.persistenceEnabled$]=Object(v.f)(h.name+".firestore","AngularFirestore",h,()=>{const t=o.runOutsideAngular(()=>h.firestore());if(r&&t.settings(r),d&&t.useEmulator(...d),n&&!Object(b.o)(i)){const e=()=>{try{return Object(s.a)(t.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(Lf){return"undefined"!=typeof console&&console.warn(Lf),Object(a.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(a.a)(!1)]},[r,d,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=np(n,e),o=this.schedulers.ngZone.run(()=>r);return new Gf(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Yf(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Xf(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](v.c),r["\u0275\u0275inject"](v.b,8),r["\u0275\u0275inject"](Zf,8),r["\u0275\u0275inject"](tp,8),r["\u0275\u0275inject"](r.PLATFORM_ID),r["\u0275\u0275inject"](r.NgZone),r["\u0275\u0275inject"](Jf,8),r["\u0275\u0275inject"](ep,8),r["\u0275\u0275inject"](Bf.c,8))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({factory:function(){return new t(r["\u0275\u0275inject"](v.c),r["\u0275\u0275inject"](v.b,8),r["\u0275\u0275inject"](Zf,8),r["\u0275\u0275inject"](tp,8),r["\u0275\u0275inject"](r.PLATFORM_ID),r["\u0275\u0275inject"](r.NgZone),r["\u0275\u0275inject"](Jf,8),r["\u0275\u0275inject"](ep,8),r["\u0275\u0275inject"](Bf.c,8))},token:t,providedIn:"any"}),t})(),ip=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Zf,useValue:!0},{provide:Jf,useValue:e}]}}}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[rp]}),t})()},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},xbPD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t=null){return e=>e.lift(new o(t))}class o{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new s(t,this.defaultValue))}}class s extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.7",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.6.26",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J"),i=n("AytR"),o=n("SVse");class s extends o.p{constructor(){super()}supportsDOMEvents(){return!0}}class a extends s{static makeCurrent(){Object(o.t)(new a)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=c||(c=document.querySelector("base"),c)?c.getAttribute("href"):null;return null==e?null:(n=e,u||(u=document.createElement("a")),u.setAttribute("href",n),"/"===u.pathname.charAt(0)?u.pathname:"/"+u.pathname);var n}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(o.s)(document.cookie,t)}}let u,c=null;const l=new r.InjectionToken("TRANSITION_ID"),h=[{provide:r.APP_INITIALIZER,useFactory:function(t,e,n){return()=>{n.get(r.ApplicationInitStatus).donePromise.then(()=>{const n=Object(o.r)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[l,o.d,r.Injector],multi:!0}];class d{static init(){Object(r.setTestabilityGetter)(new d)}addToWindow(t){r["\u0275global"].getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r["\u0275global"].getAllAngularTestabilities=()=>t.getAllTestabilities(),r["\u0275global"].getAllAngularRootElements=()=>t.getAllRootElements(),r["\u0275global"].frameworkStabilizers||(r["\u0275global"].frameworkStabilizers=[]),r["\u0275global"].frameworkStabilizers.push(t=>{const e=r["\u0275global"].getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Object(o.r)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const f=new r.InjectionToken("EventManagerPlugins");let p=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](f),r["\u0275\u0275inject"](r.NgZone))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();class g{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Object(o.r)().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let m=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),y=(()=>{class t extends m{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(o.r)().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](o.d))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function w(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?w(t,i,n):(i=i.replace(b,t),n.push(i))}return n}function _(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let E=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new S(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ViewEncapsulation.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new C(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.ViewEncapsulation.Native:case r.ViewEncapsulation.ShadowDom:return new I(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=w(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](p),r["\u0275\u0275inject"](y),r["\u0275\u0275inject"](r.APP_ID))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();class S{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(v[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=v[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=v[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,i&r.RendererStyleFlags2.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_(n)):this.eventManager.addEventListener(t,e,_(n))}}class C extends S{constructor(t,e,n,r){super(t),this.component=n;const i=w(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class I extends S{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.ViewEncapsulation.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=w(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let O=(()=>{class t extends g{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](o.d))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const T=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},A={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let k=(()=>{class t extends g{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(o.r)().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(T.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&j.hasOwnProperty(e)&&(e=j[e]))}return x[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),T.forEach(r=>{r!=n&&(0,A[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](o.d))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const N=[{provide:r.PLATFORM_ID,useValue:o.q},{provide:r.PLATFORM_INITIALIZER,useValue:function(){a.makeCurrent(),d.init()},multi:!0},{provide:o.d,useFactory:function(){return Object(r["\u0275setDocument"])(document),document},deps:[]}],P=Object(r.createPlatformFactory)(r.platformCore,"browser",N),D=[[],{provide:r["\u0275INJECTOR_SCOPE"],useValue:"root"},{provide:r.ErrorHandler,useFactory:function(){return new r.ErrorHandler},deps:[]},{provide:f,useClass:O,multi:!0,deps:[o.d,r.NgZone,r.PLATFORM_ID]},{provide:f,useClass:k,multi:!0,deps:[o.d]},[],{provide:E,useClass:E,deps:[p,y,r.APP_ID]},{provide:r.RendererFactory2,useExisting:E},{provide:m,useExisting:y},{provide:y,useClass:y,deps:[o.d]},{provide:r.Testability,useClass:r.Testability,deps:[r.NgZone]},{provide:p,useClass:p,deps:[f,r.NgZone]},[]];let R=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.APP_ID,useValue:e.appId},{provide:l,useExisting:r.APP_ID},h]}}}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)(r["\u0275\u0275inject"](t,12))},providers:D,imports:[o.c,r.ApplicationModule]}),t})();"undefined"!=typeof window&&window;var M=n("iInd");const L=[{path:"auth",loadChildren:()=>Promise.all([n.e(2),n.e(0),n.e(7)]).then(n.bind(null,"Yj9t")).then(t=>t.AuthModule)},{path:"",loadChildren:()=>Promise.all([n.e(2),n.e(10)]).then(n.bind(null,"fo52")).then(t=>t.TemplateModule)},{path:"**",redirectTo:""}];let F=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[M.d.forRoot(L)],M.d]}),t})();var V=n("mrSG"),U=n("9a8T"),q=n.n(U),B=n("aHzT"),H=n("e1JD"),z=n("aeTR");let W=(()=>{class t{constructor(t,e){this.store=t,this.sessionService=e,this.title="final-project-angular"}ngOnInit(){q.a.init(),this.initValues()}initValues(){return Object(V.b)(this,void 0,void 0,(function*(){yield this.store.dispatch(new B.b(!!this.sessionService.getSession())).toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](H.g),r["\u0275\u0275directiveInject"](z.a))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r["\u0275\u0275element"](0,"router-outlet")},directives:[M.e],styles:[""]}),t})();var Q=n("T6vt"),$=n("jmUF"),K=n("VRCc"),G=n("wD+u");class X{}const Y="*";function Z(t,e=null){return{type:2,steps:t,options:e}}function J(t){return{type:6,styles:t,offset:null}}function tt(t){Promise.resolve(null).then(t)}class et{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class nt{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?tt(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function rt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function it(t){switch(t.length){case 0:return new et;case 1:return t[0];default:return new nt(t)}}function ot(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case Y:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),c=l,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function st(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&at(n,"start",t)));break;case"done":t.onDone(()=>r(n&&at(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&at(n,"destroy",t)))}}function at(t,e,n){const r=n.totalTime,i=ut(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function ut(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function ct(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function lt(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let ht=(t,e)=>!1,dt=(t,e)=>!1,ft=(t,e,n)=>[];const pt=rt();(pt||"undefined"!=typeof Element)&&(ht=(t,e)=>t.contains(e),dt=(()=>{if(pt||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):dt}})(),ft=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let gt=null,mt=!1;const yt=dt,vt=ht,bt=ft;let wt=(()=>{class t{validateStyleProperty(t){return function(t){gt||(gt=("undefined"!=typeof document?document.body:null)||{},mt=!!gt.style&&"WebkitAppearance"in gt.style);let e=!0;return gt.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in gt.style,!e&&mt)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in gt.style),e}(t)}matchesElement(t,e){return yt(t,e)}containsElement(t,e){return vt(t,e)}query(t,e,n){return bt(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new et(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),_t=(()=>{class t{}return t.NOOP=new wt,t})();const Et="ng-enter",St="ng-leave",Ct="ng-trigger",It=".ng-trigger",Ot="ng-animating",Tt=".ng-animating";function xt(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jt(parseFloat(e[1]),e[2])}function jt(t,e){switch(e){case"s":return 1e3*t;default:return t}}function At(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=jt(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=jt(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function kt(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Nt(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else kt(t,n);return n}function Pt(t,e,n){return n?e+":"+n+";":""}function Dt(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Pt(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Pt(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Rt(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Ht(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),rt()&&Dt(t))}function Mt(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Ht(e);t.style[n]=""}),rt()&&Dt(t))}function Lt(t){return Array.isArray(t)?1==t.length?t[0]:Z(t):t}const Ft=new RegExp("{{\\s*(.+?)\\s*}}","g");function Vt(t){let e=[];if("string"==typeof t){let n;for(;n=Ft.exec(t);)e.push(n[1]);Ft.lastIndex=0}return e}function Ut(t,e,n){const r=t.toString(),i=r.replace(Ft,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function qt(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Bt=/-+([a-z0-9])/g;function Ht(t){return t.replace(Bt,(...t)=>t[1].toUpperCase())}function zt(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}const Wt="*";function Qt(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(Gt(i,s)),"<"!=o[0]||i==Wt&&s==Wt||e.push(Gt(s,i))}(t,n,e)):n.push(t),n}const $t=new Set(["true","1"]),Kt=new Set(["false","0"]);function Gt(t,e){const n=$t.has(t)||Kt.has(t),r=$t.has(e)||Kt.has(e);return(i,o)=>{let s=t==Wt||t==i,a=e==Wt||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?$t.has(t):Kt.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?$t.has(e):Kt.has(e)),s&&a}}const Xt=new RegExp("s*:selfs*,?","g");function Yt(t,e,n){return new Zt(t).build(e,n)}class Zt{constructor(t){this._driver=t}build(t,e){const n=new Jt(e);return this._resetContextStyleTimingState(n),zt(this,Lt(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(te(t)){const e=t;Object.keys(e).forEach(t=>{Vt(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=qt(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=zt(this,Lt(t.animation),e);return{type:1,matchers:Qt(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:ee(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>zt(this,t,e)),options:ee(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=zt(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:ee(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ne(At(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=ne(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||At(r,e),ne(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:J({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=J(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Y?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(te(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Vt(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(te(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(te(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:zt(this,Lt(t.animation),e),options:ee(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ee(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ee(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Xt,"")),[t=t.replace(/@\*/g,It).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Tt),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,ct(e.collectedStyles,e.currentQuerySelector,{});const s=zt(this,Lt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:ee(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:At(t.timings,e.errors,!0);return{type:12,animation:zt(this,Lt(t.animation),e),timings:n,options:null}}}class Jt{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function te(t){return!Array.isArray(t)&&"object"==typeof t}function ee(t){var e;return t?(t=kt(t)).params&&(t.params=(e=t.params)?kt(e):null):t={},t}function ne(t,e,n){return{duration:t,delay:e,easing:n}}function re(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class ie{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const oe=new RegExp(":enter","g"),se=new RegExp(":leave","g");function ae(t,e,n,r,i,o={},s={},a,u,c=[]){return(new ue).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}class ue{buildKeyframes(t,e,n,r,i,o,s,a,u,c=[]){u=u||new ie;const l=new le(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),zt(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[re(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?xt(n.duration):null,o=null!=n.delay?xt(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),zt(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ce);const t=xt(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>zt(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?xt(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),zt(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return At(e.params?Ut(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?xt(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ce);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),zt(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;zt(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const ce={};class le{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ce,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new he(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=xt(n.duration)),null!=n.delay&&(r.delay=xt(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Ut(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new le(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=ce,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new de(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(oe,"."+this._enterClassName)).replace(se,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class he{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new he(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Y,this._currentKeyframe[t]=Y}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Y})):Nt(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Ut(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Y),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=Nt(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==Y&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?qt(t.values()):[],o=e.size?qt(e.values()):[];if(n){const t=r[0],e=kt(t);t.offset=0,e.offset=1,r=[t,e]}return re(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class de extends he{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=Nt(t[0],!1);a.offset=0,i.push(a);const u=Nt(t[0],!1);u.offset=fe(s),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let s=Nt(t[r],!1);s.offset=fe((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return re(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function fe(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class pe{}class ge extends pe{normalizePropertyName(t,e){return Ht(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(me[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const me=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ye(t,e,n,r,i,o,s,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const ve={};class be{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||ve,d=this.buildStyles(n,s&&s.params||ve,l),f=a&&a.params||ve,p=this.buildStyles(r,f,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},w=c?[]:ae(t,e,this.ast.animation,i,o,d,p,b,u,l);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return ye(e,this._triggerName,n,r,v,d,p,[],[],m,y,_,l);w.forEach(t=>{const n=t.element,r=ct(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=ct(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=qt(g.values());return ye(e,this._triggerName,n,r,v,d,p,w,E,m,y,_)}}class we{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=kt(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=Ut(o,r,e)),n[t]=o})}}),n}}class _e{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new we(t.style,t.options&&t.options.params||{})}),Ee(this.states,"true","1"),Ee(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new be(t,e,this.states))}),this.fallbackTransition=new be(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Ee(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Se=new ie;class Ce{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Yt(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=ot(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=ae(this._driver,e,i,Et,St,{},{},n,Se,r),o.forEach(t=>{const e=ct(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Y)})});const a=it(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=ut(e,"","","");return st(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Ie="ng-animate-queued",Oe="ng-animate-disabled",Te=".ng-animate-disabled",xe=[],je={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class ke{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=kt(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Ne="void",Pe=new ke(Ne);class De{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,qe(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=ct(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=ct(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(qe(t,Ct),qe(t,"ng-trigger-"+e),a[e]=Pe),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new Me(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(qe(t,Ct),qe(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new ke(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=Pe),u.value!==Ne&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Mt(t,n),Rt(t,r)})}return}const c=ct(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(qe(t,Ie),o.onStart(()=>{Be(t,Ie)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,It,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Ne,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&it(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||Pe,s=new ke(Ne),a=new Me(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==je||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){qe(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=ut(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,st(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Re{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new De(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Le(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Le(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),qe(t,Oe)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Be(t,Oe))}removeNode(t,e,n,r){if(Le(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Le(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,It,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Tt,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return it(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=je,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Te)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Te,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)qe(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?it(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new ie,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Ue(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Et+p++;f.set(e,n),t.forEach(t=>qe(t,n))});const g=[],m=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=Ue(h,Array.from(m));b.forEach((t,e)=>{const n=St+p++;v.set(e,n),t.forEach(t=>qe(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Be(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Be(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>Mt(i,p.fromStyles)),e.onDestroy(()=>Rt(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Mt(i,p.fromStyles)),e.onDestroy(()=>Rt(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>ct(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{ct(E,e,[]).push(t),t.destroy()})});const C=g.filter(t=>ze(t,a,u)),I=new Map;Ve(I,this.driver,y,u,Y).forEach(t=>{ze(t,a,u)&&C.push(t)});const O=new Map;d.forEach((t,e)=>{Ve(O,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=I.get(t),n=O.get(t);I.set(t,Object.assign(Object.assign({},e),n))});const T=[],x=[],j={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>Rt(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=j;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,E,i,O,I);if(o.setRealPlayer(n),t===j)T.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=it(e)),r.push(o)}}else Mt(e,s.fromStyles),o.onDestroy(()=>Rt(e,s.toStyles)),x.push(o),c.has(e)&&r.push(o)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=it(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(Be(t,St),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Tt,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?He(this,t,r):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Ne;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=ct(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Mt(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new et(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof nt?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||xe).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=o.get(h),y=ot(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new Me(t,s,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{ct(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>qe(t,Ot));const d=it(h);return d.onDestroy(()=>{c.forEach(t=>Be(t,Ot)),Rt(a,e.toStyles)}),l.forEach(t=>{ct(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new et(t.duration,t.delay)}}class Me{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new et,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>st(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ct(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Le(t){return t&&1===t.nodeType}function Fe(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ve(t,e,n,r,i){const o=[];n.forEach(t=>o.push(Fe(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Ae,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>Fe(t,o[a++])),s}function Ue(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function qe(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Be(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function He(t,e,n){it(n).onDone(()=>t.processLeaveNode(e))}function ze(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class We{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Re(t,e,n),this._timelineEngine=new Ce(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=Yt(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new _e(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=lt(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=lt(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Qe=(()=>{class t extends X{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Z(t):t;return Ge(this._renderer,null,e,"register",[n]),new $e(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](r.RendererFactory2),r["\u0275\u0275inject"](o.d))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();class $e extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ke(this._id,t,e||{},this._renderer)}}class Ke{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ge(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Ge(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Xe="@",Ye="@.disabled";let Ze=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Je("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new tn(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](r.RendererFactory2),r["\u0275\u0275inject"](We),r["\u0275\u0275inject"](r.NgZone))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();class Je{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Xe&&e==Ye?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class tn extends Je{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Xe?"."==e.charAt(1)&&e==Ye?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Xe){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=Xe&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let en=(()=>{class t extends We{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](o.d),r["\u0275\u0275inject"](_t),r["\u0275\u0275inject"](pe))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();const nn=[{provide:_t,useClass:wt},{provide:new r.InjectionToken("AnimationModuleType"),useValue:"NoopAnimations"},{provide:X,useClass:Qe},{provide:pe,useFactory:function(){return new ge}},{provide:We,useClass:en},{provide:r.RendererFactory2,useFactory:function(t,e,n){return new Ze(t,e,n)},deps:[E,We,r.NgZone]}];let rn=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:nn,imports:[R]}),t})();var on=n("JIr8"),sn=n("vkgz");const an=new r.InjectionToken("NGXS_DEVTOOLS_OPTIONS");let un=(()=>{class t{constructor(t,e){this._options=t,this._injector=e,this.devtoolsExtension=null,this.windowObj="undefined"!=typeof window?window:{};const n=this.windowObj.__REDUX_DEVTOOLS_EXTENSION__||this.windowObj.devToolsExtension;n&&(this.devtoolsExtension=n.connect(t),this.devtoolsExtension.subscribe(t=>this.dispatched(t)))}get store(){return this._injector.get(H.g)}handle(t,e,n){return!this.devtoolsExtension||this._options&&this._options.disabled?n(t,e):n(t,e).pipe(Object(on.a)(n=>{const r=this.store.snapshot();throw this.sendToDevTools(t,e,r),n}),Object(sn.a)(n=>{this.sendToDevTools(t,e,n)}))}sendToDevTools(t,e,n){const r=Object(H.h)(e);"@@INIT"===r?this.devtoolsExtension.init(t):this.devtoolsExtension.send(Object.assign({},e,{action:null,type:r}),n)}dispatched(t){if("DISPATCH"===t.type){if("JUMP_TO_ACTION"===t.payload.type||"JUMP_TO_STATE"===t.payload.type){const e=JSON.parse(t.state);this.store.reset(e)}else if("TOGGLE_ACTION"===t.payload.type)console.warn("Skip is not supported at this time.");else if("IMPORT_STATE"===t.payload.type){const{actionsById:e,computedStates:n,currentStateIndex:r}=t.payload.nextLiftedState;this.devtoolsExtension.init(n[0].state),Object.keys(e).filter(t=>"0"!==t).forEach(t=>this.devtoolsExtension.send(e[t],n[t].state)),this.store.reset(n[r].state)}}else if("ACTION"===t.type){const e=JSON.parse(t.payload);this.store.dispatch(e)}}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](an),r["\u0275\u0275inject"](r.Injector))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();function cn(t){return Object.assign({name:"NGXS"},t)}const ln=new r.InjectionToken("USER_OPTIONS");let hn=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:H.b,useClass:un,multi:!0},{provide:ln,useValue:e},{provide:an,useFactory:cn,deps:[ln]}]}}}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)}}),t})(),dn=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t,bootstrap:[W]}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[],imports:[[R,F,Q.b,$.a.initializeApp(i.a.firebaseConfig),K.b,G.b,rn,H.c.forRoot([B.a]),hn.forRoot()]]}),t})();i.a.production&&Object(r.enableProdMode)(),P().bootstrapModule(dn).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,1]]]);